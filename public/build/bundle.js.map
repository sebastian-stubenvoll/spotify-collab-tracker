{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte-infinite-loading/src/Spinner.svelte","../../node_modules/svelte-infinite-loading/src/InfiniteLoading.svelte","../../src/utils/utils.js","../../settings.js","../../src/utils/spotify_utils.js","../../node_modules/jsstore/dist/jsstore.commonjs2.js","../../node_modules/jsstore/dist/npm.export.js","../../node_modules/jsstore/dist/jsstore.worker.commonjs2.js","../../node_modules/jsstore/dist/worker_injector/index.js","../../node_modules/svelte/store/index.mjs","../../src/stores.js","../../src/utils/data.js","../../node_modules/date-fns/esm/_lib/requiredArgs/index.js","../../node_modules/date-fns/esm/toDate/index.js","../../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js","../../node_modules/date-fns/esm/compareAsc/index.js","../../node_modules/date-fns/esm/differenceInCalendarMonths/index.js","../../node_modules/date-fns/esm/differenceInMilliseconds/index.js","../../node_modules/date-fns/esm/endOfDay/index.js","../../node_modules/date-fns/esm/endOfMonth/index.js","../../node_modules/date-fns/esm/isLastDayOfMonth/index.js","../../node_modules/date-fns/esm/differenceInMonths/index.js","../../node_modules/date-fns/esm/differenceInSeconds/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js","../../node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js","../../node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/match/index.js","../../node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js","../../node_modules/date-fns/esm/locale/en-US/index.js","../../node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js","../../node_modules/date-fns/esm/_lib/cloneObject/index.js","../../node_modules/date-fns/esm/_lib/assign/index.js","../../node_modules/date-fns/esm/formatDistance/index.js","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../node_modules/svelte/animate/index.mjs","../../node_modules/@zerodevx/svelte-toast/src/stores.js","../../node_modules/svelte/motion/index.mjs","../../node_modules/@zerodevx/svelte-toast/src/ToastItem.svelte","../../node_modules/@zerodevx/svelte-toast/src/SvelteToast.svelte","../../src/components/Filters.svelte","../../src/components/Feed.svelte","../../src/modals/Privacy.svelte","../../src/modals/CloseButton.svelte","../../src/components/Login.svelte","../../src/components/Modal.svelte","../../node_modules/strict-uri-encode/index.js","../../node_modules/decode-uri-component/index.js","../../node_modules/split-on-first/index.js","../../node_modules/filter-obj/index.js","../../node_modules/query-string/index.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : context || []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : options.context || []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.37.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n\texport let spinner = '';\n</script>\n\n{#if spinner === 'bubbles'}\n\n\t<!-- BUBBLES -->\n\t<span class=\"loading-bubbles\">\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t\t<span class=\"bubble-item\"></span>\n\t</span>\n\n{:else if spinner === 'circles'}\n\n\t<!-- CIRCLES -->\n\t<span class=\"loading-circles\">\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t\t<span class=\"circle-item\"></span>\n\t</span>\n\n{:else if spinner === 'spiral'}\n\n\t<!-- SPIRAL -->\n\t<i class=\"loading-spiral\"></i>\n\n{:else if spinner === 'wavedots'}\n\n\t<!-- WAVEDOTS -->\n\t<span class=\"loading-wave-dots\">\n\t\t<span class=\"wave-item\"></span>\n\t\t<span class=\"wave-item\"></span>\n\t\t<span class=\"wave-item\"></span>\n\t\t<span class=\"wave-item\"></span>\n\t\t<span class=\"wave-item\"></span>\n\t</span>\n\n{:else}\n\n\t<!-- DEFAULT -->\n\t<i class=\"loading-default\"></i>\n\n{/if}\n\n<style>\n\t/* THIS IS THE COMPILED spinner.less STYLESHEET FROM vue-infinite-loading */\n\t/* COMPILED BECAUSE OTHERWISE THE USER WOULD HAVE TO ADD AN less PREPROCESSOR */\n\n\n\t.loading-wave-dots {\n\t\t/*\n\t\t$size: 8px;\n\t\t$wave: -6px;\n\t\t$delay: .14s;\n\t\t*/\n\n\t\tposition: relative;\n\t}\n\n\t.loading-wave-dots .wave-item {\n\t\tposition:          absolute;\n\t\ttop:               50%;\n\t\tleft:              50%;\n\t\tdisplay:           inline-block;\n\t\tmargin-top:        -4px; /*  = -$size / 2  */\n\t\twidth:             8px; /*  = $size  */\n\t\theight:            8px; /*  = $size  */\n\t\tborder-radius:     50%;\n\t\t-webkit-animation: loading-wave-dots linear 2.8s infinite;\n\t\tanimation:         loading-wave-dots linear 2.8s infinite;\n\t}\n\n\t.loading-wave-dots .wave-item:first-child {\n\t\tmargin-left: -36px; /*  = -$size/2 + -$size * 4  */\n\t}\n\n\t.loading-wave-dots .wave-item:nth-child(2) {\n\t\tmargin-left:             -20px; /*  = -$size/2 + -$size * 2  */\n\t\t-webkit-animation-delay: 0.14s; /*  = $delay  */\n\t\tanimation-delay:         0.14s; /*  = $delay  */\n\t}\n\n\t.loading-wave-dots .wave-item:nth-child(3) {\n\t\tmargin-left:             -4px; /*  = -$size/2  */\n\t\t-webkit-animation-delay: 0.28s; /*  = $delay * 2  */\n\t\tanimation-delay:         0.28s; /*  = $delay * 2  */\n\t}\n\n\t.loading-wave-dots .wave-item:nth-child(4) {\n\t\tmargin-left:             12px; /*  = -$size/2 + $size * 2  */\n\t\t-webkit-animation-delay: 0.42s; /*  = $delay * 3  */\n\t\tanimation-delay:         0.42s; /*  = $delay * 3  */\n\t}\n\n\t.loading-wave-dots .wave-item:last-child {\n\t\tmargin-left:             28px; /*  = -$size/2 + $size * 4  */\n\t\t-webkit-animation-delay: 0.56s; /*  = $delay * 4  */\n\t\tanimation-delay:         0.56s; /*  = $delay * 4  */\n\t}\n\n\t@-webkit-keyframes loading-wave-dots {\n\t\t0% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t\t10% {\n\t\t\t-webkit-transform: translateY(-6px); /*  = translateY($wave)  */\n\t\t\ttransform:         translateY(-6px); /*  = translateY($wave)  */\n\t\t\tbackground:        #999;\n\t\t}\n\t\t20% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t}\n\n\t@keyframes loading-wave-dots {\n\t\t0% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t\t10% {\n\t\t\t-webkit-transform: translateY(-6px); /*  = translateY($wave)  */\n\t\t\ttransform:         translateY(-6px); /*  = translateY($wave)  */\n\t\t\tbackground:        #999;\n\t\t}\n\t\t20% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: translateY(0);\n\t\t\ttransform:         translateY(0);\n\t\t\tbackground:        #bbb;\n\t\t}\n\t}\n\n\n\t/*\n\t.loading-circles {\n\t\t$size: 5px;\n\t\t$radius: 12px;\n\t\t$shallow: 56%;\n\t\t$c-basic: #505050;\n\t}\n\t*/\n\n\t.loading-circles .circle-item {\n\t\twidth:             5px; /*  = $size  */\n\t\theight:            5px; /*  = $size  */\n\t\t-webkit-animation: loading-circles linear .75s infinite;\n\t\tanimation:         loading-circles linear .75s infinite;\n\t}\n\n\t.loading-circles .circle-item:first-child {\n\t\tmargin-top:  -14.5px; /*  = -$size/2 + -$radius  */\n\t\tmargin-left: -2.5px; /*  = -$size/2  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(2) {\n\t\tmargin-top:  -11.26px; /*  = -$size/2 + -$radius * .73  */\n\t\tmargin-left: 6.26px; /*  = -$size/2 + $radius * .73  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(3) {\n\t\tmargin-top:  -2.5px; /*  = -$size/2  */\n\t\tmargin-left: 9.5px; /*  = -$size/2 + $radius  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(4) {\n\t\tmargin-top:  6.26px; /*  = -$size/2 + $radius * .73  */\n\t\tmargin-left: 6.26px; /*  = -$size/2 + $radius * .73  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(5) {\n\t\tmargin-top:  9.5px; /*  = -$size/2 + $radius  */\n\t\tmargin-left: -2.5px; /*  = -$size/2  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(6) {\n\t\tmargin-top:  6.26px; /*  = -$size/2 + $radius * .73  */\n\t\tmargin-left: -11.26px; /*  = -$size/2 + -$radius * .73  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(7) {\n\t\tmargin-top:  -2.5px; /*  = -$size/2  */\n\t\tmargin-left: -14.5px; /*  = -$size/2 + -$radius  */\n\t}\n\n\t.loading-circles .circle-item:last-child {\n\t\tmargin-top:  -11.26px; /*  = -$size/2 + -$radius * .73  */\n\t\tmargin-left: -11.26px; /*  = -$size/2 + -$radius * .73  */\n\t}\n\n\t@-webkit-keyframes loading-circles {\n\t\t0% {\n\t\t\tbackground: #dfdfdf; /*  = lighten($c-basic, $shallow)  */\n\t\t}\n\t\t90% {\n\t\t\tbackground: #505050; /*  = $c-basic  */\n\t\t}\n\t\t100% {\n\t\t\tbackground: #dfdfdf; /*  = lighten($c-basic, $shallow)  */\n\t\t}\n\t}\n\n\t@keyframes loading-circles {\n\t\t0% {\n\t\t\tbackground: #dfdfdf; /*  = lighten($c-basic, $shallow)  */\n\t\t}\n\t\t90% {\n\t\t\tbackground: #505050; /*  = $c-basic  */\n\t\t}\n\t\t100% {\n\t\t\tbackground: #dfdfdf; /*  = lighten($c-basic, $shallow)  */\n\t\t}\n\t}\n\n\n\t/*\n\t.loading-bubbles {\n\t\t$size: 1px;\n\t\t$radius: 12px;\n\t\t$shallow: 3px;\n\t\t$c-basic: #666;\n\t}\n\t*/\n\n\t.loading-bubbles .bubble-item {\n\t\tbackground:        #666; /*  = $c-basic  */\n\t\t-webkit-animation: loading-bubbles linear .75s infinite;\n\t\tanimation:         loading-bubbles linear .75s infinite;\n\t}\n\n\t.loading-bubbles .bubble-item:first-child {\n\t\tmargin-top:  -12.5px; /*  = -$size/2 + -$radius  */\n\t\tmargin-left: -0.5px; /*  = -$size/2  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(2) {\n\t\tmargin-top:  -9.26px; /*  = -$size/2 + -$radius * .73  */\n\t\tmargin-left: 8.26px; /*  = -$size/2 + $radius * .73  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(3) {\n\t\tmargin-top:  -0.5px; /*  = -$size/2  */\n\t\tmargin-left: 11.5px; /*  = -$size/2 + $radius  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(4) {\n\t\tmargin-top:  8.26px; /*  = -$size/2 + $radius * .73  */\n\t\tmargin-left: 8.26px; /*  = -$size/2 + $radius * .73  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(5) {\n\t\tmargin-top:  11.5px; /*  = -$size/2 + $radius  */\n\t\tmargin-left: -0.5px; /*  = -$size/2  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(6) {\n\t\tmargin-top:  8.26px; /*  = -$size/2 + $radius * .73  */\n\t\tmargin-left: -9.26px; /*  = -$size/2 + -$radius * .73  */\n\t}\n\n\t.loading-bubbles .bubble-item:nth-child(7) {\n\t\tmargin-top:  -0.5px; /*  = -$size/2  */\n\t\tmargin-left: -12.5px; /*  = -$size/2 + -$radius  */\n\t}\n\n\t.loading-bubbles .bubble-item:last-child {\n\t\tmargin-top:  -9.26px; /*  = -$size/2 + -$radius * .73  */\n\t\tmargin-left: -9.26px; /*  = -$size/2 + -$radius * .73  */\n\t}\n\n\t@-webkit-keyframes loading-bubbles {\n\t\t0% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 3px #666; /*  = 0 0 0 $shallow $c-basic  */\n\t\t}\n\t\t90% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 0 #666; /*  = 0 0 0 0 $c-basic  */\n\t\t}\n\t\t100% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 3px #666; /*  = 0 0 0 $shallow $c-basic  */\n\t\t}\n\t}\n\n\t@keyframes loading-bubbles {\n\t\t0% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 3px #666; /*  = 0 0 0 $shallow $c-basic  */\n\t\t}\n\t\t90% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 0 #666; /*  = 0 0 0 0 $c-basic  */\n\t\t}\n\t\t100% {\n\t\t\twidth:      1px;\n\t\t\theight:     1px;\n\t\t\tbox-shadow: 0 0 0 3px #666; /*  = 0 0 0 $shallow $c-basic  */\n\t\t}\n\t}\n\n\n\n\t/* default adjust-huener */\n\t.loading-default {\n\t\tposition:          relative;\n\t\tborder:            1px solid #999;\n\t\t-webkit-animation: loading-rotating ease 1.5s infinite;\n\t\tanimation:         loading-rotating ease 1.5s infinite;\n\t}\n\n\t.loading-default:before {\n\t\t/*\n\t\t$size: 6px\n\t\t*/\n\n\t\tcontent:          '';\n\t\tposition:         absolute;\n\t\tdisplay:          block;\n\t\ttop:              0;\n\t\tleft:             50%;\n\t\tmargin-top:       -3px; /*  = -$size/2  */\n\t\tmargin-left:      -3px; /*  = -$size/2  */\n\t\twidth:            6px; /*  = $size  */\n\t\theight:           6px; /*  = $size  */\n\t\tbackground-color: #999;\n\t\tborder-radius:    50%;\n\t}\n\n\t/* spiral adjust-huener */\n\t.loading-spiral {\n\t\tborder:             2px solid #777;\n\t\tborder-right-color: transparent;\n\t\t-webkit-animation:  loading-rotating linear .85s infinite;\n\t\tanimation:          loading-rotating linear .85s infinite;\n\t}\n\n\t@-webkit-keyframes loading-rotating {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0);\n\t\t\ttransform:         rotate(0);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform:         rotate(360deg);\n\t\t}\n\t}\n\n\t@keyframes loading-rotating {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0);\n\t\t\ttransform:         rotate(0);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform:         rotate(360deg);\n\t\t}\n\t}\n\n\t/* common styles for the bubble adjust-huener and circle adjust-huener */\n\t.loading-bubbles,\n\t.loading-circles {\n\t\tposition: relative;\n\t}\n\n\t.loading-circles .circle-item,\n\t.loading-bubbles .bubble-item {\n\t\t/*\n\t\t$delay: .093s\n\t\t*/\n\n\t\tposition:      absolute;\n\t\ttop:           50%;\n\t\tleft:          50%;\n\t\tdisplay:       inline-block;\n\t\tborder-radius: 50%;\n\t}\n\n\t.loading-circles .circle-item:nth-child(2),\n\t.loading-bubbles .bubble-item:nth-child(2) {\n\t\t-webkit-animation-delay: 0.093s; /*  = $delay  */\n\t\tanimation-delay:         0.093s; /*  = $delay  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(3),\n\t.loading-bubbles .bubble-item:nth-child(3) {\n\t\t-webkit-animation-delay: 0.186s; /*  = $delay * 2  */\n\t\tanimation-delay:         0.186s; /*  = $delay * 2  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(4),\n\t.loading-bubbles .bubble-item:nth-child(4) {\n\t\t-webkit-animation-delay: 0.279s; /*  = $delay * 3  */\n\t\tanimation-delay:         0.279s; /*  = $delay * 3  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(5),\n\t.loading-bubbles .bubble-item:nth-child(5) {\n\t\t-webkit-animation-delay: 0.372s; /*  = $delay * 4  */\n\t\tanimation-delay:         0.372s; /*  = $delay * 4  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(6),\n\t.loading-bubbles .bubble-item:nth-child(6) {\n\t\t-webkit-animation-delay: 0.465s; /*  = $delay * 5  */\n\t\tanimation-delay:         0.465s; /*  = $delay * 5  */\n\t}\n\n\t.loading-circles .circle-item:nth-child(7),\n\t.loading-bubbles .bubble-item:nth-child(7) {\n\t\t-webkit-animation-delay: 0.558s; /*  = $delay * 6  */\n\t\tanimation-delay:         0.558s; /*  = $delay * 6  */\n\t}\n\n\t.loading-circles .circle-item:last-child,\n\t.loading-bubbles .bubble-item:last-child {\n\t\t-webkit-animation-delay: 0.651s; /*  = $delay * 7  */\n\t\tanimation-delay:         0.651s; /*  = $delay * 7  */\n\t}\n\n\t.loading-bubbles,\n\t.loading-circles,\n\t.loading-spiral,\n\t.loading-wave-dots,\n\t.loading-default {\n\t\t/*\n\t\t$size: 28px\n\t\t*/\n\n\t\tdisplay:       inline-block;\n\t\tmargin:        5px 0;\n\t\twidth:         28px; /*  = $size  */\n\t\theight:        28px; /*  = $size  */\n\t\tfont-size:     28px; /*  = $size  */\n\t\tline-height:   28px; /*  = $size  */\n\t\tborder-radius: 50%;\n\t}\n</style>","<script context=\"module\">\n\n\tconst THROTTLE_LIMIT = 50;\n\tconst LOOP_CHECK_TIMEOUT = 1000;\n\tconst LOOP_CHECK_MAX_CALLS = 10;\n\n\tconst ERROR_INFINITE_LOOP = [\n\t\t`executed the callback function more than ${LOOP_CHECK_MAX_CALLS} times for a short time, it looks like searched a wrong scroll wrapper that doest not has fixed height or maximum height, please check it. If you want to force to set a element as scroll wrapper rather than automatic searching, you can do this:`,\n\t\t'<!-- add a special attribute for the real scroll wrapper (can also be data-infinite-wrapper) -->',\n\t\t'<div infinite-wrapper>',\n\t\t'  ...',\n\t\t'  <!-- set forceUseInfiniteWrapper -->',\n\t\t'  <InfiniteLoading forceUseInfiniteWrapper>',\n\t\t'</div>',\n\t\t'or',\n\t\t'<div class=\"infinite-wrapper\">',\n\t\t'  ...',\n\t\t'  <!-- set forceUseInfiniteWrapper as css selector of the real scroll wrapper -->',\n\t\t'  <InfiniteLoading forceUseInfiniteWrapper=\".infinite-wrapper\" />',\n\t\t'</div>',\n\t].join('\\n');\n\n\n\t/**\n\t * the third argument for event bundler\n\t * @see https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n\t */\n\tconst thirdEventArg = (() => {\n\t\tlet result = false;\n\n\t\ttry {\n\t\t\tconst arg = Object.defineProperty({}, 'passive', {\n\t\t\t\tget() {\n\t\t\t\t\tresult = { passive: true };\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener('testpassive', arg, arg);\n\t\t\twindow.remove('testpassive', arg, arg);\n\t\t} catch (e) { /* */\n\t\t}\n\n\t\treturn result;\n\t})();\n\n\n\tconst throttler = {\n\t\ttimers: [],\n\t\tcaches: [],\n\n\t\tthrottle(fn) {\n\t\t\tif (this.caches.indexOf(fn) === -1) {\n\t\t\t\t// cache current handler\n\t\t\t\tthis.caches.push(fn);\n\n\t\t\t\t// save timer for current handler\n\t\t\t\tthis.timers.push(setTimeout(() => {\n\t\t\t\t\tfn();\n\n\t\t\t\t\t// empty cache and timer\n\t\t\t\t\tthis.caches.splice(this.caches.indexOf(fn), 1);\n\t\t\t\t\tthis.timers.shift();\n\t\t\t\t}, THROTTLE_LIMIT));\n\t\t\t}\n\t\t},\n\n\t\treset() {\n\t\t\t// reset all timers\n\t\t\tthis.timers.forEach((timer) => {\n\t\t\t\tclearTimeout(timer);\n\t\t\t});\n\t\t\tthis.timers.length = 0;\n\n\t\t\t// empty caches\n\t\t\tthis.caches = [];\n\t\t},\n\t};\n\n\n\tconst loopTracker = {\n\t\tisChecked: false,\n\t\ttimer:     null,\n\t\ttimes:     0,\n\n\t\ttrack() {\n\t\t\t// record track times\n\t\t\tthis.times += 1;\n\n\t\t\t// try to mark check status\n\t\t\tclearTimeout(this.timer);\n\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tthis.isChecked = true;\n\t\t\t}, LOOP_CHECK_TIMEOUT);\n\n\t\t\t// throw warning if the times of continuous calls large than the maximum times\n\t\t\tif (this.times > LOOP_CHECK_MAX_CALLS) {\n\t\t\t\tconsole.error(ERROR_INFINITE_LOOP);\n\t\t\t\tthis.isChecked = true;\n\t\t\t}\n\t\t},\n\t};\n\n\n\tconst scrollBarStorage = {\n\t\tkey: '_infiniteScrollHeight',\n\n\t\tgetScrollElement(element) {\n\t\t\treturn element === window ? document.documentElement : element;\n\t\t},\n\n\t\tsave(element) {\n\t\t\tconst target = this.getScrollElement(element);\n\n\t\t\t// save scroll height on the scroll parent\n\t\t\ttarget[this.key] = target.scrollHeight;\n\t\t},\n\n\t\trestore(element) {\n\t\t\tconst target = this.getScrollElement(element);\n\n\t\t\t/* istanbul ignore else */\n\t\t\tif (typeof target[this.key] === 'number') {\n\t\t\t\ttarget.scrollTop = target.scrollHeight - target[this.key] + target.scrollTop;\n\t\t\t}\n\n\t\t\tthis.remove(target);\n\t\t},\n\n\t\tremove(element) {\n\t\t\tif (element[this.key] !== undefined) {\n\t\t\t\t// remove scroll height\n\t\t\t\tdelete element[this.key]; // eslint-disable-line no-param-reassign\n\t\t\t}\n\t\t},\n\t};\n\n\n\tfunction isVisible(element) {\n\t\treturn (element.offsetWidth + element.offsetHeight) > 0;\n\t}\n</script>\n\n<script>\n\timport { onMount, onDestroy, tick, createEventDispatcher } from 'svelte';\n\timport Spinner from './Spinner.svelte';\n\n\tconst dispatch = createEventDispatcher();\n\n\tconst STATUS = {\n\t\tREADY:    0,\n\t\tLOADING:  1,\n\t\tCOMPLETE: 2,\n\t\tERROR:    3,\n\t};\n\n\texport let distance = 100;\n\texport let spinner = 'default';\n\texport let direction = 'bottom';\n\texport let forceUseInfiniteWrapper = false;\n\texport let identifier = +new Date();\n\n\tlet isFirstLoad = true; // save the current loading whether it is the first loading\n\tlet status = STATUS.READY;\n\tlet mounted = false;\n\tlet thisElement;\n\tlet scrollParent;\n\n\t$: showSpinner = status === STATUS.LOADING;\n\t$: showError = status === STATUS.ERROR;\n\t$: showNoResults = status === STATUS.COMPLETE && isFirstLoad;\n\t$: showNoMore = status === STATUS.COMPLETE && !isFirstLoad;\n\n\tconst stateChanger = {\n\t\tloaded: async () => {\n\t\t\tisFirstLoad = false;\n\n\t\t\tif (direction === 'top') {\n\t\t\t\t// wait for DOM updated\n\t\t\t\tawait tick();\n\n\t\t\t\tscrollBarStorage.restore(scrollParent);\n\t\t\t}\n\n\t\t\tif (status === STATUS.LOADING) {\n\t\t\t\tawait tick();\n\t\t\t\tawait attemptLoad(true);\n\t\t\t}\n\t\t},\n\n\t\tcomplete: async () => {\n\t\t\tstatus = STATUS.COMPLETE;\n\n\t\t\t// force re-complation computed properties to fix the problem of get slot text delay\n\t\t\tawait tick();\n\n\t\t\tscrollParent.removeEventListener('scroll', scrollHandler, thirdEventArg);\n\t\t},\n\n\t\treset: async () => {\n\t\t\tstatus = STATUS.READY;\n\t\t\tisFirstLoad = true;\n\n\t\t\tscrollBarStorage.remove(scrollParent);\n\n\t\t\tscrollParent.addEventListener('scroll', scrollHandler, thirdEventArg);\n\n\t\t\t// wait for list to be empty and the empty action may trigger a scroll event\n\t\t\tsetTimeout(() => {\n\t\t\t\tthrottler.reset();\n\t\t\t\tscrollHandler();\n\t\t\t}, 1);\n\t\t},\n\n\t\terror: () => {\n\t\t\tstatus = STATUS.ERROR;\n\t\t\tthrottler.reset();\n\t\t},\n\t};\n\n\n\tfunction scrollHandler(event) {\n\t\tif (status === STATUS.READY) {\n\t\t\tif (event && event.constructor === Event && isVisible(thisElement)) {\n\t\t\t\tthrottler.throttle(attemptLoad);\n\t\t\t} else {\n\t\t\t\tattemptLoad();\n\t\t\t}\n\t\t}\n\t}\n\n\t// Attempt to trigger load\n\tasync function attemptLoad(isContinuousCall) {\n\t\tif (status !== STATUS.COMPLETE && isVisible(thisElement) && getCurrentDistance() <= distance) {\n\t\t\tstatus = STATUS.LOADING;\n\n\t\t\tif (direction === 'top') {\n\t\t\t\t// wait for spinner display\n\t\t\t\tawait tick();\n\n\t\t\t\tscrollBarStorage.save(scrollParent);\n\t\t\t}\n\n\t\t\tdispatch('infinite', stateChanger);\n\n\t\t\tif (isContinuousCall && !forceUseInfiniteWrapper && !loopTracker.isChecked) {\n\t\t\t\t// check this component whether be in an infinite loop if it is not checked\n\t\t\t\tloopTracker.track();\n\t\t\t}\n\t\t} else if (status === STATUS.LOADING) {\n\t\t\tstatus = STATUS.READY;\n\t\t}\n\t}\n\n\t// Get current distance from the specified direction\n\tfunction getCurrentDistance() {\n\t\tlet distance;\n\n\t\tif (direction === 'top') {\n\t\t\tdistance = typeof scrollParent.scrollTop === 'number' ? scrollParent.scrollTop : scrollParent.pageYOffset;\n\t\t} else {\n\t\t\tconst infiniteElementOffsetTopFromBottom = thisElement.getBoundingClientRect().top;\n\t\t\tconst scrollElementOffsetTopFromBottom = scrollParent === window ? window.innerHeight : scrollParent.getBoundingClientRect().bottom;\n\n\t\t\tdistance = infiniteElementOffsetTopFromBottom - scrollElementOffsetTopFromBottom;\n\t\t}\n\n\t\treturn distance;\n\t}\n\n\t// Get the first scroll parent of an element\n\tfunction getScrollParent(element = thisElement) {\n\t\tlet result;\n\n\t\tif (typeof forceUseInfiniteWrapper === 'string') {\n\t\t\tresult = document.querySelector(forceUseInfiniteWrapper);\n\t\t}\n\n\t\tif (!result) {\n\t\t\tif (element.tagName === 'BODY') {\n\t\t\t\tresult = window;\n\t\t\t} else if (!forceUseInfiniteWrapper && ['scroll', 'auto'].indexOf(getComputedStyle(element).overflowY) > -1) {\n\t\t\t\tresult = element;\n\t\t\t} else if (element.hasAttribute('infinite-wrapper') || element.hasAttribute('data-infinite-wrapper')) {\n\t\t\t\tresult = element;\n\t\t\t}\n\t\t}\n\n\t\treturn result || getScrollParent(element.parentNode);\n\t}\n\n\tfunction updateScrollParent() {\n\t\tif (mounted) scrollParent = getScrollParent();\n\t}\n\n\tfunction identifierUpdated() {\n\t\tif (mounted) stateChanger.reset();\n\t}\n\n\t// Watch forceUseInfiniteWrapper and mounted\n\t$: forceUseInfiniteWrapper, mounted, updateScrollParent();\n\n\t// Watch identifier and mounted\n\t$: identifier, mounted, identifierUpdated();\n\n\tonMount(async () => {\n\t\tmounted = true;\n\n\t\tsetTimeout(() => {\n\t\t\tscrollHandler();\n\t\t\tscrollParent.addEventListener('scroll', scrollHandler, thirdEventArg);\n\t\t}, 1);\n\t});\n\n\tonDestroy(() => {\n\t\tif (mounted && status !== STATUS.COMPLETE) {\n\t\t\tthrottler.reset();\n\t\t\tscrollBarStorage.remove(scrollParent);\n\t\t\tscrollParent.removeEventListener('scroll', scrollHandler, thirdEventArg);\n\t\t}\n\t});\n</script>\n\n<div class=\"infinite-loading-container\" bind:this={thisElement}>\n\t{#if showSpinner}\n\t\t<div class=\"infinite-status-prompt\">\n\t\t\t<slot name=\"spinner\" {isFirstLoad}>\n\t\t\t\t<Spinner {spinner} />\n\t\t\t</slot>\n\t\t</div>\n\t{/if}\n\n\t{#if showNoResults}\n\t\t<div class=\"infinite-status-prompt\">\n\t\t\t<slot name=\"noResults\">\n\t\t\t\tNo results :(\n\t\t\t</slot>\n\t\t</div>\n\t{/if}\n\n\t{#if showNoMore}\n\t\t<div class=\"infinite-status-prompt\">\n\t\t\t<slot name=\"noMore\">\n\t\t\t\tNo more data :)\n\t\t\t</slot>\n\t\t</div>\n\t{/if}\n\n\t{#if showError}\n\t\t<div class=\"infinite-status-prompt\">\n\t\t\t<slot name=\"error\" {attemptLoad}>\n\t\t\t\tOops, something went wrong :(\n\t\t\t\t<br>\n\t\t\t\t<button class=\"btn-try-infinite\" on:click={attemptLoad}>\n\t\t\t\t\tRetry\n\t\t\t\t</button>\n\t\t\t</slot>\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.infinite-loading-container {\n\t\tclear:      both;\n\t\ttext-align: center;\n\t}\n\n\t.btn-try-infinite {\n\t\tmargin-top:    5px;\n\t\tpadding:       5px 10px;\n\t\tcolor:         #999;\n\t\tfont-size:     14px;\n\t\tline-height:   1;\n\t\tbackground:    transparent;\n\t\tborder:        1px solid #ccc;\n\t\tborder-radius: 3px;\n\t\toutline:       none;\n\t\tcursor:        pointer;\n\t}\n\n\t.btn-try-infinite:not(:active):hover {\n\t\topacity: 0.8;\n\t}\n</style>\n","function dec2hex(dec) {\n  return ('0' + dec.toString(16)).substr(-2)\n}\n\nexport function generateRandomString() {\n  const array = new Uint32Array(56/2);\n  window.crypto.getRandomValues(array);\n  return Array.from(array, dec2hex).join('');\n}\n\nfunction sha256(plain) { // returns promise ArrayBuffer\n  const encoder = new TextEncoder();\n  const data = encoder.encode(plain);\n  return window.crypto.subtle.digest('SHA-256', data);\n}\n\nfunction base64urlencode(a) {\n    // Convert the ArrayBuffer to string using Uint8 array.\n    // btoa takes chars from 0-255 and base64 encodes.\n    // Then convert the base64 encoded to base64url encoded.\n    // (replace + with -, replace / with _, trim trailing =)\n    return btoa(String.fromCharCode.apply(null, new Uint8Array(a)))\n        .replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+$/, '');\n}\n\nexport async function challenge_from_verifier(v) {\n  const hashed = await sha256(v);\n  const base64encoded = base64urlencode(hashed);\n  return base64encoded;\n}\n\nexport function to_unix(ts) {\n  const unix = Date.parse(ts)\n  return unix\n}\n","export const clientID = '0a004f36100a460ca97d2d99f485af2f';\nexport const redirect_uri = 'https://sebastian-stubenvoll.github.io/spotify-collab-tracker';\nexport const pushURL = '/spotify-collab-tracker';\n//export const redirect_uri = 'http://localhost:5000';\n//export const pushURL = '/';\n","import { generateRandomString, challenge_from_verifier, to_unix } from './utils.js';\nimport { clientID, redirect_uri } from '../../settings.js';\n\n//******************************\n//*******AUTHENTIFICATION*******\n//******************************\n\nexport let token;\nlet refresh;\nlet expires_in;\nlet refresh_interval;\n\nfunction createVerifier() {\n    const v = generateRandomString();\n    localStorage.setItem('verifier', v);\n    return v\n};\n\nasync function createChallenge(v) {\n    const c = await challenge_from_verifier(v)\n    return 'code_challenge=' + c\n};\n\nexport async function createAuthURL () {\n    const prefix = 'https://accounts.spotify.com/authorize?';\n    const cID = 'client_id=' + clientID;\n    const response_type = 'response_type=' + 'code';\n    const callback = 'redirect_uri=' + encodeURIComponent(redirect_uri);\n    const code_challenge_method = 'code_challenge_method=' + 'S256';\n    const s = generateRandomString();\n    localStorage.setItem('state', s);\n    const ps = 'state=' + s\n    const scope = 'scope=' + encodeURIComponent('playlist-read-private playlist-read-collaborative');\n    const c = await createChallenge(createVerifier());\n    const params = [cID, response_type, callback, c, code_challenge_method, ps, scope].join('&');\n    const url = prefix + params\n    return url;\n}\n\n\nexport async function getAccessToken(params) {\n    if (params.state != localStorage.getItem('state')) {\n        return false\n    } else {\n        let postBody = [];\n        const details = {\n            'client_id' : clientID,\n            'grant_type' : 'authorization_code',\n            'code' : params.code,\n            'redirect_uri' : redirect_uri,\n            'code_verifier' : localStorage.getItem('verifier')\n        };\n        for (let property in details) {\n            const encodedKey = encodeURIComponent(property);\n            const encodedValue = encodeURIComponent(details[property]);\n            postBody.push(encodedKey + '=' + encodedValue);\n        }\n        postBody = postBody.join('&'); \n        const endpoint = 'https://accounts.spotify.com/api/token';\n        const res = await fetch(endpoint, {\n            method: 'POST',\n            headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n            body: postBody\n        });\n        if (res.status != 200) {\n            return false\n        } else {\n            const json = await res.json()\n            token = json.access_token;\n            refresh = json.refresh_token;\n            expires_in = json.expires_in*1000;\n            localStorage.removeItem('verifier');\n            refresh_interval = setInterval(refreshAccessToken, expires_in - (expires_in*0.1));\n            return true\n        }\n    }\n};\n\n\nconst refreshAccessToken = async function () {\n    clearInterval(refresh_interval);\n    console.log('Refreshing access token...');\n    const endpoint = 'https://accounts.spotify.com/api/token';\n    let postBody = [];\n    const details = {\n        'grant_type' : 'refresh_token',\n        'refresh_token' : refresh,\n        'client_id' : clientID\n    };\n    for (let property in details) {\n        const encodedKey = encodeURIComponent(property);\n        const encodedValue = encodeURIComponent(details[property]);\n        postBody.push(encodedKey + '=' + encodedValue);\n    }\n    postBody = postBody.join('&');\n    const res =  await fetch(endpoint, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n        body: postBody\n    });\n    const json = await res.json();\n    token = json.access_token;\n    refresh = json.refresh_token;\n    expires_in = json.expires_in*1000;\n    refresh_interval = setInterval(refreshAccessToken, expires_in - (expires_in*0.1));\n};\n\n\n//******************************\n//*********API FUNCTIONS********\n//******************************\nfunction authHeader (auth) {\n    const header = {'Authorization' : 'Bearer ' + auth};\n    return header\n}\n\nexport async function playlistRequests (auth, playlists_input) {\n    let endpoint = 'https://api.spotify.com/v1/me/playlists?limit=20';\n    let send = true;\n    let playlists = playlists_input;\n    let delta = {'update' : {}, 'remove' : {}};\n\n    while (send) {\n        const res = await fetch(endpoint, {\n            method: 'GET',\n            headers : authHeader(auth)\n        });\n        const json = await res.json();\n        for (let pl of json.items) {\n            const pid = pl.id;\n            const psn = pl.snapshot_id;\n            const pco = pl.collaborative;\n            if (pco) {\n                if (!playlists.hasOwnProperty(pid)) {\n                    delta.update[pid] = psn; \n                } else {\n                    if (playlists[pid] != psn) {\n                        delta['update'][pid] = psn;\n                    }\n                    delete playlists[pid];\n                }\n            }\n            if (json.next != null) {\n                endpoint = json.next;\n            } else {\n                send = false;\n            }    \n        }\n    }\n    delta.remove = playlists; \n    return delta\n}\n\nexport async function songRequests (auth, playlists_input) {\n    let endpoint = 'https://api.spotify.com/v1/playlists/'\n    const playlists = playlists_input;    \n    const params = {\n        market: 'from_token',\n        limit : '100',\n        fields : 'name,id,external_urls,tracks.items(is_local,track(duration_ms,external_urls,name,popularity,id),added_at,added_by(id,external_urls,href),track.album(external_urls,name),track.artists(external_urls,name)),tracks(limit,next,offset)'\n    };\n    const altparams = {\n        market: 'from_token',\n        limit : '100',\n        fields : 'items(is_local,track(duration_ms,external_urls,name,popularity,id),added_at,added_by(id,external_urls,href),track.album(external_urls,name),track.artists(external_urls,name)),limit,next,offset'\n    };\n\n    let usernames = {};\n    let results = [];\n\n    for (let pl in playlists) {\n        let send = true;\n        let url = new URL(endpoint + pl)\n        let current_params = params;\n        let container = undefined;\n        url.search = new URLSearchParams(current_params).toString();\n\n        while (send) {\n            const res = await fetch(url, {\n                method: 'GET',\n                headers : authHeader(auth)\n            });\n            let json = await res.json();\n            if (container != undefined) {\n                container.tracks.items = json.items;\n                container.tracks.next = json.next; \n                json = container;\n            }\n            for (let track of json.tracks.items) {\n                try {\n                    const unix = to_unix(track.added_at);\n\n                    const subm_id = track.added_by.id;\n                    const subm_link = track.added_by.external_urls.spotify;\n\n                    const tr_title = track.track.name;\n                    const tr_link = track.track.external_urls.spotify;\n                    const tr_popularity = track.track.popularity;\n                    const tr_islocal = track.is_local;\n                    const tr_id = track.track.id;\n                    const tr_duration = track.track.duration_ms;\n\n                    const alb_name = track.track.album.name;\n                    const alb_link = track.track.album.external_urls.spotify;\n\n                    const pl_name = json.name;\n                    const pl_link = json.external_urls.spotify;\n                    const pl_id = json.id;\n\n                    let artists = [];\n                    for (let artist of track.track.artists) {\n                        artists.push({name : artist.name, link : artist.external_urls.spotify});\n                    } \n\n                    if (!usernames.hasOwnProperty(subm_id)) {\n                        usernames[subm_id] = await getUsername(auth, subm_id);\n                    }\n                    const subm_name = usernames[subm_id][0];\n                    let subm_images;\n                    try {\n                        subm_images = usernames[subm_id][1][0];\n                    } catch {\n                        subm_images = null;\n                    }\n\n                    const identifier = `${unix} ${pl_id} ${tr_id}`;\n\n                    const result = {\n                        uid : identifier,\n                        unix : unix,\n                        subm_name : subm_name,\n                        subm_id : subm_id,\n                        subm_link : subm_link,\n                        subm_images : subm_images,\n                        song_title : tr_title,\n                        song_link : tr_link,\n                        song_popularity : tr_popularity,\n                        song_duration : tr_duration,\n                        song_islocal : tr_islocal,\n                        song_id : tr_id,\n                        album_name : alb_name,\n                        album_link : alb_link,\n                        artists : artists,\n                        playlist_name : pl_name,\n                        playlist_link : pl_link,\n                        playlist_id : pl_id\n                    };\n\n                    results.push(result);\n                } catch {\n                    //pass\n                }\n\n            }   \n            if (json.tracks.next != null) {\n                url = new URL(json.tracks.next);\n                container = json;\n                current_params = altparams;\n            } else {\n                send = false;\n            }\n        }\n    }\n    return { songs : results }\n}\n\n\nasync function getUsername (auth, subm_id) {\n    const url = 'https://api.spotify.com/v1/users/' + subm_id;\n    const res = await fetch(url, {\n        method: 'GET',\n        headers: authHeader(auth)\n    });\n    const json = await res.json();\n    const output = [json.display_name, json.images];\n    return output\n}\n","/*!\n * @license :jsstore - V4.2.6 - 21/06/2021\n * https://github.com/ujjwalguptaofficial/JsStore\n * Copyright (c) 2021 @Ujjwal Gupta; Licensed MIT\n */\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"Connection\", function() { return /* reexport */ connection_Connection; });\n__webpack_require__.d(__webpack_exports__, \"ERROR_TYPE\", function() { return /* reexport */ ERROR_TYPE; });\n__webpack_require__.d(__webpack_exports__, \"WORKER_STATUS\", function() { return /* reexport */ WORKER_STATUS; });\n__webpack_require__.d(__webpack_exports__, \"DATA_TYPE\", function() { return /* reexport */ DATA_TYPE; });\n__webpack_require__.d(__webpack_exports__, \"API\", function() { return /* reexport */ API; });\n__webpack_require__.d(__webpack_exports__, \"EVENT\", function() { return /* reexport */ EVENT; });\n__webpack_require__.d(__webpack_exports__, \"QUERY_OPTION\", function() { return /* reexport */ QUERY_OPTION; });\n__webpack_require__.d(__webpack_exports__, \"IDB_MODE\", function() { return /* reexport */ IDB_MODE; });\n__webpack_require__.d(__webpack_exports__, \"OCCURENCE\", function() { return /* reexport */ OCCURENCE; });\n__webpack_require__.d(__webpack_exports__, \"CONNECTION_STATUS\", function() { return /* reexport */ CONNECTION_STATUS; });\n__webpack_require__.d(__webpack_exports__, \"promise\", function() { return /* reexport */ promise; });\n__webpack_require__.d(__webpack_exports__, \"promiseAll\", function() { return /* reexport */ promiseAll; });\n__webpack_require__.d(__webpack_exports__, \"promiseResolve\", function() { return /* reexport */ promiseResolve; });\n__webpack_require__.d(__webpack_exports__, \"forObj\", function() { return /* reexport */ forObj; });\n\n// CONCATENATED MODULE: ./src/main/log_helper.ts\nvar LogHelper = /** @class */ (function () {\n    function LogHelper(type, info) {\n        this.type = type;\n        this._info = info;\n        this.message = this.getMsg();\n    }\n    LogHelper.prototype.throw = function () {\n        throw this.get();\n    };\n    LogHelper.prototype.log = function (msg) {\n        if (this.status) {\n            console.log(msg);\n        }\n    };\n    LogHelper.prototype.logError = function () {\n        console.error(this.get());\n    };\n    LogHelper.prototype.logWarning = function () {\n        console.warn(this.get());\n    };\n    LogHelper.prototype.get = function () {\n        return {\n            message: this.message,\n            type: this.type\n        };\n    };\n    LogHelper.prototype.getMsg = function () {\n        var errMsg;\n        switch (this.type) {\n            default:\n                errMsg = this.message;\n                break;\n        }\n        return errMsg;\n    };\n    return LogHelper;\n}());\n\n\n// CONCATENATED MODULE: ./src/common/enums.ts\nvar ERROR_TYPE;\n(function (ERROR_TYPE) {\n    ERROR_TYPE[\"UndefinedColumn\"] = \"undefined_column\";\n    ERROR_TYPE[\"UndefinedValue\"] = \"undefined_value\";\n    ERROR_TYPE[\"UndefinedColumnName\"] = \"undefined_column_name\";\n    ERROR_TYPE[\"UndefinedDbName\"] = \"undefined_database_name\";\n    ERROR_TYPE[\"UndefinedColumnValue\"] = \"undefined_column_value\";\n    ERROR_TYPE[\"NotArray\"] = \"not_array\";\n    ERROR_TYPE[\"NoValueSupplied\"] = \"no_value_supplied\";\n    ERROR_TYPE[\"ColumnNotExist\"] = \"column_not_exist\";\n    ERROR_TYPE[\"EnableSearchOff\"] = \"enable_search_off\";\n    ERROR_TYPE[\"InvalidOp\"] = \"invalid_operator\";\n    ERROR_TYPE[\"NullValue\"] = \"null_value\";\n    ERROR_TYPE[\"WrongDataType\"] = \"wrong_data_type\";\n    ERROR_TYPE[\"TableNotExist\"] = \"table_not_exist\";\n    ERROR_TYPE[\"DbNotExist\"] = \"db_not_exist\";\n    ERROR_TYPE[\"ConnectionAborted\"] = \"connection_aborted\";\n    ERROR_TYPE[\"ConnectionClosed\"] = \"connection_closed\";\n    ERROR_TYPE[\"NotObject\"] = \"not_object\";\n    ERROR_TYPE[\"InvalidConfig\"] = \"invalid_config\";\n    ERROR_TYPE[\"DbBlocked\"] = \"Db_blocked\";\n    ERROR_TYPE[\"IndexedDbNotSupported\"] = \"indexeddb_not_supported\";\n    ERROR_TYPE[\"NullValueInWhere\"] = \"null_value_in_where\";\n    ERROR_TYPE[\"InvalidJoinQuery\"] = \"invalid_join_query\";\n    ERROR_TYPE[\"InvalidOrderQuery\"] = \"invalid_order_query\";\n    ERROR_TYPE[\"InvalidQuery\"] = \"invalid_query\";\n    ERROR_TYPE[\"InvalidGroupQuery\"] = \"invalid_group_query\";\n    ERROR_TYPE[\"ImportScriptsFailed\"] = \"import_scripts_failed\";\n    ERROR_TYPE[\"MethodNotExist\"] = \"method_not_exist\";\n    ERROR_TYPE[\"Unknown\"] = \"unknown\";\n    ERROR_TYPE[\"InvalidMiddleware\"] = \"invalid_middleware\";\n})(ERROR_TYPE || (ERROR_TYPE = {}));\nvar WORKER_STATUS;\n(function (WORKER_STATUS) {\n    WORKER_STATUS[\"Registered\"] = \"registerd\";\n    WORKER_STATUS[\"Failed\"] = \"failed\";\n    WORKER_STATUS[\"NotStarted\"] = \"not_started\";\n})(WORKER_STATUS || (WORKER_STATUS = {}));\nvar DATA_TYPE;\n(function (DATA_TYPE) {\n    DATA_TYPE[\"String\"] = \"string\";\n    DATA_TYPE[\"Object\"] = \"object\";\n    DATA_TYPE[\"Array\"] = \"array\";\n    DATA_TYPE[\"Number\"] = \"number\";\n    DATA_TYPE[\"Boolean\"] = \"boolean\";\n    DATA_TYPE[\"Null\"] = \"null\";\n    DATA_TYPE[\"DateTime\"] = \"date_time\";\n})(DATA_TYPE || (DATA_TYPE = {}));\nvar API;\n(function (API) {\n    API[\"InitDb\"] = \"init_db\";\n    API[\"Get\"] = \"get\";\n    API[\"Set\"] = \"set\";\n    API[\"Select\"] = \"select\";\n    API[\"Insert\"] = \"insert\";\n    API[\"Update\"] = \"update\";\n    API[\"Remove\"] = \"remove\";\n    API[\"OpenDb\"] = \"open_db\";\n    API[\"Clear\"] = \"clear\";\n    API[\"DropDb\"] = \"drop_db\";\n    API[\"Count\"] = \"count\";\n    API[\"ChangeLogStatus\"] = \"change_log_status\";\n    API[\"Terminate\"] = \"terminate\";\n    API[\"Transaction\"] = \"transaction\";\n    API[\"CloseDb\"] = \"close_db\";\n    API[\"Union\"] = \"union\";\n    API[\"Intersect\"] = \"intersect\";\n    API[\"ImportScripts\"] = \"import_scripts\";\n    API[\"Middleware\"] = \"middleware\";\n})(API || (API = {}));\nvar EVENT;\n(function (EVENT) {\n    EVENT[\"RequestQueueEmpty\"] = \"requestQueueEmpty\";\n    EVENT[\"RequestQueueFilled\"] = \"requestQueueFilled\";\n    EVENT[\"Upgrade\"] = \"upgrade\";\n    EVENT[\"Create\"] = \"create\";\n    EVENT[\"Open\"] = \"open\";\n})(EVENT || (EVENT = {}));\nvar QUERY_OPTION;\n(function (QUERY_OPTION) {\n    QUERY_OPTION[\"Where\"] = \"where\";\n    QUERY_OPTION[\"Like\"] = \"like\";\n    QUERY_OPTION[\"Regex\"] = \"regex\";\n    QUERY_OPTION[\"In\"] = \"in\";\n    QUERY_OPTION[\"Equal\"] = \"=\";\n    QUERY_OPTION[\"Between\"] = \"-\";\n    QUERY_OPTION[\"GreaterThan\"] = \">\";\n    QUERY_OPTION[\"LessThan\"] = \"<\";\n    QUERY_OPTION[\"GreaterThanEqualTo\"] = \">=\";\n    QUERY_OPTION[\"LessThanEqualTo\"] = \"<=\";\n    QUERY_OPTION[\"NotEqualTo\"] = \"!=\";\n    QUERY_OPTION[\"Aggregate\"] = \"aggregate\";\n    QUERY_OPTION[\"Max\"] = \"max\";\n    QUERY_OPTION[\"Min\"] = \"min\";\n    QUERY_OPTION[\"Avg\"] = \"avg\";\n    QUERY_OPTION[\"Count\"] = \"count\";\n    QUERY_OPTION[\"Sum\"] = \"sum\";\n    QUERY_OPTION[\"Or\"] = \"or\";\n    QUERY_OPTION[\"Skip\"] = \"skip\";\n    QUERY_OPTION[\"Limit\"] = \"limit\";\n    QUERY_OPTION[\"And\"] = \"and\";\n    QUERY_OPTION[\"IgnoreCase\"] = \"ignoreCase\";\n    QUERY_OPTION[\"Then\"] = \"then\";\n})(QUERY_OPTION || (QUERY_OPTION = {}));\nvar IDB_MODE;\n(function (IDB_MODE) {\n    IDB_MODE[\"ReadOnly\"] = \"readonly\";\n    IDB_MODE[\"ReadWrite\"] = \"readwrite\";\n})(IDB_MODE || (IDB_MODE = {}));\nvar OCCURENCE;\n(function (OCCURENCE) {\n    OCCURENCE[\"First\"] = \"f\";\n    OCCURENCE[\"Last\"] = \"l\";\n    OCCURENCE[\"Any\"] = \"a\";\n})(OCCURENCE || (OCCURENCE = {}));\nvar CONNECTION_STATUS;\n(function (CONNECTION_STATUS) {\n    CONNECTION_STATUS[\"Connected\"] = \"connected\";\n    CONNECTION_STATUS[\"Closed\"] = \"closed\";\n    CONNECTION_STATUS[\"NotStarted\"] = \"not_started\";\n    CONNECTION_STATUS[\"UnableToStart\"] = \"unable_to_start\";\n    CONNECTION_STATUS[\"ClosedByJsStore\"] = \"closed_by_jsstore\";\n})(CONNECTION_STATUS || (CONNECTION_STATUS = {}));\n\n// CONCATENATED MODULE: ./src/common/utils/promise.ts\nvar promise = function (cb) {\n    return new Promise(cb);\n};\n\n// CONCATENATED MODULE: ./src/common/utils/promise_resolve.ts\nvar promiseResolve = function (value) {\n    return Promise.resolve(value);\n};\n\n// CONCATENATED MODULE: ./src/main/event_bus.ts\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar EventBus = /** @class */ (function () {\n    function EventBus(ctx) {\n        this._events = {};\n        this._ctx = ctx;\n    }\n    EventBus.prototype.on = function (event, cb) {\n        if (this._events[event] == null) {\n            this._events[event] = [];\n        }\n        this._events[event].push(cb);\n        return this;\n    };\n    EventBus.prototype.off = function (event, cb) {\n        if (this._events[event]) {\n            if (cb) {\n                var index = this._events[event].indexOf(cb);\n                this._events[event].splice(index, 1);\n            }\n            else {\n                this._events[event] = [];\n            }\n        }\n    };\n    EventBus.prototype.emit = function (event) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var events = this._events[event] || [];\n        var index = 0;\n        var length = events.length;\n        var results = [];\n        var callMethod = function () {\n            var eventCb = events[index++];\n            if (eventCb) {\n                var result = eventCb.call.apply(eventCb, __spreadArray([_this._ctx], args));\n                return result && result.then ? result : Promise.resolve(result);\n            }\n        };\n        return new Promise(function (res) {\n            var checkAndCall = function () {\n                if (index < length) {\n                    callMethod().then(function (result) {\n                        results.push(result);\n                        checkAndCall();\n                    });\n                }\n                else {\n                    res(results);\n                }\n            };\n            checkAndCall();\n        });\n    };\n    EventBus.prototype.destroy = function () {\n        this._events = null;\n        this._ctx = null;\n    };\n    return EventBus;\n}());\n\n\n// CONCATENATED MODULE: ./src/main/connection_helper.ts\n\n\n\nvar connection_helper_ConnectionHelper = /** @class */ (function () {\n    function ConnectionHelper(worker) {\n        this.isConOpened_ = false;\n        this.isDbIdle_ = true;\n        this.requestQueue_ = [];\n        this.isCodeExecuting_ = false;\n        this.inactivityTimer_ = -1000;\n        this.middlewares = [];\n        this.eventBus_ = new EventBus(this);\n        // these apis have special permissions. These apis dont wait for database open.\n        this.whiteListApi_ = [\n            API.InitDb,\n            API.OpenDb,\n            API.Get,\n            API.Set,\n            API.ChangeLogStatus,\n            API.Terminate,\n            API.DropDb\n        ];\n        this.isRuningInWorker = true;\n        this.logger = new LogHelper(null);\n        if (worker) {\n            this.worker_ = worker;\n            this.worker_.onmessage = this.onMessageFromWorker_.bind(this);\n        }\n        else {\n            this.isRuningInWorker = false;\n            this.initQueryManager_();\n        }\n    }\n    Object.defineProperty(ConnectionHelper.prototype, \"jsstoreWorker\", {\n        get: function () {\n            return this.$worker || self['JsStoreWorker'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ConnectionHelper.prototype.initQueryManager_ = function () {\n        var workerRef = this.jsstoreWorker;\n        if (workerRef) {\n            this.queryManager = new workerRef.QueryManager(this.processFinishedQuery_.bind(this));\n        }\n    };\n    ConnectionHelper.prototype.onMessageFromWorker_ = function (msg) {\n        this.processFinishedQuery_(msg.data);\n    };\n    ConnectionHelper.prototype.processFinishedQuery_ = function (message) {\n        var finishedRequest = this.requestQueue_.shift();\n        if (finishedRequest) {\n            this.logger.log(\"request \" + finishedRequest.name + \" finished\");\n            if (message.error) {\n                finishedRequest.onError(message.error);\n            }\n            else {\n                switch (finishedRequest.name) {\n                    case API.OpenDb:\n                    case API.InitDb:\n                        this.isConOpened_ = true;\n                        break;\n                    case API.Terminate:\n                        this.isConOpened_ = false;\n                        if (this.isRuningInWorker === true) {\n                            this.worker_.terminate();\n                        }\n                    case API.DropDb:\n                        this.isConOpened_ = false;\n                        this.requestQueue_ = [];\n                        this.isDbIdle_ = true;\n                        break;\n                    case API.CloseDb:\n                        if (this.requestQueue_.length > 0) {\n                            this.openDb_();\n                        }\n                        else {\n                            this.isDbIdle_ = true;\n                            this.eventBus_.emit(EVENT.RequestQueueEmpty, []);\n                        }\n                        break;\n                }\n                finishedRequest.onSuccess(message.result);\n            }\n            this.isCodeExecuting_ = false;\n            this.executeQry_();\n        }\n    };\n    ConnectionHelper.prototype.openDb_ = function () {\n        this.prcoessExecutionOfQry_({\n            name: API.OpenDb,\n            query: {\n                name: this.database.name,\n                version: this.database.version\n            },\n            onSuccess: function () {\n            },\n            onError: function (err) {\n                console.error(err);\n            }\n        }, 0);\n    };\n    ConnectionHelper.prototype.executeMiddleware_ = function (input) {\n        var _this = this;\n        return promise(function (res) {\n            var index = 0;\n            var lastIndex = _this.middlewares.length - 1;\n            var callNextMiddleware = function () {\n                if (index <= lastIndex) {\n                    var promiseResult = _this.middlewares[index++](input);\n                    if (!promiseResult || !promiseResult.then) {\n                        promiseResult = promiseResolve(promiseResult);\n                    }\n                    promiseResult.then(function (_) {\n                        callNextMiddleware();\n                    });\n                }\n                else {\n                    res();\n                }\n            };\n            callNextMiddleware();\n        });\n    };\n    ConnectionHelper.prototype.callResultMiddleware = function (middlewares, result) {\n        return promise(function (res) {\n            var index = 0;\n            var lastIndex = middlewares.length - 1;\n            var callNextMiddleware = function () {\n                if (index <= lastIndex) {\n                    var promiseResult = middlewares[index++](result);\n                    if (!promiseResult.then) {\n                        promiseResult = promiseResolve(promiseResult);\n                    }\n                    promiseResult.then(function (modifiedResult) {\n                        result = modifiedResult;\n                        callNextMiddleware();\n                    });\n                }\n                else {\n                    res(result);\n                }\n            };\n            callNextMiddleware();\n        });\n    };\n    ConnectionHelper.prototype.pushApi = function (request) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var middlewares = [];\n            request.onResult = function (cb) {\n                middlewares.push(function (result) {\n                    return cb(result);\n                });\n            };\n            _this.executeMiddleware_(request).then(function () {\n                request.onSuccess = function (result) {\n                    _this.callResultMiddleware(middlewares, result).then(function (modifiedResult) {\n                        resolve(modifiedResult);\n                    }).catch(function (err) {\n                        request.onError(err);\n                    });\n                };\n                request.onError = function (err) {\n                    middlewares = [];\n                    reject(err);\n                };\n                if (_this.requestQueue_.length === 0) {\n                    _this.eventBus_.emit(EVENT.RequestQueueFilled, []);\n                    var isConnectionApi = [API.CloseDb, API.DropDb, API.OpenDb, API.Terminate].indexOf(request.name) >= 0;\n                    if (!isConnectionApi && _this.isDbIdle_ && _this.isConOpened_) {\n                        _this.openDb_();\n                    }\n                    else {\n                        clearTimeout(_this.inactivityTimer_);\n                    }\n                }\n                _this.prcoessExecutionOfQry_(request);\n            }).catch(reject);\n        });\n    };\n    ConnectionHelper.prototype.prcoessExecutionOfQry_ = function (request, index) {\n        this.isDbIdle_ = false;\n        if (index != null) {\n            this.requestQueue_.splice(index, 0, request);\n        }\n        else {\n            this.requestQueue_.push(request);\n        }\n        this.logger.log(\"request pushed: \" + request.name);\n        this.executeQry_();\n    };\n    ConnectionHelper.prototype.executeQry_ = function () {\n        var _this = this;\n        var requestQueueLength = this.requestQueue_.length;\n        if (!this.isCodeExecuting_ && requestQueueLength > 0) {\n            if (this.isConOpened_ === true) {\n                this.sendRequestToWorker_(this.requestQueue_[0]);\n                return;\n            }\n            var allowedQueryIndex = this.requestQueue_.findIndex(function (item) { return _this.whiteListApi_.indexOf(item.name) >= 0; });\n            // shift allowed query to zeroth index\n            if (allowedQueryIndex >= 0) {\n                this.requestQueue_.splice(0, 0, this.requestQueue_.splice(allowedQueryIndex, 1)[0]);\n                this.sendRequestToWorker_(this.requestQueue_[0]);\n            }\n        }\n        else if (requestQueueLength === 0 && this.isDbIdle_ === false && this.isConOpened_) {\n            this.inactivityTimer_ = setTimeout(function () {\n                _this.prcoessExecutionOfQry_({\n                    name: API.CloseDb,\n                    onSuccess: function () {\n                    },\n                    onError: function (err) {\n                        console.error(err);\n                    }\n                });\n            }, 100);\n        }\n    };\n    ConnectionHelper.prototype.sendRequestToWorker_ = function (request) {\n        this.isCodeExecuting_ = true;\n        this.logger.log(\"request executing: \" + request.name);\n        var requestForWorker = {\n            name: request.name,\n            query: request.query\n        };\n        if (this.isRuningInWorker === true) {\n            this.worker_.postMessage(requestForWorker);\n        }\n        else {\n            this.queryManager.run(requestForWorker);\n        }\n    };\n    return ConnectionHelper;\n}());\n\n\n// CONCATENATED MODULE: ./src/main/connection.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar connection_Connection = /** @class */ (function (_super) {\n    __extends(Connection, _super);\n    function Connection(worker) {\n        return _super.call(this, worker) || this;\n    }\n    /**\n     * initiate DataBase\n     *\n     * @param {IDataBase} dataBase\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.initDb = function (dataBase) {\n        var _this = this;\n        this.database = dataBase;\n        return this.pushApi({\n            name: API.InitDb,\n            query: dataBase\n        }).then(function (result) {\n            var promiseObj;\n            var db = result.database;\n            if (result.isCreated) {\n                if (result.oldVersion) {\n                    promiseObj = _this.eventBus_.emit(EVENT.Upgrade, db, result.oldVersion, result.newVersion);\n                }\n                else {\n                    promiseObj = _this.eventBus_.emit(EVENT.Create, db);\n                }\n            }\n            return (promiseObj || promiseResolve()).then(function (_) {\n                return _this.eventBus_.emit(EVENT.Open, db);\n            }).then(function (_) {\n                return result.isCreated;\n            });\n        });\n    };\n    /**\n     * drop dataBase\n     *\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.dropDb = function () {\n        return this.pushApi({\n            name: API.DropDb\n        });\n    };\n    /**\n     * select data from table\n     *\n     * @template T\n     * @param {ISelectQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.select = function (query) {\n        return this.pushApi({\n            name: API.Select,\n            query: query\n        });\n    };\n    /**\n     * get no of record from table\n     *\n     * @param {ICountQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.count = function (query) {\n        return this.pushApi({\n            name: API.Count,\n            query: query\n        });\n    };\n    /**\n     * insert data into table\n     *\n     * @template T\n     * @param {IInsertQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.insert = function (query) {\n        return this.pushApi({\n            name: API.Insert,\n            query: query\n        });\n    };\n    /**\n     * update data into table\n     *\n     * @param {IUpdateQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.update = function (query) {\n        return this.pushApi({\n            name: API.Update,\n            query: query\n        });\n    };\n    /**\n     * remove data from table\n     *\n     * @param {IRemoveQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.remove = function (query) {\n        return this.pushApi({\n            name: API.Remove,\n            query: query\n        });\n    };\n    /**\n     * delete all data from table\n     *\n     * @param {string} tableName\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.clear = function (tableName) {\n        return this.pushApi({\n            name: API.Clear,\n            query: tableName\n        });\n    };\n    Object.defineProperty(Connection.prototype, \"logStatus\", {\n        /**\n         * set log status\n         *\n         * @param {boolean} status\n         * @memberof Connection\n         */\n        set: function (status) {\n            this.logger.status = status;\n            this.pushApi({\n                name: API.ChangeLogStatus,\n                query: status\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * open database\n     *\n     * @param {string} dbName\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.openDb = function (dbName, version) {\n        var _this = this;\n        return this.pushApi({\n            name: API.OpenDb,\n            query: {\n                version: version,\n                name: dbName\n            }\n        }).then(function (dataBase) {\n            _this.database = dataBase;\n            return dataBase;\n        });\n    };\n    /**\n     * returns list of database created\n     *\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.getDbList = function () {\n        console.warn(\"Api getDbList is recommended to use for debugging only. Do not use in code.\");\n        return indexedDB.databases();\n    };\n    /**\n     * get the value from keystore table\n     *\n     * @template T\n     * @param {string} key\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.get = function (key) {\n        return this.pushApi({\n            name: API.Get,\n            query: key\n        });\n    };\n    /**\n     * set the value in keystore table\n     *\n     * @param {string} key\n     * @param {*} value\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.set = function (key, value) {\n        return this.pushApi({\n            name: API.Set,\n            query: {\n                key: key, value: value\n            }\n        });\n    };\n    /**\n     * terminate the connection\n     *\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.terminate = function () {\n        return this.pushApi({\n            name: API.Terminate\n        });\n    };\n    /**\n     * execute transaction\n     *\n     * @template T\n     * @param {ITranscationQuery} query\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.transaction = function (query) {\n        return this.pushApi({\n            name: API.Transaction,\n            query: query\n        });\n    };\n    Connection.prototype.on = function (event, eventCallBack) {\n        this.eventBus_.on(event, eventCallBack);\n    };\n    Connection.prototype.off = function (event, eventCallBack) {\n        this.eventBus_.off(event, eventCallBack);\n    };\n    Connection.prototype.union = function (query) {\n        return this.pushApi({\n            name: API.Union,\n            query: query\n        });\n    };\n    Connection.prototype.intersect = function (query) {\n        return this.pushApi({\n            name: API.Intersect,\n            query: query\n        });\n    };\n    Connection.prototype.addPlugin = function (plugin, params) {\n        return plugin.setup(this, params);\n    };\n    Connection.prototype.addMiddleware = function (middleware, forWorker) {\n        if (forWorker) {\n            return this.pushApi({\n                name: API.Middleware,\n                query: middleware\n            });\n        }\n        this.middlewares.push(middleware);\n        return Promise.resolve();\n    };\n    /**\n     * import scripts in jsstore web worker.\n     * Scripts method can be called using transaction api.\n     *\n     * @param {...string[]} urls\n     * @returns\n     * @memberof Connection\n     */\n    Connection.prototype.importScripts = function () {\n        var urls = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            urls[_i] = arguments[_i];\n        }\n        return this.pushApi({\n            name: API.ImportScripts,\n            query: urls\n        });\n    };\n    return Connection;\n}(connection_helper_ConnectionHelper));\n\n\n// CONCATENATED MODULE: ./src/common/utils/promise_all.ts\nvar promiseAll = function (promises) {\n    return Promise.all(promises);\n};\n\n// CONCATENATED MODULE: ./src/common/utils/for_obj.ts\nvar forObj = function (obj, cb) {\n    for (var key in obj) {\n        cb(key, obj[key]);\n    }\n};\n\n// CONCATENATED MODULE: ./src/common/utils/index.ts\n\n\n\n\n\n// CONCATENATED MODULE: ./src/common/index.ts\n\n\n\n\n\n// CONCATENATED MODULE: ./src/main/index.ts\n\n\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=jsstore.commonjs2.js.map","if (process.env.NODE_ENV === 'production') {\n    module.exports = require('./jsstore.commonjs2.min.js');\n}\nelse {\n    module.exports = require('./jsstore.commonjs2.js');\n}\n","/*!\n * @license :jsstore - V4.2.6 - 21/06/2021\n * https://github.com/ujjwalguptaofficial/JsStore\n * Copyright (c) 2021 @Ujjwal Gupta; Licensed MIT\n */\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"QueryManager\", function() { return /* reexport */ query_manager_QueryManager; });\n\n// CONCATENATED MODULE: ./src/common/utils/promise_resolve.ts\nvar promiseResolve = function (value) {\n    return Promise.resolve(value);\n};\n\n// CONCATENATED MODULE: ./src/common/utils/promise.ts\nvar promise = function (cb) {\n    return new Promise(cb);\n};\n\n// CONCATENATED MODULE: ./src/common/enums.ts\nvar ERROR_TYPE;\n(function (ERROR_TYPE) {\n    ERROR_TYPE[\"UndefinedColumn\"] = \"undefined_column\";\n    ERROR_TYPE[\"UndefinedValue\"] = \"undefined_value\";\n    ERROR_TYPE[\"UndefinedColumnName\"] = \"undefined_column_name\";\n    ERROR_TYPE[\"UndefinedDbName\"] = \"undefined_database_name\";\n    ERROR_TYPE[\"UndefinedColumnValue\"] = \"undefined_column_value\";\n    ERROR_TYPE[\"NotArray\"] = \"not_array\";\n    ERROR_TYPE[\"NoValueSupplied\"] = \"no_value_supplied\";\n    ERROR_TYPE[\"ColumnNotExist\"] = \"column_not_exist\";\n    ERROR_TYPE[\"EnableSearchOff\"] = \"enable_search_off\";\n    ERROR_TYPE[\"InvalidOp\"] = \"invalid_operator\";\n    ERROR_TYPE[\"NullValue\"] = \"null_value\";\n    ERROR_TYPE[\"WrongDataType\"] = \"wrong_data_type\";\n    ERROR_TYPE[\"TableNotExist\"] = \"table_not_exist\";\n    ERROR_TYPE[\"DbNotExist\"] = \"db_not_exist\";\n    ERROR_TYPE[\"ConnectionAborted\"] = \"connection_aborted\";\n    ERROR_TYPE[\"ConnectionClosed\"] = \"connection_closed\";\n    ERROR_TYPE[\"NotObject\"] = \"not_object\";\n    ERROR_TYPE[\"InvalidConfig\"] = \"invalid_config\";\n    ERROR_TYPE[\"DbBlocked\"] = \"Db_blocked\";\n    ERROR_TYPE[\"IndexedDbNotSupported\"] = \"indexeddb_not_supported\";\n    ERROR_TYPE[\"NullValueInWhere\"] = \"null_value_in_where\";\n    ERROR_TYPE[\"InvalidJoinQuery\"] = \"invalid_join_query\";\n    ERROR_TYPE[\"InvalidOrderQuery\"] = \"invalid_order_query\";\n    ERROR_TYPE[\"InvalidQuery\"] = \"invalid_query\";\n    ERROR_TYPE[\"InvalidGroupQuery\"] = \"invalid_group_query\";\n    ERROR_TYPE[\"ImportScriptsFailed\"] = \"import_scripts_failed\";\n    ERROR_TYPE[\"MethodNotExist\"] = \"method_not_exist\";\n    ERROR_TYPE[\"Unknown\"] = \"unknown\";\n    ERROR_TYPE[\"InvalidMiddleware\"] = \"invalid_middleware\";\n})(ERROR_TYPE || (ERROR_TYPE = {}));\nvar WORKER_STATUS;\n(function (WORKER_STATUS) {\n    WORKER_STATUS[\"Registered\"] = \"registerd\";\n    WORKER_STATUS[\"Failed\"] = \"failed\";\n    WORKER_STATUS[\"NotStarted\"] = \"not_started\";\n})(WORKER_STATUS || (WORKER_STATUS = {}));\nvar DATA_TYPE;\n(function (DATA_TYPE) {\n    DATA_TYPE[\"String\"] = \"string\";\n    DATA_TYPE[\"Object\"] = \"object\";\n    DATA_TYPE[\"Array\"] = \"array\";\n    DATA_TYPE[\"Number\"] = \"number\";\n    DATA_TYPE[\"Boolean\"] = \"boolean\";\n    DATA_TYPE[\"Null\"] = \"null\";\n    DATA_TYPE[\"DateTime\"] = \"date_time\";\n})(DATA_TYPE || (DATA_TYPE = {}));\nvar API;\n(function (API) {\n    API[\"InitDb\"] = \"init_db\";\n    API[\"Get\"] = \"get\";\n    API[\"Set\"] = \"set\";\n    API[\"Select\"] = \"select\";\n    API[\"Insert\"] = \"insert\";\n    API[\"Update\"] = \"update\";\n    API[\"Remove\"] = \"remove\";\n    API[\"OpenDb\"] = \"open_db\";\n    API[\"Clear\"] = \"clear\";\n    API[\"DropDb\"] = \"drop_db\";\n    API[\"Count\"] = \"count\";\n    API[\"ChangeLogStatus\"] = \"change_log_status\";\n    API[\"Terminate\"] = \"terminate\";\n    API[\"Transaction\"] = \"transaction\";\n    API[\"CloseDb\"] = \"close_db\";\n    API[\"Union\"] = \"union\";\n    API[\"Intersect\"] = \"intersect\";\n    API[\"ImportScripts\"] = \"import_scripts\";\n    API[\"Middleware\"] = \"middleware\";\n})(API || (API = {}));\nvar EVENT;\n(function (EVENT) {\n    EVENT[\"RequestQueueEmpty\"] = \"requestQueueEmpty\";\n    EVENT[\"RequestQueueFilled\"] = \"requestQueueFilled\";\n    EVENT[\"Upgrade\"] = \"upgrade\";\n    EVENT[\"Create\"] = \"create\";\n    EVENT[\"Open\"] = \"open\";\n})(EVENT || (EVENT = {}));\nvar QUERY_OPTION;\n(function (QUERY_OPTION) {\n    QUERY_OPTION[\"Where\"] = \"where\";\n    QUERY_OPTION[\"Like\"] = \"like\";\n    QUERY_OPTION[\"Regex\"] = \"regex\";\n    QUERY_OPTION[\"In\"] = \"in\";\n    QUERY_OPTION[\"Equal\"] = \"=\";\n    QUERY_OPTION[\"Between\"] = \"-\";\n    QUERY_OPTION[\"GreaterThan\"] = \">\";\n    QUERY_OPTION[\"LessThan\"] = \"<\";\n    QUERY_OPTION[\"GreaterThanEqualTo\"] = \">=\";\n    QUERY_OPTION[\"LessThanEqualTo\"] = \"<=\";\n    QUERY_OPTION[\"NotEqualTo\"] = \"!=\";\n    QUERY_OPTION[\"Aggregate\"] = \"aggregate\";\n    QUERY_OPTION[\"Max\"] = \"max\";\n    QUERY_OPTION[\"Min\"] = \"min\";\n    QUERY_OPTION[\"Avg\"] = \"avg\";\n    QUERY_OPTION[\"Count\"] = \"count\";\n    QUERY_OPTION[\"Sum\"] = \"sum\";\n    QUERY_OPTION[\"Or\"] = \"or\";\n    QUERY_OPTION[\"Skip\"] = \"skip\";\n    QUERY_OPTION[\"Limit\"] = \"limit\";\n    QUERY_OPTION[\"And\"] = \"and\";\n    QUERY_OPTION[\"IgnoreCase\"] = \"ignoreCase\";\n    QUERY_OPTION[\"Then\"] = \"then\";\n})(QUERY_OPTION || (QUERY_OPTION = {}));\nvar IDB_MODE;\n(function (IDB_MODE) {\n    IDB_MODE[\"ReadOnly\"] = \"readonly\";\n    IDB_MODE[\"ReadWrite\"] = \"readwrite\";\n})(IDB_MODE || (IDB_MODE = {}));\nvar OCCURENCE;\n(function (OCCURENCE) {\n    OCCURENCE[\"First\"] = \"f\";\n    OCCURENCE[\"Last\"] = \"l\";\n    OCCURENCE[\"Any\"] = \"a\";\n})(OCCURENCE || (OCCURENCE = {}));\nvar CONNECTION_STATUS;\n(function (CONNECTION_STATUS) {\n    CONNECTION_STATUS[\"Connected\"] = \"connected\";\n    CONNECTION_STATUS[\"Closed\"] = \"closed\";\n    CONNECTION_STATUS[\"NotStarted\"] = \"not_started\";\n    CONNECTION_STATUS[\"UnableToStart\"] = \"unable_to_start\";\n    CONNECTION_STATUS[\"ClosedByJsStore\"] = \"closed_by_jsstore\";\n})(CONNECTION_STATUS || (CONNECTION_STATUS = {}));\n\n// CONCATENATED MODULE: ./src/worker/model/table_meta.ts\nvar TableMeta = /** @class */ (function () {\n    function TableMeta(table) {\n        this.columns = [];\n        this.autoIncColumnValue = {};\n        this.columns = this.setColumn(table.columns);\n        this.name = table.name;\n        this.alter = table.alter || {};\n    }\n    TableMeta.prototype.setColumn = function (tableColumns) {\n        var columns = [];\n        var _loop_1 = function (columnName) {\n            var column = tableColumns[columnName];\n            column.name = columnName;\n            if (column.autoIncrement) {\n                this_1.autoIncColumnValue[columnName] = 0;\n            }\n            if (column.primaryKey) {\n                this_1.primaryKey = columnName;\n            }\n            column.enableSearch = column.enableSearch == null ? true : column.enableSearch;\n            var existingColumnIndex = this_1.columns.indexOf(function (q) { return q.name === columnName; });\n            if (existingColumnIndex < 0) {\n                columns.push(column);\n            }\n            else {\n                var existingColumn = this_1.columns[existingColumnIndex];\n                Object.assign(existingColumn, column);\n            }\n        };\n        var this_1 = this;\n        for (var columnName in tableColumns) {\n            _loop_1(columnName);\n        }\n        return columns;\n    };\n    return TableMeta;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/meta_helper.ts\n\nvar meta_helper_MetaHelper = /** @class */ (function () {\n    function MetaHelper() {\n    }\n    MetaHelper.autoIncrementKey = function (tableName, columnName) {\n        return \"JsStore_\" + tableName + \"_\" + columnName + \"_Value\";\n    };\n    MetaHelper.set = function (key, value, util) {\n        if (!util.tx) {\n            util.createTransaction([MetaHelper.tableName]);\n        }\n        var store = util.objectStore(MetaHelper.tableName);\n        return promise(function (res, rej) {\n            var req = store.put({\n                key: key, value: value\n            });\n            req.onsuccess = function () {\n                res();\n            };\n            req.onerror = rej;\n        });\n    };\n    MetaHelper.get = function (key, util) {\n        if (!util.tx) {\n            util.createTransaction([MetaHelper.tableName]);\n        }\n        var store = util.objectStore(MetaHelper.tableName);\n        return promise(function (res, rej) {\n            var req = store.get(util.keyRange(key));\n            req.onsuccess = function () {\n                var result = req.result;\n                res(result && result.value);\n            };\n            req.onerror = rej;\n        });\n    };\n    MetaHelper.remove = function (key, util) {\n        if (!util.tx) {\n            util.createTransaction([MetaHelper.tableName]);\n        }\n        var store = util.objectStore(MetaHelper.tableName);\n        return promise(function (res, rej) {\n            var req = store.delete(util.keyRange(key));\n            req.onsuccess = res;\n            req.onerror = rej;\n        });\n    };\n    MetaHelper.tableName = \"JsStore_Meta\";\n    MetaHelper.dbSchema = \"JsStore_DbSchema\";\n    return MetaHelper;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/model/db_meta.ts\n\n\nvar db_meta_DbMeta = /** @class */ (function () {\n    function DbMeta(db) {\n        this.name = db.name;\n        this.version = db.version || 1;\n        db.tables.push({\n            name: meta_helper_MetaHelper.tableName,\n            columns: {\n                key: {\n                    primaryKey: true\n                },\n                value: {\n                    enableSearch: false\n                }\n            },\n        });\n        this.tables = db.tables.map(function (table) {\n            return new TableMeta(table);\n        });\n    }\n    return DbMeta;\n}());\n\n\n// CONCATENATED MODULE: ./src/common/utils/for_obj.ts\nvar forObj = function (obj, cb) {\n    for (var key in obj) {\n        cb(key, obj[key]);\n    }\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/log_helper.ts\n\nvar log_helper_LogHelper = /** @class */ (function () {\n    function LogHelper(type, info) {\n        this.type = type;\n        this.info_ = info;\n        this.message = this.getMsg_();\n    }\n    LogHelper.prototype.log = function (msg) {\n        if (this.status) {\n            console.log(msg);\n        }\n    };\n    LogHelper.prototype.throw = function () {\n        throw this.get();\n    };\n    LogHelper.prototype.logError = function () {\n        console.error(this.get());\n    };\n    LogHelper.prototype.get = function () {\n        return {\n            message: this.message,\n            type: this.type\n        };\n    };\n    LogHelper.prototype.getMsg_ = function () {\n        var errMsg;\n        switch (this.type) {\n            case ERROR_TYPE.NotArray:\n                errMsg = \"Supplied value is not an array\";\n                break;\n            case ERROR_TYPE.UndefinedColumn:\n                errMsg = \"Column is undefined in Where\";\n                break;\n            case ERROR_TYPE.UndefinedValue:\n                errMsg = \"Value is undefined in Where\";\n                break;\n            case ERROR_TYPE.UndefinedColumnName:\n                errMsg = \"Column name is undefined '\" + this.info_['TableName'] + \"'\";\n                break;\n            case ERROR_TYPE.UndefinedDbName:\n                errMsg = \"Database name is not supplied\";\n                break;\n            case ERROR_TYPE.UndefinedColumnValue:\n                errMsg = \"Column value is undefined\";\n                break;\n            case ERROR_TYPE.NoValueSupplied:\n                errMsg = \"No value is supplied\";\n                break;\n            case ERROR_TYPE.InvalidOp:\n                errMsg = \"Invalid Op Value '\" + this.info_['Op'] + \"'\";\n                break;\n            case ERROR_TYPE.ColumnNotExist:\n                errMsg = this.info_['isOrder'] ?\n                    \"Column '\" + this.info_['column'] + \"' in order query does not exist\" :\n                    \"Column '\" + this.info_['column'] + \"' does not exist\";\n                break;\n            case ERROR_TYPE.EnableSearchOff:\n                errMsg = \"Search is turned off for the Column '\" + this.info_['column'] + \"'\";\n                break;\n            case ERROR_TYPE.NullValue:\n                errMsg = \"Null value is not allowed for column '\" + this.info_['ColumnName'] + \"'\";\n                break;\n            case ERROR_TYPE.WrongDataType:\n                errMsg = \"Supplied value for column '\" + this.info_['column'] +\n                    \"' have wrong data type\";\n                break;\n            case ERROR_TYPE.TableNotExist:\n                errMsg = \"Table '\" + this.info_['tableName'] + \"' does not exist\";\n                break;\n            case ERROR_TYPE.DbNotExist:\n                errMsg = \"Database with name \" + this.info_['dbName'] + \" does not exist\";\n                break;\n            case ERROR_TYPE.NotObject:\n                errMsg = \"supplied value is not object\";\n                break;\n            case ERROR_TYPE.InvalidOp:\n                errMsg = \"Invalid Config '\" + this.info_['Config'] + \" '\";\n                break;\n            case ERROR_TYPE.DbBlocked:\n                errMsg = \"database is blocked, cant be deleted right now\";\n                break;\n            case ERROR_TYPE.NullValueInWhere:\n                errMsg = \"Null/undefined is not allowed in where. Column '\" + this.info_['column'] + \"' has null\";\n                break;\n            case ERROR_TYPE.MethodNotExist:\n                errMsg = \"method \" + this.info_ + \" does not exist.\";\n                break;\n            case ERROR_TYPE.IndexedDbNotSupported:\n                errMsg = \"Browser does not support indexeddb\";\n                break;\n            case ERROR_TYPE.InvalidJoinQuery:\n            case ERROR_TYPE.InvalidGroupQuery:\n            case ERROR_TYPE.InvalidOrderQuery:\n            case ERROR_TYPE.ImportScriptsFailed:\n                errMsg = this.info_;\n                break;\n            case ERROR_TYPE.InvalidMiddleware:\n                errMsg = \"No function \" + this.info_ + \" is found.\";\n                break;\n            default:\n                if (!this.type) {\n                    this.type = ERROR_TYPE.Unknown;\n                }\n                errMsg = this.message;\n                break;\n        }\n        return errMsg;\n    };\n    return LogHelper;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/idbutil/index.ts\n\n\nvar idbutil_IDBUtil = /** @class */ (function () {\n    function IDBUtil() {\n        this.logger = new log_helper_LogHelper(null);\n    }\n    IDBUtil.prototype.emptyTx = function () {\n        if (!this.tx)\n            return;\n        this.tx.oncomplete = null;\n        this.tx.onabort = null;\n        this.tx.onerror = null;\n        this.tx = null;\n    };\n    IDBUtil.prototype.createTransactionIfNotExist = function (tables, mode) {\n        if (!this.tx) {\n            this.createTransaction(tables, mode);\n        }\n    };\n    IDBUtil.prototype.createTransaction = function (tables, mode) {\n        var _this = this;\n        if (mode === void 0) { mode = IDB_MODE.ReadWrite; }\n        this.tx = this.con.transaction(tables, mode);\n        return promise(function (res, rej) {\n            _this.tx.oncomplete = res;\n            _this.tx.onabort = res;\n            _this.tx.onerror = rej;\n        });\n    };\n    IDBUtil.prototype.keyRange = function (value, op) {\n        var keyRange;\n        switch (op) {\n            case QUERY_OPTION.Between:\n                keyRange = IDBKeyRange.bound(value.low, value.high, false, false);\n                break;\n            case QUERY_OPTION.GreaterThan:\n                keyRange = IDBKeyRange.lowerBound(value, true);\n                break;\n            case QUERY_OPTION.GreaterThanEqualTo:\n                keyRange = IDBKeyRange.lowerBound(value);\n                break;\n            case QUERY_OPTION.LessThan:\n                keyRange = IDBKeyRange.upperBound(value, true);\n                break;\n            case QUERY_OPTION.LessThanEqualTo:\n                keyRange = IDBKeyRange.upperBound(value);\n                break;\n            default:\n                keyRange = IDBKeyRange.only(value);\n                break;\n        }\n        return keyRange;\n    };\n    IDBUtil.prototype.objectStore = function (name) {\n        return this.tx.objectStore(name);\n    };\n    IDBUtil.prototype.abortTransaction = function () {\n        if (this.tx) {\n            this.tx.abort();\n        }\n    };\n    IDBUtil.prototype.close = function () {\n        var _this = this;\n        if (this.con) {\n            this.con.close();\n        }\n        // wait for 100 ms before success\n        return promise(function (res) {\n            _this.con = null;\n            setTimeout(res, 100);\n        });\n    };\n    IDBUtil.prototype.initDb = function (db) {\n        var _this = this;\n        this.db = db;\n        var isDbCreated = false;\n        var dbVersion = db.version;\n        var oldVersion;\n        var initLogic = function (res, rej) {\n            var dbOpenRequest = indexedDB.open(db.name, dbVersion);\n            dbOpenRequest.onsuccess = function () {\n                _this.con = dbOpenRequest.result;\n                _this.con.onversionchange = function (e) {\n                    // if (e.newVersion === null) { // An attempt is made to delete the db\n                    e.target.close(); // Manually close our connection to the db\n                    // }\n                };\n                res({\n                    isCreated: isDbCreated,\n                    oldVersion: oldVersion,\n                    newVersion: dbVersion\n                });\n            };\n            dbOpenRequest.onerror = function (e) {\n                console.error(\"error\", e);\n                rej(e);\n            };\n            dbOpenRequest.onupgradeneeded = function (e) {\n                oldVersion = e.oldVersion;\n                var target = e.target;\n                var upgradeConnection = target.result;\n                isDbCreated = true;\n                var transaction = target.transaction;\n                var storeNames = upgradeConnection.objectStoreNames;\n                var createObjectStore = function (table) {\n                    var option = table.primaryKey ? {\n                        keyPath: table.primaryKey\n                    } : {\n                        autoIncrement: true\n                    };\n                    var store = upgradeConnection.createObjectStore(table.name, option);\n                    table.columns.forEach(function (column) {\n                        addColumn(store, column);\n                    });\n                };\n                var addColumn = function (store, column) {\n                    if (column.enableSearch) {\n                        var columnName = column.name;\n                        var options = column.primaryKey ? { unique: true } : { unique: column.unique };\n                        options['multiEntry'] = column.multiEntry;\n                        var keyPath = column.keyPath == null ? columnName : column.keyPath;\n                        store.createIndex(columnName, keyPath, options);\n                    }\n                };\n                var deleteColumn = function (store, table, columnName) {\n                    var index = table.columns.findIndex(function (q) { return q.name === columnName; });\n                    if (index >= 0) {\n                        table.columns.splice(index, 1);\n                        store.deleteIndex(columnName);\n                    }\n                };\n                db.tables.forEach(function (table) {\n                    if (!storeNames.contains(table.name)) {\n                        return createObjectStore(table);\n                    }\n                    var store = transaction.objectStore(table.name);\n                    for (var i = oldVersion; i <= dbVersion; i++) {\n                        var alterQuery = table.alter[i];\n                        if (alterQuery) {\n                            if (alterQuery.add) {\n                                var newColumns = table.setColumn(alterQuery.add);\n                                newColumns.forEach(function (column) {\n                                    addColumn(store, column);\n                                    table.columns.push(column);\n                                });\n                            }\n                            forObj(alterQuery.drop || {}, (function (columnName) {\n                                deleteColumn(store, table, columnName);\n                            }));\n                            forObj(alterQuery.modify || {}, (function (columnName, column) {\n                                var shouldDelete = column.multiEntry || column.keyPath || column.unique;\n                                var targetColumn = table.columns.find(function (q) { return q.name === columnName; });\n                                var newColumn = Object.assign(targetColumn, column);\n                                newColumn.name = columnName;\n                                if (shouldDelete) {\n                                    deleteColumn(store, table, columnName);\n                                    addColumn(store, newColumn);\n                                    table.columns.push(newColumn);\n                                }\n                            }));\n                        }\n                    }\n                });\n            };\n        };\n        return promise(initLogic);\n    };\n    return IDBUtil;\n}());\n\n\n// CONCATENATED MODULE: ./src/common/utils/promise_all.ts\nvar promiseAll = function (promises) {\n    return Promise.all(promises);\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/promise_reject.ts\nvar promiseReject = function (value) {\n    return Promise.reject(value);\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/get_error.ts\n\nvar getError = function (e) {\n    var customError = e instanceof log_helper_LogHelper;\n    if (customError) {\n        e.logError();\n        return e.get();\n    }\n    else {\n        var error = void 0;\n        if (e.name) {\n            error = new log_helper_LogHelper(e.name);\n            error.message = e.message;\n        }\n        else {\n            error = new log_helper_LogHelper(e.target.error.name);\n            error.message = e.target.error.message;\n        }\n        if (true) {\n            error.logError();\n        }\n        return error.get();\n    }\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/get_error_from_exception.ts\n\n\nvar getErrorFromException = function (ex, type) {\n    if (type === void 0) { type = ERROR_TYPE.InvalidQuery; }\n    ex.name = type;\n    return getError(ex);\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/base.ts\n\nvar base_Base = /** @class */ (function () {\n    function Base() {\n        this.rowAffected = 0;\n        this.isTxQuery = false;\n        this.results = [];\n    }\n    // get tableName() {\n    //     return (this.query as SelectQuery).from || (this.query as InsertQuery).into\n    // }\n    Base.prototype.table = function (name) {\n        var tableName = name || this.tableName;\n        return this.db.tables.find(function (q) { return q.name === tableName; });\n    };\n    Base.prototype.primaryKey = function (tableName) {\n        return this.table(tableName).primaryKey;\n    };\n    Base.prototype.getColumnInfo = function (columnName, tableName) {\n        return this.table(tableName).columns.find(function (column) { return column.name === columnName; });\n    };\n    Base.prototype.onException = function (ex, type) {\n        console.error(ex);\n        this.util.abortTransaction();\n        return promiseReject(getErrorFromException(ex, type));\n    };\n    return Base;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/utils/get_data_type.ts\n\nvar getDataType = function (value) {\n    if (value == null) {\n        return DATA_TYPE.Null;\n    }\n    var type = typeof value;\n    switch (type) {\n        case 'object':\n            if (Array.isArray(value)) {\n                return DATA_TYPE.Array;\n            }\n            if (value instanceof Date) {\n                return DATA_TYPE.DateTime;\n            }\n    }\n    return type;\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/is_null.ts\nvar isNull = function (value) {\n    if (value == null) {\n        return true;\n    }\n    else {\n        switch (typeof value) {\n            case 'string': return value.length === 0;\n            case 'number': return isNaN(value);\n        }\n    }\n    return false;\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/insert/values_checker.ts\n\n\nvar values_checker_ValuesChecker = /** @class */ (function () {\n    function ValuesChecker(table, autoIncValues) {\n        this.table = table;\n        this.autoIncrementValue = autoIncValues;\n    }\n    ValuesChecker.prototype.checkAndModifyValues = function (query) {\n        var _this = this;\n        var err;\n        this.query = query;\n        var values = query.values;\n        var ignoreIndexes = [];\n        values.every(function (item, index) {\n            err = _this.checkAndModifyValue(item);\n            if (query.ignore && err) {\n                ignoreIndexes.push(index);\n                err = null;\n            }\n            return err ? false : true;\n        });\n        ignoreIndexes.forEach(function (index) {\n            values.splice(index, 1);\n        });\n        return { err: err, values: values };\n    };\n    ValuesChecker.prototype.checkAndModifyValue = function (value) {\n        var _this = this;\n        var error;\n        this.table.columns.every(function (column) {\n            error = _this.checkAndModifyColumnValue_(column, value);\n            return error ? false : true;\n        });\n        return error;\n    };\n    ValuesChecker.prototype.checkNotNullAndDataType_ = function (column, value) {\n        // check not null schema\n        if (column.notNull && isNull(value[column.name])) {\n            return this.getError(ERROR_TYPE.NullValue, { ColumnName: column.name });\n        }\n        // check datatype\n        else if (column.dataType && !isNull(value[column.name]) &&\n            getDataType(value[column.name]) !== column.dataType) {\n            return this.getError(ERROR_TYPE.WrongDataType, { column: column.name });\n        }\n    };\n    ValuesChecker.prototype.checkAndModifyColumnValue_ = function (column, value) {\n        var columnValue = value[column.name];\n        // check auto increment scheme\n        if (column.autoIncrement) {\n            // if value is null, then create the autoincrement value\n            if (isNull(columnValue)) {\n                value[column.name] = ++this.autoIncrementValue[column.name];\n            }\n            else {\n                if (getDataType(columnValue) === DATA_TYPE.Number) {\n                    // if column value is greater than autoincrement value saved, then make the\n                    // column value as autoIncrement value\n                    if (columnValue > this.autoIncrementValue[column.name]) {\n                        this.autoIncrementValue[column.name] = columnValue;\n                    }\n                }\n            }\n        }\n        // check Default Schema\n        else if (column.default !== undefined && isNull(columnValue)) {\n            value[column.name] = column.default;\n        }\n        var query = this.query;\n        if (query.validation) {\n            return this.checkNotNullAndDataType_(column, value);\n        }\n    };\n    ValuesChecker.prototype.getError = function (error, details) {\n        return new log_helper_LogHelper(error, details);\n    };\n    return ValuesChecker;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/update/schema_checker.ts\n\n\nvar schema_checker_SchemaChecker = /** @class */ (function () {\n    function SchemaChecker(table) {\n        this.table = table;\n    }\n    SchemaChecker.prototype.check = function (setValue, tblName) {\n        var _this = this;\n        var log;\n        if (typeof setValue === DATA_TYPE.Object) {\n            if (this.table) {\n                // loop through table column and find data is valid\n                this.table.columns.every(function (column) {\n                    if (column.name in setValue) {\n                        log = _this.checkByColumn_(column, setValue[column.name]);\n                    }\n                    return log ? false : true;\n                });\n            }\n            else {\n                log = new log_helper_LogHelper(ERROR_TYPE.TableNotExist, { tableName: tblName });\n            }\n        }\n        else {\n            log = new log_helper_LogHelper(ERROR_TYPE.NotObject);\n        }\n        return log;\n    };\n    SchemaChecker.prototype.checkByColumn_ = function (column, value) {\n        // check not null schema\n        if (column.notNull === true && isNull(value)) {\n            return new log_helper_LogHelper(ERROR_TYPE.NullValue, { ColumnName: column.name });\n        }\n        // check datatype\n        var type = getDataType(value);\n        var checkFurther = value != null;\n        if (column.dataType && checkFurther) {\n            if (type !== column.dataType && type !== 'object') {\n                return new log_helper_LogHelper(ERROR_TYPE.WrongDataType, { column: column.name });\n            }\n        }\n        // check allowed operators\n        if (checkFurther && type === 'object') {\n            var allowedOp = ['+', '-', '*', '/', '{push}'];\n            for (var prop in value) {\n                if (allowedOp.indexOf(prop) < 0 && column.dataType && type !== column.dataType) {\n                    return new log_helper_LogHelper(ERROR_TYPE.WrongDataType, { column: column.name });\n                }\n            }\n        }\n    };\n    return SchemaChecker;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/query_helper.ts\n\n\n\n\nvar query_helper_QueryHelper = /** @class */ (function () {\n    function QueryHelper(dbSchema) {\n        this.db = dbSchema;\n    }\n    QueryHelper.prototype.validate = function (api, query) {\n        switch (api) {\n            case API.Select:\n            case API.Remove:\n            case API.Count:\n                return this.checkSelect(query);\n            case API.Insert:\n                return this.checkInsertQuery(query);\n            case API.Update:\n                return this.checkUpdate(query);\n        }\n    };\n    QueryHelper.prototype.getTable_ = function (tableName) {\n        return this.db.tables.find(function (q) { return q.name === tableName; });\n    };\n    QueryHelper.prototype.isInsertQryValid = function (query) {\n        var table = this.getTable_(query.into);\n        var log;\n        if (table) {\n            switch (getDataType(query.values)) {\n                case DATA_TYPE.Array:\n                    break;\n                case DATA_TYPE.Null:\n                    log = new log_helper_LogHelper(ERROR_TYPE.NoValueSupplied);\n                    break;\n                default:\n                    log = new log_helper_LogHelper(ERROR_TYPE.NotArray);\n            }\n        }\n        else {\n            log = new log_helper_LogHelper(ERROR_TYPE.TableNotExist, { tableName: query.into });\n        }\n        return {\n            table: table, log: log\n        };\n    };\n    QueryHelper.prototype.checkUpdate = function (query) {\n        var err = new schema_checker_SchemaChecker(this.getTable_(query.in)).\n            check(query.set, query.in);\n        if (err)\n            return err;\n        if (query.where != null) {\n            err = this.checkForNullInWhere_(query);\n            if (err)\n                return err;\n            this.addGreatAndLessToNotOp_(query);\n        }\n    };\n    QueryHelper.prototype.checkSelect = function (query) {\n        var table = this.getTable_(query.from);\n        if (!table) {\n            return new log_helper_LogHelper(ERROR_TYPE.TableNotExist, { tableName: query.from });\n        }\n        if (query.where) {\n            var err = this.checkForNullInWhere_(query);\n            if (err)\n                return err;\n            this.addGreatAndLessToNotOp_(query);\n        }\n    };\n    QueryHelper.prototype.checkForNullInWhere_ = function (query) {\n        for (var columnName in query.where) {\n            if (query.where[columnName] == null) {\n                return new log_helper_LogHelper(ERROR_TYPE.NullValueInWhere, { column: columnName });\n            }\n        }\n    };\n    QueryHelper.prototype.addGreatAndLessToNotOp_ = function (query) {\n        var whereQuery = query.where;\n        var containsNot = function (qry, keys) {\n            return keys.findIndex(function (key) { return qry[key][QUERY_OPTION.NotEqualTo] != null; }) >= 0;\n        };\n        var addToSingleQry = function (qry, keys) {\n            var value;\n            keys.forEach(function (prop) {\n                value = qry[prop];\n                if (value[QUERY_OPTION.NotEqualTo] != null) {\n                    qry[prop][QUERY_OPTION.GreaterThan] = value[QUERY_OPTION.NotEqualTo];\n                    if (qry[QUERY_OPTION.Or] === undefined) {\n                        qry[QUERY_OPTION.Or] = {};\n                        qry[QUERY_OPTION.Or][prop] = {};\n                    }\n                    else if (qry[QUERY_OPTION.Or][prop] === undefined) {\n                        qry[QUERY_OPTION.Or][prop] = {};\n                    }\n                    qry[QUERY_OPTION.Or][prop][QUERY_OPTION.LessThan] = value[QUERY_OPTION.NotEqualTo];\n                    delete qry[prop][QUERY_OPTION.NotEqualTo];\n                }\n            });\n            return qry;\n        };\n        switch (getDataType(whereQuery)) {\n            case DATA_TYPE.Object:\n                var queryKeys = Object.keys(whereQuery);\n                if (containsNot(whereQuery, queryKeys)) {\n                    if (queryKeys.length === 1) {\n                        query.where = addToSingleQry(whereQuery, queryKeys);\n                    }\n                    else {\n                        var whereTmpQry_1 = [];\n                        queryKeys.forEach(function (prop) {\n                            var _a;\n                            whereTmpQry_1.push(addToSingleQry((_a = {}, _a[prop] = whereQuery[prop], _a), [prop]));\n                        });\n                        query.where = whereTmpQry_1;\n                    }\n                }\n                break;\n            default:\n                var whereTmp_1 = [];\n                whereQuery.forEach(function (qry) {\n                    var qryKeys = Object.keys(qry);\n                    if (containsNot(qry, qryKeys)) {\n                        qry = addToSingleQry(qry, qryKeys);\n                    }\n                    whereTmp_1.push(qry);\n                });\n                query.where = whereTmp_1;\n        }\n    };\n    QueryHelper.prototype.checkInsertQuery = function (query) {\n        var validResult = this.isInsertQryValid(query);\n        var table = validResult.table;\n        var error = validResult.log;\n        if (error)\n            return error;\n        if (query.skipDataCheck)\n            return;\n        var valueCheckerInstance = new values_checker_ValuesChecker(table, table.autoIncColumnValue);\n        var _a = valueCheckerInstance.checkAndModifyValues(query), values = _a.values, err = _a.err;\n        query.values = values;\n        return err;\n    };\n    return QueryHelper;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/insert/index.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar insert_Insert = /** @class */ (function (_super) {\n    __extends(Insert, _super);\n    function Insert(query, util) {\n        var _this = _super.call(this) || this;\n        _this.valuesAffected_ = [];\n        if (query.validation == null) {\n            query.validation = true;\n        }\n        _this.query = query;\n        _this.util = util;\n        _this.tableName = query.into;\n        return _this;\n    }\n    Insert.prototype.execute = function (db) {\n        var _this = this;\n        var err = new query_helper_QueryHelper(db).validate(API.Insert, this.query);\n        if (err)\n            return promiseReject(err);\n        return this.insertData_(db).then(function (_) {\n            return _this.query.return ? _this.valuesAffected_ : _this.rowAffected;\n        }).catch(function (err) {\n            _this.util.abortTransaction();\n            return promiseReject(err);\n        });\n    };\n    Insert.prototype.insertData_ = function (db) {\n        var _this = this;\n        var onInsertData;\n        var addMethod;\n        var query = this.query;\n        if (query.return) {\n            onInsertData = function (value) {\n                _this.valuesAffected_.push(value);\n            };\n        }\n        else {\n            onInsertData = function (value) {\n                ++_this.rowAffected;\n            };\n        }\n        addMethod = (function () {\n            var idbMethod = query.upsert ? \"put\" : \"add\";\n            if (query.ignore && !_this.isTxQuery) {\n                return function (value) {\n                    var tx = _this.util.con.transaction(query.into, IDB_MODE.ReadWrite);\n                    var objectStore = tx.objectStore(query.into);\n                    return objectStore[idbMethod](value);\n                };\n            }\n            if (!_this.isTxQuery) {\n                _this.util.createTransaction([query.into, meta_helper_MetaHelper.tableName]);\n            }\n            _this.objectStore = _this.util.objectStore(_this.tableName);\n            return function (value) {\n                return _this.objectStore[idbMethod](value);\n            };\n        })();\n        return promiseAll(query.values.map(function (value) {\n            return promise(function (res, rej) {\n                var addResult = addMethod(value);\n                addResult.onerror = function (err) {\n                    if (query.ignore) {\n                        res();\n                    }\n                    else {\n                        rej(err);\n                    }\n                };\n                addResult.onsuccess = function () {\n                    onInsertData(value);\n                    res();\n                };\n            });\n        })).then(function () {\n            meta_helper_MetaHelper.set(meta_helper_MetaHelper.dbSchema, db, _this.util);\n        });\n    };\n    return Insert;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/utils/set_cross_browser_idb.ts\nvar setCrossBrowserIndexedDb = function () {\n    try {\n        if (!indexedDB) {\n            indexedDB = self.mozIndexedDB ||\n                self.webkitIndexedDB || self.msIndexedDB;\n        }\n        if (indexedDB) {\n            IDBTransaction = IDBTransaction ||\n                self.webkitIDBTransaction || self.msIDBTransaction;\n            self.IDBKeyRange = self.IDBKeyRange ||\n                self.webkitIDBKeyRange || self.msIDBKeyRange;\n        }\n        else {\n            return false;\n        }\n    }\n    catch (ex) {\n        return false;\n    }\n    return true;\n};\n\n// CONCATENATED MODULE: ./src/worker/constants/index.ts\n\nvar IS_WORKER = typeof self.alert === 'undefined' && typeof ServiceWorkerGlobalScope === 'undefined';\nvar IS_IDB_SUPPORTED = setCrossBrowserIndexedDb();\n\n// CONCATENATED MODULE: ./src/worker/utils/get_keys.ts\nvar getKeys = function (value) {\n    return Object.keys(value);\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/is_array.ts\nvar isArray = function (value) {\n    return Array.isArray(value);\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/is_object.ts\nvar isObject = function (value) {\n    return typeof value === 'object';\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/get_length.ts\n\nvar getLength = function (value) {\n    return getKeys(value).length;\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/get_object_first_key.ts\nvar getObjectFirstKey = function (value) {\n    for (var key in value) {\n        return key;\n    }\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/base_select.ts\nvar setPushResult = function () {\n    var _this = this;\n    if (this.query.case) {\n        this.pushResult = function (value) {\n            var columnName;\n            _this.thenEvaluator.setCaseAndValue(_this.query.case, value);\n            for (columnName in _this.query.case) {\n                value[columnName] = _this.thenEvaluator.setColumn(columnName).evaluate();\n            }\n            _this.results.push(value);\n        };\n    }\n    else {\n        this.pushResult = function (value) {\n            _this.results.push(value);\n        };\n    }\n};\nvar setLimitAndSkipEvaluationAtEnd = function () {\n    if (this.query.limit) {\n        this.shouldEvaluateLimitAtEnd = true;\n    }\n    if (this.query.skip) {\n        this.shouldEvaluateSkipAtEnd = true;\n    }\n};\nvar removeDuplicates = function () {\n    var datas = this.results;\n    // free results memory\n    this.results = null;\n    var key = this.primaryKey();\n    var lookupObject = {};\n    for (var i = 0, len = datas.length; i < len; i++) {\n        lookupObject[datas[i][key]] = datas[i];\n    }\n    datas = [];\n    for (var i in lookupObject) {\n        datas.push(lookupObject[i]);\n    }\n    this.results = datas;\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/then_evaluator.ts\n\nvar then_evaluator_ThenEvaluator = /** @class */ (function () {\n    function ThenEvaluator() {\n    }\n    ThenEvaluator.prototype.setCaseAndValue = function (caseQuery, value) {\n        this.caseQuery_ = caseQuery;\n        this.setValue(value);\n    };\n    ThenEvaluator.prototype.setCaseAndColumn = function (caseQuery, columnName) {\n        this.caseQuery_ = caseQuery;\n        this.setColumn(columnName);\n        return this;\n    };\n    ThenEvaluator.prototype.setColumn = function (columnName) {\n        this.columnName_ = columnName;\n        this.caseColumnQuery_ = this.caseQuery_[this.columnName_];\n        this.length_ = this.caseColumnQuery_.length;\n        return this;\n    };\n    ThenEvaluator.prototype.setValue = function (value) {\n        this.value = value;\n        return this;\n    };\n    ThenEvaluator.prototype.evaluate = function () {\n        for (var i = 0; i < this.length_; i++) {\n            if (this.checkCase_(this.caseColumnQuery_[i]) === true) {\n                return this.caseColumnQuery_[i].then;\n            }\n        }\n        var lastThen = this.caseColumnQuery_[this.length_ - 1].then;\n        return lastThen == null ? this.value[this.columnName_] : lastThen;\n    };\n    ThenEvaluator.prototype.checkCase_ = function (cond) {\n        var queryOption;\n        for (queryOption in cond) {\n            switch (queryOption) {\n                case QUERY_OPTION.GreaterThan:\n                    if (this.value[this.columnName_] > cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.Equal:\n                    if (this.value[this.columnName_] === cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.LessThan:\n                    if (this.value[this.columnName_] < cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.GreaterThanEqualTo:\n                    if (this.value[this.columnName_] >= cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.LessThanEqualTo:\n                    if (this.value[this.columnName_] <= cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.NotEqualTo:\n                    if (this.value[this.columnName_] !== cond[queryOption]) {\n                        return true;\n                    }\n                    break;\n                case QUERY_OPTION.Between:\n                    if (this.value[this.columnName_] > cond[queryOption].low && this.value[this.columnName_] < cond[queryOption].high) {\n                        return true;\n                    }\n                    break;\n            }\n            return false;\n        }\n    };\n    return ThenEvaluator;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/select/not_where.ts\n\n\nvar executeWhereUndefinedLogic = function () {\n    var _this = this;\n    var cursorRequest;\n    if (this.query.order && this.query.order.idbSorting !== false && this.query.order.by) {\n        if (this.objectStore.indexNames.contains(this.query.order.by)) {\n            var orderType = this.query.order.type &&\n                this.query.order.type.toLowerCase() === 'desc' ? 'prev' : 'next';\n            this.sorted = true;\n            cursorRequest = this.objectStore.index(this.query.order.by).\n                openCursor(null, orderType);\n        }\n        else {\n            return promiseReject(new log_helper_LogHelper(ERROR_TYPE.ColumnNotExist, { column: this.query.order.by, isOrder: true }));\n        }\n    }\n    else {\n        cursorRequest = this.objectStore.openCursor();\n    }\n    var onSuccess = (function () {\n        if (_this.shouldEvaluateLimitAtEnd === false && _this.shouldEvaluateSkipAtEnd === false) {\n            if (_this.skipRecord && _this.limitRecord) {\n                return executeSkipAndLimit;\n            }\n            else if (_this.skipRecord) {\n                return executeSkip;\n            }\n            else if (_this.limitRecord) {\n                return executeLimit;\n            }\n        }\n        return executeSimple;\n    })();\n    return promise(function (res, rej) {\n        cursorRequest.onerror = rej;\n        cursorRequest.onsuccess = onSuccess.call(_this, res);\n    });\n};\nvar executeSkipAndLimit = function (onFinished) {\n    var _this = this;\n    var recordSkipped = false, cursor;\n    return function (e) {\n        cursor = e.target.result;\n        if (cursor) {\n            if (recordSkipped && _this.results.length !== _this.limitRecord) {\n                _this.pushResult(cursor.value);\n                cursor.continue();\n            }\n            else {\n                recordSkipped = true;\n                cursor.advance(_this.skipRecord);\n            }\n        }\n        else {\n            onFinished();\n        }\n    };\n};\nvar executeSkip = function (onFinished) {\n    var _this = this;\n    var recordSkipped = false, cursor;\n    return function (e) {\n        cursor = e.target.result;\n        if (cursor) {\n            if (recordSkipped) {\n                _this.pushResult(cursor.value);\n                cursor.continue();\n            }\n            else {\n                recordSkipped = true;\n                cursor.advance(_this.skipRecord);\n            }\n        }\n        else {\n            onFinished();\n        }\n    };\n};\nvar executeSimple = function (onFinished) {\n    var _this = this;\n    var cursor;\n    return function (e) {\n        cursor = e.target.result;\n        if (cursor) {\n            _this.pushResult(cursor.value);\n            cursor.continue();\n        }\n        else {\n            onFinished();\n        }\n    };\n};\nvar executeLimit = function (onFinished) {\n    var _this = this;\n    var cursor;\n    return function (e) {\n        cursor = e.target.result;\n        if (cursor && _this.results.length !== _this.limitRecord) {\n            _this.pushResult(cursor.value);\n            cursor.continue();\n        }\n        else {\n            onFinished();\n        }\n    };\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/remove_space.ts\nvar removeSpace = function (value) {\n    return value.replace(/\\s/g, '');\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/order_by.ts\n\n\nvar processGroupDistinctAggr = function () {\n    if (this.query.distinct) {\n        var groupBy = [];\n        var result = this.results[0];\n        for (var key in result) {\n            groupBy.push(key);\n        }\n        var primaryKey = this.primaryKey(), index = groupBy.indexOf(primaryKey);\n        groupBy.splice(index, 1);\n        this.query.groupBy = groupBy.length > 0 ? groupBy : null;\n    }\n    if (this.query.groupBy) {\n        if (this.query.aggregate) {\n            this.executeAggregateGroupBy();\n        }\n        else {\n            this.processGroupBy();\n        }\n    }\n    else if (this.query.aggregate) {\n        this.processAggregateQry();\n    }\n};\nvar getOrderColumnInfo = function (orderColumn) {\n    var column;\n    if (this.query.join == null) {\n        column = this.getColumnInfo(orderColumn);\n    }\n    else {\n        var splittedByDot = removeSpace(orderColumn).split(\".\");\n        orderColumn = splittedByDot[1];\n        column = this.getColumnInfo(orderColumn, splittedByDot[0]);\n    }\n    if (column == null) {\n        var valueFromFirstColumn = this.results[0][orderColumn];\n        if (valueFromFirstColumn) {\n            return {\n                dataType: getDataType(valueFromFirstColumn),\n                name: orderColumn\n            };\n        }\n        throw new log_helper_LogHelper(ERROR_TYPE.ColumnNotExist, { column: orderColumn, isOrder: true });\n    }\n    return column;\n};\nvar compareStringInDesc_ = function (a, b) {\n    return b.localeCompare(a);\n};\nvar compareStringinAsc_ = function (a, b) {\n    return a.localeCompare(b);\n};\nvar compareDefaultInDesc_ = function (a, b) {\n    return new String(b).localeCompare(a);\n};\nvar compareDefaultinAsc_ = function (a, b) {\n    return new String(a).localeCompare(b);\n};\nvar compareNumberInDesc_ = function (a, b) {\n    return b - a;\n};\nvar compareNumberinAsc_ = function (a, b) {\n    return a - b;\n};\nvar compareDateInDesc_ = function (a, b) {\n    return b.getTime() - a.getTime();\n};\nvar compareDateInAsc_ = function (a, b) {\n    return a.getTime() - b.getTime();\n};\nvar getValInDesc_ = function (value1, value2, caseQuery) {\n    for (var columnName in caseQuery) {\n        this.thenEvaluator.setCaseAndValue(caseQuery, value1);\n        var column1 = this.thenEvaluator.setColumn(columnName).evaluate();\n        this.thenEvaluator.setCaseAndValue(caseQuery, value2);\n        var column2 = this.thenEvaluator.setColumn(columnName).evaluate();\n        switch (typeof value1[column1]) {\n            case DATA_TYPE.String:\n                return compareStringInDesc_(value1[column1], value2[column2]);\n            default:\n                return compareNumberInDesc_(value1[column1], value2[column2]);\n        }\n    }\n};\nvar getValInAsc_ = function (value1, value2, caseQuery) {\n    for (var columnName in caseQuery) {\n        this.thenEvaluator.setCaseAndValue(caseQuery, value1);\n        var column1 = this.thenEvaluator.setColumn(columnName).evaluate();\n        this.thenEvaluator.setCaseAndValue(caseQuery, value2);\n        var column2 = this.thenEvaluator.setColumn(columnName).evaluate();\n        switch (typeof value1[column1]) {\n            case DATA_TYPE.String:\n                return compareStringinAsc_(value1[column1], value2[column2]);\n            default:\n                return compareNumberinAsc_(value1[column1], value2[column2]);\n        }\n    }\n};\nvar getValueComparer_ = function (column, order) {\n    switch (column.dataType) {\n        case DATA_TYPE.String:\n            return order.type === 'asc' ? compareStringinAsc_ : compareStringInDesc_;\n        case DATA_TYPE.Number:\n            return order.type === 'asc' ? compareNumberinAsc_ : compareNumberInDesc_;\n        case DATA_TYPE.DateTime:\n            return order.type === 'asc' ? compareDateInAsc_ : compareDateInDesc_;\n        default:\n            return order.type === 'asc' ? compareDefaultinAsc_ : compareDefaultInDesc_;\n    }\n};\nvar orderBy_ = function (order) {\n    var _a;\n    var _this = this;\n    order.type = getOrderType_(order.type);\n    var orderColumn = order.by;\n    if (orderColumn != null && typeof orderColumn === DATA_TYPE.Object) {\n        if (order.type === \"asc\") {\n            this.results.sort(function (a, b) {\n                return getValInAsc_.call(_this, a, b, orderColumn);\n            });\n        }\n        else {\n            this.results.sort(function (a, b) {\n                return getValInDesc_.call(_this, a, b, orderColumn);\n            });\n        }\n    }\n    else {\n        var columnInfo = getOrderColumnInfo.call(this, orderColumn);\n        if (columnInfo != null) {\n            var orderMethod_1 = getValueComparer_(columnInfo, order);\n            orderColumn = columnInfo.name;\n            if (order.case == null) {\n                this.results.sort(function (a, b) {\n                    return orderMethod_1(a[orderColumn], b[orderColumn]);\n                });\n            }\n            else {\n                this.thenEvaluator.setCaseAndColumn((_a = {}, _a[orderColumn] = order.case, _a), orderColumn);\n                this.results.sort(function (a, b) {\n                    return orderMethod_1(_this.thenEvaluator.setValue(a).evaluate(), _this.thenEvaluator.setValue(b).evaluate());\n                });\n            }\n        }\n    }\n};\nvar getOrderType_ = function (type) {\n    return type == null ? 'asc' : type.toLowerCase();\n};\nvar processOrderBy = function () {\n    var order = this.query.order;\n    if (order && this.results.length > 0 && !this.sorted) {\n        var orderQueryType = getDataType(order);\n        if (orderQueryType === DATA_TYPE.Object) {\n            orderBy_.call(this, order);\n        }\n        else if (orderQueryType === DATA_TYPE.Array) {\n            orderBy_.call(this, order[0]);\n            var _loop_1 = function (i, length_1) {\n                // if (this.error == null) {\n                var prevOrderQueryBy = order[i - 1].by;\n                var currentOrderQuery = order[i];\n                var currentorderQueryBy = currentOrderQuery.by;\n                var orderColumnDetail = getOrderColumnInfo.call(this_1, currentorderQueryBy);\n                if (orderColumnDetail != null) {\n                    currentorderQueryBy = orderColumnDetail.name;\n                    currentOrderQuery.type = getOrderType_(currentOrderQuery.type);\n                    var orderMethod_2 = getValueComparer_(orderColumnDetail, currentOrderQuery);\n                    this_1.results.sort(function (a, b) {\n                        if (a[prevOrderQueryBy] === b[prevOrderQueryBy]) {\n                            return orderMethod_2(a[currentorderQueryBy], b[currentorderQueryBy]);\n                        }\n                        return 0;\n                    });\n                }\n            };\n            var this_1 = this;\n            for (var i = 1, length_1 = order.length; i < length_1; i++) {\n                _loop_1(i, length_1);\n            }\n        }\n    }\n};\nvar processAggregateQry = function () {\n    var datas = this.results;\n    var datasLength = datas.length;\n    var results = {};\n    var columnToAggregate;\n    // free results memory\n    this.results = undefined;\n    var getCount = function () {\n        var result = 0;\n        for (var i in datas) {\n            result += datas[i][columnToAggregate] ? 1 : 0;\n        }\n        return result;\n    };\n    var getMax = function () {\n        var result = 0;\n        for (var i in datas) {\n            result = result > datas[i][columnToAggregate] ?\n                result : datas[i][columnToAggregate];\n        }\n        return result;\n    };\n    var getMin = function () {\n        var result = Infinity, value = Infinity;\n        for (var i in datas) {\n            value = datas[i][columnToAggregate] ?\n                datas[i][columnToAggregate] : Infinity;\n            result = result < value ? result : value;\n        }\n        return result;\n    };\n    var getSum = function () {\n        var result = 0;\n        for (var i in datas) {\n            result += datas[i][columnToAggregate];\n        }\n        return result;\n    };\n    var getAvg = function () {\n        var result = 0;\n        for (var i in datas) {\n            result += datas[i][columnToAggregate];\n        }\n        return result / datasLength;\n    };\n    for (var prop in this.query.aggregate) {\n        var aggregateColumn = this.query.aggregate[prop];\n        var aggregateValType = getDataType(aggregateColumn);\n        var aggregateCalculator = void 0;\n        switch (prop) {\n            case 'count':\n                aggregateCalculator = getCount;\n                break;\n            case 'max':\n                aggregateCalculator = getMax;\n                break;\n            case 'min':\n                aggregateCalculator = getMin;\n                break;\n            case 'sum':\n                aggregateCalculator = getSum;\n                break;\n            case 'avg':\n                aggregateCalculator = getAvg;\n                break;\n        }\n        switch (aggregateValType) {\n            case DATA_TYPE.String:\n                columnToAggregate = aggregateColumn;\n                results[prop + \"(\" + columnToAggregate + \")\"] = aggregateCalculator();\n                break;\n            case DATA_TYPE.Array:\n                for (var key in aggregateColumn) {\n                    columnToAggregate = aggregateColumn[key];\n                    results[prop + \"(\" + columnToAggregate + \")\"] = aggregateCalculator();\n                }\n        }\n    }\n    // add results to the first index of result\n    for (var prop in results) {\n        datas[0][prop] = results[prop];\n    }\n    this.results = [datas[0]];\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/group_by.ts\n\n\nvar processGroupBy = function () {\n    var groupBy = this.query.groupBy;\n    var datas = this.results;\n    var lookUpObj = {};\n    // free results memory\n    this.results = this.query.groupBy = null;\n    if (getDataType(groupBy) !== DATA_TYPE.Object) {\n        if (getDataType(groupBy) === DATA_TYPE.String) {\n            for (var i in datas) {\n                lookUpObj[datas[i][groupBy]] = datas[i];\n            }\n        }\n        else {\n            var objKey = void 0;\n            for (var i in datas) {\n                objKey = \"\";\n                for (var column in groupBy) {\n                    objKey += datas[i][groupBy[column]];\n                }\n                lookUpObj[objKey] = datas[i];\n            }\n        }\n    }\n    else {\n        var caseQueryLength = Object.keys(groupBy).length;\n        if (caseQueryLength === 1) {\n            var groupByColumn = getObjectFirstKey(groupBy);\n            this.thenEvaluator.setCaseAndColumn(groupBy, groupByColumn);\n            for (var i in datas) {\n                lookUpObj[this.thenEvaluator.setValue(datas[i]).evaluate()] = datas[i];\n            }\n        }\n        else {\n            var objKey = void 0;\n            for (var i in datas) {\n                objKey = \"\";\n                this.thenEvaluator.setCaseAndValue(groupBy, datas[i]);\n                for (var column in groupBy) {\n                    objKey += this.thenEvaluator.setColumn(column).evaluate();\n                }\n                lookUpObj[objKey] = datas[i];\n            }\n        }\n    }\n    // free datas memory\n    datas = [];\n    for (var i in lookUpObj) {\n        datas.push(lookUpObj[i]);\n    }\n    this.results = datas;\n};\nvar executeAggregateGroupBy = function () {\n    var grpQry = this.query.groupBy;\n    var datas = this.results;\n    // free results memory\n    this.results = undefined;\n    var lookUpObj = {};\n    // assign aggregate\n    var aggregateQry = this.query.aggregate;\n    var index;\n    var objKey;\n    var value;\n    var columnToAggregate;\n    var calculateAggregate = function () {\n        var getCount = function () {\n            value = lookUpObj[objKey];\n            // get old value\n            value = value ? value[\"count(\" + columnToAggregate + \")\"] : 0;\n            // add with old value if data exist\n            value += datas[index][columnToAggregate] ? 1 : 0;\n            return value;\n        };\n        var getMax = function () {\n            value = lookUpObj[objKey];\n            // get old value\n            value = value ? value[\"max(\" + columnToAggregate + \")\"] : 0;\n            datas[index][columnToAggregate] = datas[index][columnToAggregate] ?\n                datas[index][columnToAggregate] : 0;\n            // compare between old value and new value\n            return value > datas[index][columnToAggregate] ? value : datas[index][columnToAggregate];\n        };\n        var getMin = function () {\n            value = lookUpObj[objKey];\n            // get old value\n            value = value ? value[\"min(\" + columnToAggregate + \")\"] : Infinity;\n            datas[index][columnToAggregate] = datas[index][columnToAggregate] ?\n                datas[index][columnToAggregate] : Infinity;\n            // compare between old value and new value\n            return value < datas[index][columnToAggregate] ? value : datas[index][columnToAggregate];\n        };\n        var getSum = function () {\n            value = lookUpObj[objKey];\n            // get old value\n            value = value ? value[\"sum(\" + columnToAggregate + \")\"] : 0;\n            // add with old value if data exist\n            value += datas[index][columnToAggregate] ? datas[index][columnToAggregate] : 0;\n            return value;\n        };\n        var getAvg = function () {\n            value = lookUpObj[objKey];\n            // get old sum value\n            var sumOfColumn = value ? value[\"sum(\" + columnToAggregate + \")\"] : 0;\n            // add with old value if data exist\n            sumOfColumn += datas[index][columnToAggregate] ? datas[index][columnToAggregate] : 0;\n            datas[index][\"sum(\" + columnToAggregate + \")\"] = sumOfColumn;\n            // get old count value\n            value = value ? value[\"count(\" + columnToAggregate + \")\"] : 0;\n            // add with old value if data exist\n            value += datas[index][columnToAggregate] ? 1 : 0;\n            datas[index][\"count(\" + columnToAggregate + \")\"] = value;\n        };\n        for (var prop in aggregateQry) {\n            var aggregateColumn = aggregateQry[prop];\n            var aggregateValType = getDataType(aggregateColumn);\n            var aggregateCalculator = void 0;\n            switch (prop) {\n                case QUERY_OPTION.Count:\n                    aggregateCalculator = getCount;\n                    break;\n                case QUERY_OPTION.Max:\n                    aggregateCalculator = getMax;\n                    break;\n                case QUERY_OPTION.Min:\n                    aggregateCalculator = getMin;\n                    break;\n                case QUERY_OPTION.Sum:\n                    aggregateCalculator = getSum;\n                    break;\n                case QUERY_OPTION.Avg:\n                    aggregateCalculator = getAvg;\n                    break;\n            }\n            switch (aggregateValType) {\n                case DATA_TYPE.String:\n                    columnToAggregate = aggregateColumn;\n                    datas[index][prop + \"(\" + columnToAggregate + \")\"] = aggregateCalculator();\n                    break;\n                case DATA_TYPE.Array:\n                    for (var item in aggregateColumn) {\n                        columnToAggregate = aggregateColumn[item];\n                        datas[index][prop + \"(\" + columnToAggregate + \")\"] = aggregateCalculator();\n                    }\n            }\n        }\n    };\n    if (getDataType(grpQry) === DATA_TYPE.String) {\n        for (index in datas) {\n            objKey = datas[index][grpQry];\n            calculateAggregate();\n            lookUpObj[objKey] = datas[index];\n        }\n    }\n    else {\n        for (index in datas) {\n            objKey = \"\";\n            for (var column in grpQry) {\n                objKey += datas[index][grpQry[column]];\n            }\n            calculateAggregate();\n            lookUpObj[objKey] = datas[index];\n        }\n    }\n    // free datas memory\n    datas = [];\n    for (var i in lookUpObj) {\n        datas.push(lookUpObj[i]);\n    }\n    // Checking for avg and if exist then fill the datas;\n    if (aggregateQry.avg) {\n        if (getDataType(aggregateQry.avg) === DATA_TYPE.String) {\n            for (index in datas) {\n                var sumForAvg = datas[index][\"sum(\" + aggregateQry.avg + \")\"], countForAvg = datas[index][\"count(\" + aggregateQry.avg + \")\"];\n                datas[index][\"avg(\" + aggregateQry.avg + \")\"] = sumForAvg / countForAvg;\n                if (aggregateQry.count !== aggregateQry.avg) {\n                    delete datas[index][\"count(\" + aggregateQry.avg + \")\"];\n                }\n                if (aggregateQry.sum !== aggregateQry.avg) {\n                    delete datas[index][\"sum(\" + aggregateQry.avg + \")\"];\n                }\n            }\n        }\n        else {\n            var isCountTypeString = getDataType(aggregateQry.count) === DATA_TYPE.String;\n            var isSumTypeString = getDataType(aggregateQry.sum) === DATA_TYPE.String;\n            for (index in datas) {\n                for (var column in aggregateQry.avg) {\n                    var avgColumn = aggregateQry.avg[column], sum = datas[index][\"sum(\" + avgColumn + \")\"], count = datas[index][\"count(\" + avgColumn + \")\"];\n                    datas[index][\"avg(\" + avgColumn + \")\"] = sum / count;\n                    if (isCountTypeString) {\n                        if (aggregateQry.count !== avgColumn) {\n                            delete datas[index][\"count(\" + avgColumn + \")\"];\n                        }\n                        else if (aggregateQry.count.indexOf(avgColumn) === -1) {\n                            delete datas[index][\"count(\" + avgColumn + \")\"];\n                        }\n                    }\n                    if (isSumTypeString) {\n                        if (aggregateQry.sum !== avgColumn) {\n                            delete datas[index][\"sum(\" + avgColumn + \")\"];\n                        }\n                        else if (aggregateQry.sum.indexOf(avgColumn) === -1) {\n                            delete datas[index][\"sum(\" + avgColumn + \")\"];\n                        }\n                    }\n                }\n            }\n        }\n    }\n    this.results = datas;\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/where.ts\n\nvar executeWhereLogic = function (column, value, op, dir) {\n    var _this = this;\n    value = op ? value[op] : value;\n    var cursorRequest = this.objectStore.index(column).openCursor(this.util.keyRange(value, op), dir);\n    var onSuccess = (function () {\n        if (_this.shouldEvaluateLimitAtEnd === false && _this.shouldEvaluateSkipAtEnd === false) {\n            if (_this.skipRecord && _this.limitRecord) {\n                return executeSkipAndLimitForWhere_;\n            }\n            else if (_this.skipRecord) {\n                return executeSkipForWhere_;\n            }\n            else if (_this.limitRecord) {\n                return executeLimitForWhere_;\n            }\n        }\n        return executeSimpleForWhere_;\n    })();\n    return promise(function (res, rej) {\n        cursorRequest.onerror = rej;\n        cursorRequest.onsuccess = onSuccess.call(_this, res);\n    });\n};\nvar executeSkipAndLimitForWhere_ = function (onFinish) {\n    var _this = this;\n    var recordSkipped = false;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            if (recordSkipped && _this.results.length !== _this.limitRecord) {\n                var value = cursor.value;\n                if (_this.shouldAddValue(value)) {\n                    _this.pushResult(value);\n                }\n                cursor.continue();\n            }\n            else {\n                recordSkipped = true;\n                cursor.advance(_this.skipRecord);\n            }\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSkipForWhere_ = function (onFinish) {\n    var _this = this;\n    var recordSkipped = false;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            if (recordSkipped) {\n                var value = cursor.value;\n                if (_this.shouldAddValue(value)) {\n                    _this.pushResult(value);\n                }\n                cursor.continue();\n            }\n            else {\n                recordSkipped = true;\n                cursor.advance(_this.skipRecord);\n            }\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeLimitForWhere_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor && _this.results.length !== _this.limitRecord) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                _this.pushResult(value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSimpleForWhere_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                _this.pushResult(value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/get_regex_from_like.ts\n\nvar getRegexFromLikeExpression = function (likeExpression) {\n    var filterValues = likeExpression.split('%');\n    var filterValue;\n    var occurence;\n    if (filterValues[1]) {\n        filterValue = filterValues[1];\n        occurence = filterValues.length > 2 ? OCCURENCE.Any : OCCURENCE.Last;\n    }\n    else {\n        filterValue = filterValues[0];\n        occurence = OCCURENCE.First;\n    }\n    switch (occurence) {\n        case OCCURENCE.First:\n            return new RegExp(\"^\" + filterValue, 'i');\n        case OCCURENCE.Last:\n            return new RegExp(filterValue + \"$\", 'i');\n        default:\n            return new RegExp(\"\" + filterValue, 'i');\n    }\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/clone.ts\n\nvar clone_isObject = function (value) {\n    return getDataType(value) === 'object' && !(value instanceof RegExp);\n};\nvar clone = function (obj) {\n    if (clone_isObject(obj)) {\n        var copy = {};\n        for (var i in obj) {\n            copy[i] = obj[i] != null && clone_isObject(obj[i]) ? clone(obj[i]) : obj[i];\n        }\n        return copy;\n    }\n    return obj;\n};\n\n// CONCATENATED MODULE: ./src/worker/utils/compare.ts\n\n\nvar compare = function (value, compareValue, symbol) {\n    var type1 = getDataType(value);\n    var type2 = getDataType(compareValue);\n    if (type1 !== type2)\n        return false;\n    if (type1 === DATA_TYPE.DateTime) {\n        value = value.getTime();\n        compareValue = compareValue.getTime();\n    }\n    switch (symbol) {\n        // greater than\n        case QUERY_OPTION.GreaterThan:\n            return value > compareValue;\n        // less than\n        case QUERY_OPTION.LessThan:\n            return value < compareValue;\n        // less than equal\n        case QUERY_OPTION.LessThanEqualTo:\n            return value <= compareValue;\n        // greather than equal\n        case QUERY_OPTION.GreaterThanEqualTo:\n            return value >= compareValue;\n        // Not equal to\n        case QUERY_OPTION.NotEqualTo:\n            return value !== compareValue;\n        default:\n            return value === compareValue;\n    }\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/where_checker.ts\n\n\n/**\n * For matching the different column value existance for where option\n *\n * @export\n * @class WhereChecker\n */\nvar where_checker_WhereChecker = /** @class */ (function () {\n    function WhereChecker(where, checkFlag) {\n        this.where = clone(where);\n        this.checkFlag = checkFlag;\n    }\n    WhereChecker.prototype.remove = function (props) {\n        var last = props.pop();\n        var value = props.reduce(function (prev, curr) { return prev && prev[curr]; }, this.where);\n        delete value[last];\n    };\n    WhereChecker.prototype.check = function (rowValue) {\n        var status = true;\n        if (!this.checkFlag)\n            return status;\n        for (var columnName in this.where) {\n            if (!status) {\n                return status;\n            }\n            var whereColumnValue = this.where[columnName];\n            var columnValue = rowValue[columnName];\n            if (getDataType(whereColumnValue) === \"object\") {\n                for (var key in whereColumnValue) {\n                    if (!status) {\n                        return status;\n                    }\n                    switch (key) {\n                        case QUERY_OPTION.In:\n                            status = this.checkIn(columnName, columnValue);\n                            break;\n                        case QUERY_OPTION.Like:\n                            status = this.checkLike_(columnName, columnValue);\n                            break;\n                        case QUERY_OPTION.Regex:\n                            status = this.checkRegex(columnName, columnValue);\n                            break;\n                        case QUERY_OPTION.Between:\n                        case QUERY_OPTION.GreaterThan:\n                        case QUERY_OPTION.LessThan:\n                        case QUERY_OPTION.GreaterThanEqualTo:\n                        case QUERY_OPTION.LessThanEqualTo:\n                        case QUERY_OPTION.NotEqualTo:\n                            status = this.checkComparisionOp_(columnName, columnValue, key);\n                            break;\n                        default:\n                            status = false;\n                    }\n                }\n            }\n            else {\n                status = compare(whereColumnValue, columnValue);\n            }\n        }\n        return status;\n    };\n    WhereChecker.prototype.checkIn = function (column, value) {\n        return this.where[column][QUERY_OPTION.In].find(function (q) { return compare(q, value); }) != null;\n    };\n    WhereChecker.prototype.checkLike_ = function (column, value) {\n        return getRegexFromLikeExpression(this.where[column][QUERY_OPTION.Like]).test(value);\n    };\n    WhereChecker.prototype.checkRegex = function (column, value) {\n        return this.where[column][QUERY_OPTION.Regex].test(value);\n    };\n    WhereChecker.prototype.checkComparisionOp_ = function (column, value, symbol) {\n        var compareValue = this.where[column][symbol];\n        if (symbol != QUERY_OPTION.Between) {\n            return compare(value, compareValue, symbol);\n        }\n        return compare(value, compareValue.low, '>=') &&\n            compare(value, compareValue.high, '<=');\n    };\n    return WhereChecker;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/base_fetch.ts\nvar base_fetch_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar base_fetch_BaseFetch = /** @class */ (function (_super) {\n    base_fetch_extends(BaseFetch, _super);\n    function BaseFetch() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.shouldEvaluateLimitAtEnd = false;\n        _this.shouldEvaluateSkipAtEnd = false;\n        return _this;\n    }\n    BaseFetch.prototype.goToWhereLogic = function () {\n        var query = this.query;\n        var firstColumn = getObjectFirstKey(query.where);\n        if (this.objectStore.indexNames.contains(firstColumn)) {\n            var value = query.where[firstColumn];\n            if (getDataType(value) === 'object') {\n                var checkFlag = getLength(value) > 1 ||\n                    getLength(query.where) > 1;\n                this.whereCheckerInstance = new where_checker_WhereChecker(query.where, checkFlag);\n                var key = getObjectFirstKey(value);\n                this.whereCheckerInstance.remove([firstColumn, key]);\n                switch (key) {\n                    case QUERY_OPTION.Like: {\n                        var regexVal = getRegexFromLikeExpression(value[QUERY_OPTION.Like]);\n                        return this.executeRegexLogic(firstColumn, regexVal);\n                    }\n                    case QUERY_OPTION.Regex:\n                        return this.executeRegexLogic(firstColumn, value[QUERY_OPTION.Regex]);\n                    case QUERY_OPTION.In:\n                        return this.executeInLogic(firstColumn, value[QUERY_OPTION.In]);\n                    case QUERY_OPTION.Between:\n                    case QUERY_OPTION.GreaterThan:\n                    case QUERY_OPTION.LessThan:\n                    case QUERY_OPTION.GreaterThanEqualTo:\n                    case QUERY_OPTION.LessThanEqualTo:\n                        return this.executeWhereLogic(firstColumn, value, key, \"next\");\n                    case QUERY_OPTION.Aggregate: break;\n                    default:\n                        return this.executeWhereLogic(firstColumn, value, null, \"next\");\n                }\n            }\n            else {\n                var checkFlag = getLength(query.where) > 1;\n                this.whereCheckerInstance = new where_checker_WhereChecker(query.where, checkFlag);\n                this.whereCheckerInstance.remove([firstColumn]);\n                return this.executeWhereLogic(firstColumn, value, null, \"next\");\n            }\n        }\n        else {\n            var column = this.getColumnInfo(firstColumn);\n            var error = column == null ?\n                new log_helper_LogHelper(ERROR_TYPE.ColumnNotExist, { column: firstColumn }) :\n                new log_helper_LogHelper(ERROR_TYPE.EnableSearchOff, { column: firstColumn });\n            return promiseReject(error);\n        }\n    };\n    return BaseFetch;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/executors/select/in.ts\n\nvar executeInLogic = function (column, values) {\n    var _this = this;\n    var skip = this.skipRecord;\n    var skipOrPush = function (val) {\n        if (skip === 0) {\n            _this.pushResult(val);\n        }\n        else {\n            --skip;\n        }\n    };\n    var onSuccess = (function () {\n        if (_this.shouldEvaluateLimitAtEnd === false && _this.shouldEvaluateSkipAtEnd === false) {\n            if (_this.skipRecord && _this.limitRecord) {\n                return executeSkipAndLimitForIn_;\n            }\n            else if (_this.skipRecord) {\n                return executeSkipForIn_;\n            }\n            else if (_this.limitRecord) {\n                executeLimitForIn_;\n            }\n        }\n        return executeSimpleForIn_;\n    })();\n    var columnStore = this.objectStore.index(column);\n    var runInLogic = function (value) {\n        return promise(function (res, rej) {\n            var cursorRequest = columnStore.openCursor(_this.util.keyRange(value));\n            cursorRequest.onsuccess = onSuccess.call(_this, res, skipOrPush);\n            cursorRequest.onerror = rej;\n        });\n    };\n    return promiseAll(values.map(function (val) {\n        return runInLogic(val);\n    }));\n};\nvar executeSkipAndLimitForIn_ = function (onFinish, skipOrPush) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (_this.results.length !== _this.limitRecord && cursor) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                skipOrPush(value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSkipForIn_ = function (onFinish, skipOrPush) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                skipOrPush(value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeLimitForIn_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor && _this.results.length !== _this.limitRecord) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                _this.pushResult(cursor.value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSimpleForIn_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            var value = cursor.value;\n            if (_this.shouldAddValue(value)) {\n                _this.pushResult(value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/regex.ts\n\nvar executeRegexLogic = function (column, exp) {\n    var _this = this;\n    var skip = this.skipRecord;\n    var skipOrPush = function (val) {\n        if (skip === 0) {\n            _this.pushResult(val);\n        }\n        else {\n            --skip;\n        }\n    };\n    this.shouldAddValue = function (cursor) {\n        return exp.test(cursor.key) &&\n            _this.whereCheckerInstance.check(cursor.value);\n    };\n    var cursorRequest = this.objectStore.index(column).openCursor();\n    var onSuccess = (function () {\n        if (_this.shouldEvaluateLimitAtEnd === false && _this.shouldEvaluateSkipAtEnd === false) {\n            if (_this.skipRecord && _this.limitRecord) {\n                return executeSkipAndLimitForRegex_;\n            }\n            else if (_this.skipRecord) {\n                return executeSkipForRegex_;\n            }\n            else if (_this.limitRecord) {\n                return executeLimitForRegex_;\n            }\n        }\n        return executeSimpleForRegex_;\n    })();\n    return promise(function (res, rej) {\n        cursorRequest.onerror = rej;\n        cursorRequest.onsuccess = onSuccess.call(_this, res, skipOrPush);\n    });\n};\nvar executeSkipAndLimitForRegex_ = function (onFinish, skipOrPush) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (_this.results.length !== _this.limitRecord && cursor) {\n            if (_this.shouldAddValue(cursor)) {\n                skipOrPush(cursor.value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSkipForRegex_ = function (onFinish, skipOrPush) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            if (_this.shouldAddValue(cursor)) {\n                skipOrPush((cursor.value));\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeLimitForRegex_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (_this.results.length !== _this.limitRecord && cursor) {\n            if (_this.shouldAddValue(cursor)) {\n                _this.pushResult(cursor.value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\nvar executeSimpleForRegex_ = function (onFinish) {\n    var _this = this;\n    return function (e) {\n        var cursor = e.target.result;\n        if (cursor) {\n            if (_this.shouldAddValue(cursor)) {\n                _this.pushResult(cursor.value);\n            }\n            cursor.continue();\n        }\n        else {\n            onFinish();\n        }\n    };\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/select/join.ts\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar executeJoinQuery = function () {\n    return new join_Join(this).execute();\n};\nvar join_Join = /** @class */ (function () {\n    function Join(select) {\n        this.joinQueryStack_ = [];\n        this.currentQueryStackIndex_ = 0;\n        this.tablesFetched = [];\n        this.results = [];\n        this.select = select;\n    }\n    Object.defineProperty(Join.prototype, \"query\", {\n        get: function () {\n            return this.select.query;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Join.prototype.getTable = function (name) {\n        return this.select.table(name);\n    };\n    Join.prototype.executeSelect = function (query) {\n        // this.select.util.emptyTx();\n        return new select_Select(query, this.select.util).\n            execute(this.select.db);\n    };\n    Join.prototype.execute = function () {\n        var _this = this;\n        var query = this.query;\n        this.joinQueryStack_ = getDataType(query.join) === DATA_TYPE.Object ?\n            [query.join] : query.join;\n        // get the data for first table\n        var tableName = query.from;\n        var tablesToFetch = [tableName];\n        for (var i = 0, length_1 = this.joinQueryStack_.length; i < length_1; i++) {\n            var item = this.joinQueryStack_[i];\n            var jointblInfo = this.getJoinTableInfo_(item.on);\n            // table 1 is fetched & table2 needs to be fetched for join\n            if (item.with === jointblInfo.table1.table) {\n                jointblInfo = {\n                    table1: jointblInfo.table2,\n                    table2: jointblInfo.table1\n                };\n            }\n            var err = this.checkJoinQuery_(jointblInfo, item);\n            if (err) {\n                return promiseReject(err);\n            }\n            this.joinQueryStack_[i].joinTableInfo = jointblInfo;\n            tablesToFetch.push(item.with);\n        }\n        if (!this.select.isTxQuery) {\n            this.select.util.createTransaction(tablesToFetch);\n        }\n        return this.executeSelect({\n            from: tableName,\n            where: query.where,\n            case: query.case,\n            flatten: query.flatten\n        }).then(function (results) {\n            _this.results = results.map(function (item) {\n                var _a;\n                return _a = {},\n                    _a[_this.currentQueryStackIndex_] = item,\n                    _a;\n            });\n            _this.tablesFetched.push(tableName);\n            return _this.startExecutingJoinLogic_();\n        });\n    };\n    Join.prototype.onJoinQueryFinished_ = function () {\n        var _this = this;\n        // const query = this.query;\n        if (this.results.length > 0) {\n            try {\n                var results_1 = [];\n                var tables = Object.keys(this.results[0]);\n                var tablesLength_1 = tables.length;\n                var mapWithAlias_1 = function (query, value) {\n                    if (query.as != null) {\n                        for (var key in query.as) {\n                            if (value[query.as[key]] === undefined) {\n                                value[query.as[key]] = value[key];\n                                delete value[key];\n                            }\n                        }\n                    }\n                    return value;\n                };\n                this.results.forEach(function (result) {\n                    var data = result[\"0\"]; // first table data\n                    for (var i = 1; i < tablesLength_1; i++) {\n                        var query = _this.joinQueryStack_[i - 1];\n                        data = __assign(__assign({}, data), mapWithAlias_1(query, result[i]));\n                    }\n                    results_1.push(data);\n                });\n                this.select['results'] = results_1;\n                this.select.setLimitAndSkipEvaluationAtEnd_();\n                this.select.query.flatten = null;\n                if (true) {\n                    try {\n                        this.select.processOrderBy();\n                    }\n                    catch (ex) {\n                        return promiseReject(new log_helper_LogHelper(ERROR_TYPE.InvalidOrderQuery, ex.message));\n                    }\n                }\n                else {}\n                if (true) {\n                    try {\n                        this.select.processGroupDistinctAggr();\n                    }\n                    catch (ex) {\n                        return promiseReject(new log_helper_LogHelper(ERROR_TYPE.InvalidGroupQuery, ex.message));\n                    }\n                }\n                else {}\n            }\n            catch (ex) {\n                return promiseReject(new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, ex.message));\n            }\n        }\n        return;\n    };\n    Join.prototype.startExecutingJoinLogic_ = function () {\n        var _this = this;\n        var joinQuery = this.joinQueryStack_[this.currentQueryStackIndex_];\n        if (joinQuery) {\n            try {\n                var jointblInfo_1 = joinQuery.joinTableInfo;\n                return this.executeSelect({\n                    from: joinQuery.with,\n                    where: joinQuery.where,\n                    case: joinQuery.case,\n                    flatten: joinQuery.flatten\n                }).then(function (results) {\n                    _this.jointables(joinQuery.type, jointblInfo_1, results);\n                    _this.tablesFetched.push(jointblInfo_1.table2.table);\n                    ++_this.currentQueryStackIndex_;\n                    return _this.startExecutingJoinLogic_();\n                });\n            }\n            catch (ex) {\n                return promiseReject(new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, ex.message));\n            }\n        }\n        else {\n            return this.onJoinQueryFinished_();\n        }\n    };\n    Join.prototype.jointables = function (joinType, jointblInfo, secondtableData) {\n        var _this = this;\n        var results = [];\n        var column1 = jointblInfo.table1.column;\n        var column2 = jointblInfo.table2.column;\n        var table1Index = this.tablesFetched.indexOf(jointblInfo.table1.table);\n        var table2Index = this.currentQueryStackIndex_ + 1;\n        var performInnerJoin = function () {\n            var index = 0;\n            _this.results.forEach(function (valueFromFirstTable) {\n                secondtableData.forEach(function (valueFromSecondTable) {\n                    if (valueFromFirstTable[table1Index][column1] === valueFromSecondTable[column2]) {\n                        results[index] = __assign({}, valueFromFirstTable);\n                        results[index++][table2Index] = valueFromSecondTable;\n                    }\n                });\n            });\n        };\n        var performleftJoin = function () {\n            var index = 0;\n            var valueMatchedFromSecondTable;\n            var callBack;\n            var columnDefaultValue = {};\n            _this.getTable(jointblInfo.table2.table).columns.forEach(function (col) {\n                columnDefaultValue[col.name] = null;\n            });\n            _this.results.forEach(function (valueFromFirstTable) {\n                valueMatchedFromSecondTable = [];\n                if (table2Index === 1) {\n                    callBack = function (valueFromSecondTable) {\n                        if (valueFromFirstTable[table1Index][column1] === valueFromSecondTable[column2]) {\n                            valueMatchedFromSecondTable.push(valueFromSecondTable);\n                        }\n                    };\n                }\n                else {\n                    callBack = function (valueFromSecondTable) {\n                        var value = valueFromFirstTable[table1Index];\n                        if (value != null && value[column1] === valueFromSecondTable[column2]) {\n                            valueMatchedFromSecondTable.push(valueFromSecondTable);\n                        }\n                    };\n                }\n                secondtableData.forEach(callBack);\n                if (valueMatchedFromSecondTable.length === 0) {\n                    valueMatchedFromSecondTable = [columnDefaultValue];\n                }\n                valueMatchedFromSecondTable.forEach(function (value) {\n                    results[index] = __assign({}, valueFromFirstTable);\n                    results[index++][table2Index] = value;\n                });\n            });\n        };\n        switch (joinType) {\n            case \"left\":\n                performleftJoin();\n                break;\n            default:\n                performInnerJoin();\n        }\n        this.results = results;\n    };\n    Join.prototype.getJoinTableInfo_ = function (joinOn) {\n        joinOn = removeSpace(joinOn);\n        var splittedjoinOn = joinOn.split(\"=\");\n        var splittedjoinOnbydotFirst = splittedjoinOn[0].split(\".\");\n        var splittedjoinOnbydotSecond = splittedjoinOn[1].split(\".\");\n        var info = {\n            table1: {\n                table: splittedjoinOnbydotFirst[0],\n                column: splittedjoinOnbydotFirst[1]\n            },\n            table2: {\n                table: splittedjoinOnbydotSecond[0],\n                column: splittedjoinOnbydotSecond[1]\n            }\n        };\n        return info;\n    };\n    Join.prototype.checkJoinQuery_ = function (jointblInfo, qry) {\n        var table1 = jointblInfo.table1;\n        var table2 = jointblInfo.table2;\n        var tableSchemaOf1stTable = this.getTable(table1.table);\n        var tableSchemaOf2ndTable = this.getTable(table2.table);\n        var err;\n        // check on info & with info \n        if (qry.with !== table2.table) {\n            err = new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, \"on value should contains value of with\");\n        }\n        // check for column existance\n        if (tableSchemaOf1stTable.columns.find(function (q) { return q.name === table1.column; }) == null) {\n            err = new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, \"column \" + table1.column + \" does not exist in table \" + table1.table);\n        }\n        else if (tableSchemaOf2ndTable.columns.find(function (q) { return q.name === table2.column; }) == null) {\n            err = new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, \"column \" + table2.column + \" does not exist in table \" + table2.table);\n        }\n        // check for column match in both table\n        if (qry.as == null) {\n            qry.as = {};\n        }\n        tableSchemaOf1stTable.columns.every(function (column) {\n            var columnFound = tableSchemaOf2ndTable.columns.find(function (q) { return q.name === column.name && q.name !== table1.column; });\n            if (columnFound != null && qry.as[columnFound.name] == null) {\n                err = new log_helper_LogHelper(ERROR_TYPE.InvalidJoinQuery, \"column \" + column.name + \" exist in both table \" + table1.table + \" & \" + table2.table);\n                return false;\n            }\n            return true;\n        });\n        return err;\n    };\n    return Join;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/executors/select/index.ts\nvar select_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar select_assign = (undefined && undefined.__assign) || function () {\n    select_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return select_assign.apply(this, arguments);\n};\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar select_Select = /** @class */ (function (_super) {\n    select_extends(Select, _super);\n    function Select(query, util) {\n        var _this = _super.call(this) || this;\n        _this.sorted = false;\n        _this.isSubQuery = false;\n        _this.thenEvaluator = new then_evaluator_ThenEvaluator();\n        _this.returnResult_ = function () {\n            if (_this.results.length > 0) {\n                if (_this.query.flatten) {\n                    var flattendData_1 = [];\n                    var indexToDelete_1 = {};\n                    _this.query.flatten.forEach(function (column) {\n                        _this.results.forEach(function (data, i) {\n                            data[column].forEach(function (item) {\n                                var _a;\n                                flattendData_1.push(select_assign(select_assign({}, data), (_a = {}, _a[column] = item, _a)));\n                            });\n                            indexToDelete_1[i] = true;\n                        });\n                    });\n                    var itemsDeleted_1 = 0;\n                    getKeys(indexToDelete_1).forEach(function (key) {\n                        _this.results.splice(Number(key) - itemsDeleted_1, 1);\n                        ++itemsDeleted_1;\n                    });\n                    _this.results = _this.results.concat(flattendData_1);\n                }\n                _this.processGroupDistinctAggr();\n                _this.processOrderBy();\n                if (_this.shouldEvaluateSkipAtEnd) {\n                    _this.results.splice(0, _this.query.skip);\n                }\n                if (_this.shouldEvaluateLimitAtEnd) {\n                    _this.results = _this.results.slice(0, _this.query.limit);\n                }\n            }\n            return _this.results;\n        };\n        _this.query = query;\n        _this.util = util;\n        _this.tableName = query.from;\n        _this.setPushResult();\n        if (isArray(_this.query.where)) {\n            _this.isArrayQry = true;\n            _this.setLimitAndSkipEvaluationAtEnd_();\n        }\n        else {\n            _this.skipRecord = query.skip;\n            _this.limitRecord = query.limit;\n        }\n        if (query.order) {\n            if (isArray(query.order) || query.order.case || isObject(query.order.by)) {\n                _this.query.order.idbSorting = false;\n            }\n            _this.setLimitAndSkipEvaluationAtEnd_();\n        }\n        else if (query.groupBy) {\n            _this.setLimitAndSkipEvaluationAtEnd_();\n        }\n        return _this;\n    }\n    Select.prototype.execute = function (db) {\n        this.db = db;\n        var pResult;\n        try {\n            var err = new query_helper_QueryHelper(db).validate(API.Select, this.query);\n            if (err)\n                return promiseReject(err);\n            this.initTransaction_();\n            if (this.query.join == null) {\n                if (this.query.where != null) {\n                    if (isArray(this.query.where)) {\n                        pResult = this.processWhereArrayQry();\n                    }\n                    else {\n                        pResult = this.processWhere_();\n                    }\n                }\n                else {\n                    pResult = this.executeWhereUndefinedLogic();\n                }\n            }\n            else {\n                pResult = this.executeJoinQuery();\n            }\n            return pResult.then(this.returnResult_.bind(this));\n        }\n        catch (ex) {\n            return this.onException(ex);\n        }\n    };\n    Select.prototype.processWhereArrayQry = function () {\n        var _this = this;\n        this.isArrayQry = true;\n        var whereQuery = this.query.where;\n        var pKey = this.primaryKey();\n        var isFirstWhere = true, output = [], operation;\n        var isItemExist = function (keyValue) {\n            return output.findIndex(function (item) { return item[pKey] === keyValue; }) >= 0;\n        };\n        var onSuccess = function () {\n            if (operation === QUERY_OPTION.And) {\n                var doAnd = function () {\n                    var andResults = [];\n                    _this.results.forEach(function (item) {\n                        if (isItemExist(item[pKey])) {\n                            andResults.push(item);\n                        }\n                    });\n                    output = andResults;\n                    andResults = null;\n                };\n                if (isFirstWhere === true) {\n                    output = _this.results;\n                }\n                else if (output.length > 0) {\n                    doAnd();\n                }\n            }\n            else {\n                if (output.length > 0) {\n                    _this.results = __spreadArray(__spreadArray([], output), _this.results);\n                    _this.removeDuplicates();\n                    output = _this.results;\n                }\n                else {\n                    output = _this.results;\n                }\n            }\n            isFirstWhere = false;\n            if (whereQuery.length > 0) {\n                _this.results = [];\n                return processFirstQry();\n            }\n            else {\n                _this.results = output;\n            }\n        };\n        var processFirstQry = function () {\n            _this.query.where = whereQuery.shift();\n            if (_this.query.where[QUERY_OPTION.Or]) {\n                if (getLength(_this.query.where) === 1) {\n                    operation = QUERY_OPTION.Or;\n                    _this.query.where = _this.query.where[QUERY_OPTION.Or];\n                }\n                else {\n                    operation = QUERY_OPTION.And;\n                }\n            }\n            else {\n                operation = QUERY_OPTION.And;\n            }\n            return _this.processWhere_().then(onSuccess);\n        };\n        return processFirstQry();\n    };\n    Select.prototype.initTransaction_ = function () {\n        if (!this.isTxQuery) {\n            this.util.createTransactionIfNotExist([this.tableName], IDB_MODE.ReadOnly);\n        }\n        this.objectStore = this.util.objectStore(this.tableName);\n    };\n    Select.prototype.processWhere_ = function () {\n        var _this = this;\n        this.shouldAddValue = function (value) {\n            return _this.whereCheckerInstance.check(value);\n        };\n        if (this.query.where.or) {\n            this.processOrLogic_();\n        }\n        return this.goToWhereLogic().then(function () {\n            return _this.onWhereEvaluated();\n        });\n    };\n    Select.prototype.onWhereEvaluated = function () {\n        if (this.isOr) {\n            return this.orQuerySuccess_();\n        }\n    };\n    Select.prototype.orQueryFinish_ = function () {\n        this.isOr = false;\n        this.results = this.orInfo.results;\n        // free or info memory\n        this.orInfo = null;\n        this.removeDuplicates();\n        // this.onQueryFinished();\n    };\n    Select.prototype.orQuerySuccess_ = function () {\n        this.orInfo.results = __spreadArray(__spreadArray([], this.orInfo.results), this.results);\n        if (!this.query.limit || (this.query.limit > this.orInfo.results.length)) {\n            this.results = [];\n            var key = getObjectFirstKey(this.orInfo.orQuery);\n            if (key != null) {\n                var where = {};\n                where[key] = this.orInfo.orQuery[key];\n                delete this.orInfo.orQuery[key];\n                this.query.where = where;\n                return this.goToWhereLogic().then(this.onWhereEvaluated.bind(this));\n            }\n        }\n        return this.orQueryFinish_();\n    };\n    Select.prototype.processOrLogic_ = function () {\n        this.isOr = true;\n        var where = this.query.where;\n        this.orInfo = {\n            orQuery: where.or,\n            results: []\n        };\n        // free or memory\n        delete where.or;\n    };\n    return Select;\n}(base_fetch_BaseFetch));\n\nselect_Select.prototype.executeInLogic = executeInLogic;\nselect_Select.prototype.executeWhereUndefinedLogic = executeWhereUndefinedLogic;\nselect_Select.prototype.executeWhereLogic = executeWhereLogic;\nselect_Select.prototype.executeRegexLogic = executeRegexLogic;\nselect_Select.prototype.setLimitAndSkipEvaluationAtEnd_ = setLimitAndSkipEvaluationAtEnd;\nselect_Select.prototype.setPushResult = setPushResult;\nselect_Select.prototype.removeDuplicates = removeDuplicates;\nselect_Select.prototype.executeJoinQuery = executeJoinQuery;\nselect_Select.prototype.processGroupDistinctAggr = processGroupDistinctAggr;\nselect_Select.prototype.processOrderBy = processOrderBy;\nselect_Select.prototype.processAggregateQry = processAggregateQry;\nselect_Select.prototype.executeAggregateGroupBy = executeAggregateGroupBy;\nselect_Select.prototype.processGroupBy = processGroupBy;\n\n// CONCATENATED MODULE: ./src/worker/executors/count/not_where.ts\n\nvar not_where_executeWhereUndefinedLogic = function () {\n    var _this = this;\n    var countRequest;\n    var onSuccess = (function () {\n        if (_this.objectStore.count) {\n            countRequest = _this.objectStore.count();\n            return function (onFinish) {\n                return function () {\n                    _this.resultCount = countRequest.result;\n                    onFinish();\n                };\n            };\n        }\n        else {\n            var cursor_1;\n            countRequest = _this.objectStore.openCursor();\n            return function (onFinish) {\n                return function (e) {\n                    cursor_1 = e.target.result;\n                    if (cursor_1) {\n                        ++_this.resultCount;\n                        cursor_1.continue();\n                    }\n                    else {\n                        onFinish();\n                    }\n                };\n            };\n        }\n    })();\n    return promise(function (res, rej) {\n        countRequest.onerror = rej;\n        countRequest.onsuccess = onSuccess(res);\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/count/where.ts\n\n\nvar where_executeWhereLogic = function (column, value, op) {\n    var _this = this;\n    value = op ? value[op] : value;\n    var cursorRequest;\n    var cursor;\n    return promise(function (res, rej) {\n        if (getLength(_this.query.where) === 1 && _this.objectStore.count) {\n            cursorRequest = _this.objectStore.index(column).count(_this.util.keyRange(value, op));\n            cursorRequest.onsuccess = function () {\n                _this.resultCount = cursorRequest.result;\n                res();\n            };\n        }\n        else {\n            cursorRequest = _this.objectStore.index(column).openCursor(_this.util.keyRange(value, op));\n            cursorRequest.onsuccess = function (e) {\n                cursor = e.target.result;\n                if (cursor) {\n                    if (_this.whereCheckerInstance.check(cursor.value)) {\n                        ++_this.resultCount;\n                    }\n                    cursor.continue();\n                }\n                else {\n                    res();\n                }\n            };\n        }\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/count/regex.ts\n\nvar regex_executeRegexLogic = function (column, exp) {\n    var _this = this;\n    var cursor;\n    var cursorRequest = this.objectStore.index(column).openCursor();\n    this.shouldAddValue = function (cursor) {\n        return exp.test(cursor.key) &&\n            _this.whereCheckerInstance.check(cursor.value);\n    };\n    return promise(function (res, rej) {\n        cursorRequest.onerror = rej;\n        cursorRequest.onsuccess = function (e) {\n            cursor = e.target.result;\n            if (cursor) {\n                if (_this.shouldAddValue(cursor)) {\n                    ++_this.resultCount;\n                }\n                cursor.continue();\n            }\n            else {\n                res();\n            }\n        };\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/count/in.ts\n\nvar in_executeInLogic = function (column, values) {\n    var _this = this;\n    var cursor;\n    var columnStore = this.objectStore.index(column);\n    var runInLogic = function (value) {\n        var keyRange = _this.util.keyRange(value);\n        if (_this.objectStore.count) {\n            return promise(function (res, rej) {\n                var cursorRequest = columnStore.count(keyRange);\n                cursorRequest.onsuccess = function (e) {\n                    _this.resultCount += e.target.result;\n                    res();\n                };\n                cursorRequest.onerror = rej;\n            });\n        }\n        return promise(function (res, rej) {\n            var cursorRequest = columnStore.openCursor(keyRange);\n            cursorRequest.onsuccess = function (e) {\n                cursor = e.target.result;\n                if (cursor) {\n                    if (_this.whereCheckerInstance.check(cursor.value)) {\n                        ++_this.resultCount;\n                    }\n                    cursor.continue();\n                }\n                else {\n                    res();\n                }\n            };\n            cursorRequest.onerror = rej;\n        });\n    };\n    return promiseAll(values.map(function (val) {\n        return runInLogic(val);\n    }));\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/count/index.ts\nvar count_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar count_Count = /** @class */ (function (_super) {\n    count_extends(Count, _super);\n    function Count(query, util) {\n        var _this = _super.call(this) || this;\n        _this.resultCount = 0;\n        _this.query = query;\n        _this.util = util;\n        _this.tableName = query.from;\n        return _this;\n    }\n    Count.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var queryHelper = new query_helper_QueryHelper(db);\n        var query = this.query;\n        var err = queryHelper.validate(API.Count, query);\n        if (err) {\n            return promiseReject(err);\n        }\n        try {\n            var result = void 0;\n            var getDataFromSelect = function () {\n                var selectInstance = new select_Select(_this.query, _this.util);\n                selectInstance.isTxQuery = _this.isTxQuery;\n                return selectInstance.execute(db).then(function (results) {\n                    _this.resultCount = results.length;\n                });\n            };\n            this.initTransaction_();\n            if (query.join == null) {\n                if (query.where != null) {\n                    if (query.where.or || isArray(this.query.where)) {\n                        result = getDataFromSelect();\n                    }\n                    else {\n                        result = this.goToWhereLogic();\n                    }\n                }\n                else {\n                    result = this.executeWhereUndefinedLogic();\n                }\n            }\n            else {\n                result = getDataFromSelect();\n            }\n            return result.then(function (_) {\n                return _this.resultCount;\n            });\n        }\n        catch (ex) {\n            this.onException(ex);\n        }\n    };\n    Count.prototype.initTransaction_ = function () {\n        if (!this.isTxQuery) {\n            this.util.createTransaction([this.query.from], IDB_MODE.ReadOnly);\n        }\n        this.objectStore = this.util.objectStore(this.query.from);\n    };\n    return Count;\n}(base_fetch_BaseFetch));\n\ncount_Count.prototype.executeWhereUndefinedLogic = not_where_executeWhereUndefinedLogic;\ncount_Count.prototype.executeWhereLogic = where_executeWhereLogic;\ncount_Count.prototype.executeRegexLogic = regex_executeRegexLogic;\ncount_Count.prototype.executeInLogic = in_executeInLogic;\n\n// CONCATENATED MODULE: ./src/worker/executors/update/update_value.ts\n\n\nvar updateValue = function (suppliedValue, storedValue) {\n    for (var key in suppliedValue) {\n        if (getDataType(suppliedValue[key]) !== DATA_TYPE.Object) {\n            storedValue[key] = suppliedValue[key];\n        }\n        else {\n            for (var op in suppliedValue[key]) {\n                switch (op) {\n                    case '+':\n                        storedValue[key] += suppliedValue[key][op];\n                        break;\n                    case '-':\n                        storedValue[key] -= suppliedValue[key][op];\n                        break;\n                    case '*':\n                        storedValue[key] *= suppliedValue[key][op];\n                        break;\n                    case '/':\n                        storedValue[key] /= suppliedValue[key][op];\n                        break;\n                    case '{push}':\n                        storedValue[key].push(suppliedValue[key][op]);\n                        break;\n                    default: storedValue[key] = suppliedValue[key];\n                }\n                break;\n            }\n        }\n    }\n    return storedValue;\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/update/not_where.ts\n\n\nvar update_not_where_executeWhereUndefinedLogic = function () {\n    var _this = this;\n    var cursorRequest = this.objectStore.openCursor();\n    var setValue = this.query.set;\n    return promise(function (res, rej) {\n        cursorRequest.onsuccess = function (e) {\n            var cursor = e.target.result;\n            if (cursor) {\n                try {\n                    var cursorUpdateRequest = cursor.update(updateValue(setValue, cursor.value));\n                    cursorUpdateRequest.onsuccess = function () {\n                        ++_this.rowAffected;\n                        cursor.continue();\n                    };\n                    cursorUpdateRequest.onerror = rej;\n                }\n                catch (ex) {\n                    rej(ex);\n                }\n            }\n            else {\n                res();\n            }\n        };\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/update/in.ts\n\n\nvar update_in_executeInLogic = function (column, values) {\n    var _this = this;\n    var columnStore = this.objectStore.index(column);\n    var query = this.query;\n    var runInLogic = function (value) {\n        return promise(function (res, rej) {\n            var cursorRequest = columnStore.openCursor(_this.util.keyRange(value));\n            cursorRequest.onsuccess = function (e) {\n                var cursor = e.target.result;\n                if (cursor) {\n                    var value_1 = cursor.value;\n                    if (_this.whereCheckerInstance.check(value_1)) {\n                        try {\n                            var cursorUpdateRequest = cursor.update(updateValue(query.set, value_1));\n                            cursorUpdateRequest.onsuccess = function () {\n                                ++_this.rowAffected;\n                                cursor.continue();\n                            };\n                            cursorUpdateRequest.onerror = rej;\n                        }\n                        catch (ex) {\n                            rej(ex);\n                        }\n                    }\n                    else {\n                        cursor.continue();\n                    }\n                }\n                else {\n                    res();\n                }\n            };\n            cursorRequest.onerror = rej;\n        });\n    };\n    return promiseAll(values.map(function (val) {\n        return runInLogic(val);\n    }));\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/update/regex.ts\n\n\nvar update_regex_executeRegexLogic = function (column, exp) {\n    var _this = this;\n    var cursor;\n    var cursorOpenRequest = this.objectStore.index(column).openCursor();\n    this.shouldAddValue = function (cursor) {\n        return exp.test(cursor.key) &&\n            _this.whereCheckerInstance.check(cursor.value);\n    };\n    var setValue = this.query.set;\n    return promise(function (res, rej) {\n        cursorOpenRequest.onsuccess = function (e) {\n            cursor = e.target.result;\n            if (cursor) {\n                if (_this.shouldAddValue(cursor)) {\n                    try {\n                        var cursorUpdateRequest = cursor.update(updateValue(setValue, cursor.value));\n                        cursorUpdateRequest.onsuccess = function () {\n                            ++_this.rowAffected;\n                            cursor.continue();\n                        };\n                        cursorUpdateRequest.onerror = rej;\n                    }\n                    catch (ex) {\n                        rej(ex);\n                    }\n                }\n                else {\n                    cursor.continue();\n                }\n            }\n            else {\n                res();\n            }\n        };\n        cursorOpenRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/update/where.ts\n\n\nvar update_where_executeWhereLogic = function (column, value, op) {\n    var _this = this;\n    value = op ? value[op] : value;\n    var cursorRequest = this.objectStore.index(column).openCursor(this.util.keyRange(value, op));\n    var setValue = this.query.set;\n    return promise(function (res, rej) {\n        cursorRequest.onsuccess = function (e) {\n            var cursor = e.target.result;\n            if (cursor) {\n                if (_this.whereCheckerInstance.check(cursor.value)) {\n                    try {\n                        var cursorUpdateRequest = cursor.update(updateValue(setValue, cursor.value));\n                        cursorUpdateRequest.onsuccess = function () {\n                            ++_this.rowAffected;\n                            cursor.continue();\n                        };\n                        cursorUpdateRequest.onerror = rej;\n                    }\n                    catch (ex) {\n                        rej(ex);\n                    }\n                }\n                else {\n                    cursor.continue();\n                }\n            }\n            else {\n                res();\n            }\n        };\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/update/index.ts\nvar update_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar update_Update = /** @class */ (function (_super) {\n    update_extends(Update, _super);\n    function Update(query, util) {\n        var _this = _super.call(this) || this;\n        _this.query = query;\n        _this.util = util;\n        _this.tableName = query.in;\n        return _this;\n    }\n    Update.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var query = this.query;\n        try {\n            var queryHelper = new query_helper_QueryHelper(db);\n            var err = queryHelper.validate(API.Update, query);\n            if (err)\n                return promiseReject(err);\n            this.initTransaction();\n            var pResult = void 0;\n            if (query.where != null) {\n                if (query.where.or || isArray(query.where)) {\n                    pResult = this.executeComplexLogic_();\n                }\n                else {\n                    pResult = this.goToWhereLogic();\n                }\n            }\n            else {\n                pResult = this.executeWhereUndefinedLogic();\n            }\n            return pResult.then(function () {\n                return _this.rowAffected;\n            });\n        }\n        catch (ex) {\n            return this.onException(ex);\n        }\n    };\n    Update.prototype.executeComplexLogic_ = function () {\n        var _this = this;\n        var query = this.query;\n        var selectObject = new select_Select({\n            from: query.in,\n            where: query.where,\n            ignoreCase: query.ignoreCase\n        }, this.util);\n        selectObject.isTxQuery = this.isTxQuery;\n        return selectObject.execute(this.db).then(function (results) {\n            var _a, _b;\n            var key = _this.primaryKey(query.in);\n            var inQuery = [];\n            results.forEach(function (value) {\n                inQuery.push(value[key]);\n            });\n            results = null;\n            var whereQry = (_a = {}, _a[key] = (_b = {}, _b[QUERY_OPTION.In] = inQuery, _b), _a);\n            _this.query.where = whereQry;\n            _this.initTransaction();\n            return _this.goToWhereLogic();\n        });\n    };\n    Update.prototype.initTransaction = function () {\n        var tableName = this.query.in;\n        if (!this.isTxQuery) {\n            this.util.createTransaction([tableName]);\n        }\n        this.objectStore = this.util.objectStore(tableName);\n    };\n    return Update;\n}(base_fetch_BaseFetch));\n\nupdate_Update.prototype.executeWhereUndefinedLogic = update_not_where_executeWhereUndefinedLogic;\nupdate_Update.prototype.executeWhereLogic = update_where_executeWhereLogic;\nupdate_Update.prototype.executeRegexLogic = update_regex_executeRegexLogic;\nupdate_Update.prototype.executeInLogic = update_in_executeInLogic;\n\n// CONCATENATED MODULE: ./src/worker/intersect/index.ts\nvar intersect_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar intersect_assign = (undefined && undefined.__assign) || function () {\n    intersect_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return intersect_assign.apply(this, arguments);\n};\n\n\nvar intersect_Intersect = /** @class */ (function (_super) {\n    intersect_extends(Intersect, _super);\n    function Intersect(intersectQry, util) {\n        var _this = _super.call(this) || this;\n        _this.query = intersectQry;\n        _this.util = util;\n        return _this;\n    }\n    Intersect.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var intersectQry = this.query;\n        var index = 0;\n        var hashMap = {};\n        var hashMapTemp = {};\n        var isQueryForSameTable = true;\n        var queries = intersectQry.queries;\n        var queryLength = queries.length;\n        queries.every(function (qry, i) {\n            if (i + 1 < queryLength && qry.from !== queries[i + 1].from) {\n                isQueryForSameTable = false;\n                return false;\n            }\n            return true;\n        });\n        var getHashKey;\n        if (isQueryForSameTable) {\n            var pKey_1 = this.primaryKey(queries[0].from);\n            getHashKey = function (val) {\n                return val[pKey_1];\n            };\n        }\n        else {\n            getHashKey = function (val) {\n                var columnValKey = \"\";\n                for (var key in val) {\n                    columnValKey += val[key];\n                }\n                return columnValKey;\n            };\n        }\n        var select;\n        var fetchData = function () {\n            if (index < queryLength) {\n                select = new select_Select(queries[index], _this.util);\n                return select.execute(_this.db).then(function (selectResult) {\n                    hashMap = {};\n                    selectResult.forEach(function (val) {\n                        var columnValKey = getHashKey(val);\n                        if (index === 0) {\n                            hashMapTemp[columnValKey] = val;\n                        }\n                        else if (hashMapTemp[columnValKey] != null) {\n                            hashMap[columnValKey] = val;\n                        }\n                    });\n                    if (index > 0) {\n                        hashMapTemp = intersect_assign({}, hashMap);\n                    }\n                    ++index;\n                    return fetchData();\n                });\n            }\n            else {\n                var results_1 = [];\n                var resultPusher = void 0;\n                var skip_1 = intersectQry.skip;\n                var limit_1 = intersectQry.limit;\n                var onFinished = function () {\n                    select['results'] = results_1;\n                    Object.assign(select.query, {\n                        order: intersectQry.order,\n                        join: {}\n                    });\n                    select.processOrderBy();\n                    select.processGroupDistinctAggr();\n                    return (select['results']);\n                };\n                var shouldStopLoop_1 = false;\n                var key_1;\n                var pushResult_1 = function () {\n                    results_1.push(hashMap[key_1]);\n                };\n                var checkLimitAndPush_1 = function () {\n                    if (results_1.length < limit_1) {\n                        pushResult_1();\n                    }\n                    else {\n                        shouldStopLoop_1 = true;\n                    }\n                };\n                var skipChecker_1 = function (callBack) {\n                    if (skip_1 === 0) {\n                        callBack();\n                    }\n                    else {\n                        --skip_1;\n                    }\n                };\n                if (intersectQry.skip && intersectQry.limit) {\n                    resultPusher = function () {\n                        skipChecker_1(function () {\n                            checkLimitAndPush_1();\n                        });\n                    };\n                }\n                else if (intersectQry.limit) {\n                    resultPusher = checkLimitAndPush_1;\n                }\n                else if (intersectQry.skip) {\n                    resultPusher = function () {\n                        skipChecker_1(function () {\n                            pushResult_1();\n                        });\n                    };\n                }\n                else {\n                    resultPusher = function () {\n                        pushResult_1();\n                    };\n                }\n                if (limit_1) {\n                    for (key_1 in hashMap) {\n                        resultPusher(key_1);\n                        if (shouldStopLoop_1) {\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (key_1 in hashMap) {\n                        resultPusher(key_1);\n                    }\n                }\n                return onFinished();\n            }\n        };\n        return fetchData();\n    };\n    return Intersect;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/executors/drop_db.ts\n\n\nvar drop_db_DropDb = /** @class */ (function () {\n    function DropDb() {\n    }\n    DropDb.prototype.execute = function (dbName) {\n        return promise(function (res, rej) {\n            var dropDbRequest = indexedDB.deleteDatabase(dbName);\n            dropDbRequest.onblocked = function () {\n                var err = new log_helper_LogHelper(ERROR_TYPE.DbBlocked);\n                return rej(getError(err));\n            };\n            dropDbRequest.onerror = function (e) {\n                return rej(getError(e));\n            };\n            dropDbRequest.onsuccess = function () {\n                res();\n            };\n        });\n    };\n    return DropDb;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/union/index.ts\nvar union_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar union_Union = /** @class */ (function (_super) {\n    union_extends(Union, _super);\n    function Union(query, util) {\n        var _this = _super.call(this) || this;\n        _this.query = query;\n        _this.util = util;\n        return _this;\n    }\n    Union.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var query = this.query;\n        var index = 0;\n        var hashMap = {};\n        var isQueryForSameTable = true;\n        var queryLength = query.length;\n        query.every(function (qry, i) {\n            if (i + 1 < queryLength && qry.from !== query[i + 1].from) {\n                isQueryForSameTable = false;\n                return false;\n            }\n            return true;\n        });\n        var getHashKey;\n        if (isQueryForSameTable) {\n            var pKey_1 = this.primaryKey(query[0].from);\n            getHashKey = function (val) {\n                return val[pKey_1];\n            };\n        }\n        else {\n            getHashKey = function (val) {\n                var columnValKey = \"\";\n                for (var key in val) {\n                    columnValKey += val[key];\n                }\n                return columnValKey;\n            };\n        }\n        var select;\n        var fetchData = function () {\n            if (index < query.length) {\n                select = new select_Select(query[index++], _this.util);\n                return select.execute(db).then(function (selectResult) {\n                    selectResult.forEach(function (val) {\n                        hashMap[getHashKey(val)] = val;\n                    });\n                    return fetchData();\n                });\n            }\n            else {\n                var results = [];\n                for (var key in hashMap) {\n                    results.push(hashMap[key]);\n                }\n                return results;\n            }\n        };\n        return fetchData();\n    };\n    return Union;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/executors/remove/not_where.ts\n\nvar remove_not_where_executeWhereUndefinedLogic = function () {\n    var _this = this;\n    var cursor;\n    var cursorRequest = this.objectStore.openCursor();\n    return promise(function (res, rej) {\n        cursorRequest.onsuccess = function (e) {\n            cursor = e.target.result;\n            if (cursor) {\n                cursor.delete();\n                ++_this.rowAffected;\n                cursor.continue();\n            }\n            else {\n                res();\n            }\n        };\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/remove/in.ts\n\nvar remove_in_executeInLogic = function (column, values) {\n    var _this = this;\n    var columnIndex = this.objectStore.index(column);\n    var runInLogic = function (value) {\n        return promise(function (res, rej) {\n            var cursorRequest = columnIndex.openCursor(_this.util.keyRange(value));\n            cursorRequest.onsuccess = function (e) {\n                var cursor = e.target.result;\n                if (cursor) {\n                    if (_this.whereCheckerInstance.check(cursor.value)) {\n                        cursor.delete();\n                        ++_this.rowAffected;\n                    }\n                    cursor.continue();\n                }\n                else {\n                    res();\n                }\n            };\n            cursorRequest.onerror = rej;\n        });\n    };\n    return promiseAll(values.map(function (val) {\n        return runInLogic(val);\n    }));\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/remove/where.ts\n\nvar remove_where_executeWhereLogic = function (column, value, op) {\n    var _this = this;\n    var cursor, cursorRequest;\n    value = op ? value[op] : value;\n    cursorRequest = this.objectStore.index(column).openCursor(this.util.keyRange(value, op));\n    return promise(function (res, rej) {\n        cursorRequest.onsuccess = function (e) {\n            cursor = e.target.result;\n            if (cursor) {\n                if (_this.whereCheckerInstance.check(cursor.value)) {\n                    cursor.delete();\n                    ++_this.rowAffected;\n                }\n                cursor.continue();\n            }\n            else {\n                res();\n            }\n        };\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/remove/regex.ts\n\nvar remove_regex_executeRegexLogic = function (column, exp) {\n    var _this = this;\n    var cursor;\n    var cursorRequest = this.objectStore.index(column).openCursor();\n    this.shouldAddValue = function (cursor) {\n        return exp.test(cursor.key) &&\n            _this.whereCheckerInstance.check(cursor.value);\n    };\n    return promise(function (res, rej) {\n        cursorRequest.onsuccess = function (e) {\n            cursor = e.target.result;\n            if (cursor) {\n                if (_this.shouldAddValue(cursor)) {\n                    cursor.delete();\n                    ++_this.rowAffected;\n                }\n                cursor.continue();\n            }\n            else {\n                res();\n            }\n        };\n        cursorRequest.onerror = rej;\n    });\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/remove/index.ts\nvar remove_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar remove_Remove = /** @class */ (function (_super) {\n    remove_extends(Remove, _super);\n    function Remove(query, util) {\n        var _this = _super.call(this) || this;\n        _this.query = query;\n        _this.util = util;\n        _this.tableName = query.from;\n        return _this;\n    }\n    Remove.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var queryHelper = new query_helper_QueryHelper(db);\n        var query = this.query;\n        var err = queryHelper.validate(API.Remove, query);\n        if (err)\n            return promiseReject(err);\n        try {\n            this.initTransaction_();\n            var pResult = void 0;\n            if (query.where != null) {\n                if (isArray(query.where)) {\n                    pResult = this.processWhereArrayQry();\n                }\n                else {\n                    pResult = this.processWhere_();\n                }\n            }\n            else {\n                pResult = this.executeWhereUndefinedLogic();\n            }\n            return pResult.then(function () {\n                return _this.rowAffected;\n            });\n        }\n        catch (ex) {\n            return this.onException(ex);\n        }\n    };\n    Remove.prototype.processWhereArrayQry = function () {\n        var _this = this;\n        var selectObject = new select_Select(this.query, this.util);\n        selectObject.isTxQuery = this.isTxQuery;\n        return selectObject.execute(this.db).then(function (results) {\n            var _a, _b;\n            var keyList = [];\n            var pkey = _this.primaryKey(_this.query.from);\n            results.forEach(function (item) {\n                keyList.push(item[pkey]);\n            });\n            results = null;\n            var whereQry = (_a = {}, _a[pkey] = (_b = {}, _b[QUERY_OPTION.In] = keyList, _b), _a);\n            _this.query[QUERY_OPTION.Where] = whereQry;\n            return _this.processWhere_();\n        });\n    };\n    Remove.prototype.processWhere_ = function () {\n        var _this = this;\n        if (this.query.where.or) {\n            this.processOrLogic();\n        }\n        return this.goToWhereLogic().then(function () {\n            return _this.onWhereEvaluated();\n        });\n    };\n    Remove.prototype.initTransaction_ = function () {\n        if (!this.isTxQuery) {\n            this.util.createTransaction([this.query.from]);\n        }\n        this.objectStore = this.util.objectStore(this.query.from);\n    };\n    Remove.prototype.onWhereEvaluated = function () {\n        if (this.isOr) {\n            return this.orQuerySuccess_();\n        }\n    };\n    Remove.prototype.orQuerySuccess_ = function () {\n        var _this = this;\n        var key = getObjectFirstKey(this._orInfo.OrQuery);\n        if (key != null) {\n            var where = {};\n            where[key] = this._orInfo.OrQuery[key];\n            delete this._orInfo.OrQuery[key];\n            this.query.where = where;\n            return this.goToWhereLogic().then(function () {\n                return _this.onWhereEvaluated();\n            });\n        }\n        else {\n            this.isOr = true;\n        }\n    };\n    Remove.prototype.processOrLogic = function () {\n        this.isOr = true;\n        var where = this.query.where;\n        this._orInfo = {\n            OrQuery: where.or\n        };\n        // free or memory\n        delete where.or;\n    };\n    return Remove;\n}(base_fetch_BaseFetch));\n\nremove_Remove.prototype.executeInLogic = remove_in_executeInLogic;\nremove_Remove.prototype.executeWhereUndefinedLogic = remove_not_where_executeWhereUndefinedLogic;\nremove_Remove.prototype.executeWhereLogic = remove_where_executeWhereLogic;\nremove_Remove.prototype.executeRegexLogic = remove_regex_executeRegexLogic;\n\n// CONCATENATED MODULE: ./src/worker/executors/clear/index.ts\nvar clear_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar clear_Clear = /** @class */ (function (_super) {\n    clear_extends(Clear, _super);\n    function Clear(tableName, util) {\n        var _this = _super.call(this) || this;\n        _this.query = tableName;\n        _this.util = util;\n        _this.tableName = tableName;\n        return _this;\n    }\n    Clear.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var tableName = this.query;\n        if (!this.isTxQuery) {\n            this.util.createTransaction([tableName, meta_helper_MetaHelper.tableName]);\n        }\n        var clearRequest = this.util.objectStore(tableName).clear();\n        try {\n            return promise(function (res, rej) {\n                clearRequest.onsuccess = function (e) {\n                    var currentTable = _this.table(tableName);\n                    for (var columnName in currentTable.autoIncColumnValue) {\n                        currentTable.autoIncColumnValue[columnName] = 0;\n                    }\n                    meta_helper_MetaHelper.set(meta_helper_MetaHelper.dbSchema, db, _this.util).then(function () {\n                        res();\n                    }).catch(rej);\n                };\n                clearRequest.onerror = rej;\n            });\n        }\n        catch (ex) {\n            return this.onException(ex);\n        }\n    };\n    return Clear;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/utils/resolve.ts\n\nvar variableFromPath = function (path) {\n    var properties = isArray(path) ? path : path.split(\".\");\n    return properties.reduce(function (prev, curr) { return prev && prev[curr]; }, self);\n};\n\n// CONCATENATED MODULE: ./src/worker/executors/transaction/index.ts\nvar transaction_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\nvar transaction_Transaction = /** @class */ (function (_super) {\n    transaction_extends(Transaction, _super);\n    function Transaction(qry, util) {\n        var _this = _super.call(this) || this;\n        _this.results = {};\n        _this.reqQueue = [];\n        _this.isQueryExecuting = false;\n        _this.isTxStarted_ = false;\n        _this.query = qry;\n        _this.util = util;\n        return _this;\n    }\n    Transaction.prototype.execute = function (db) {\n        var _this = this;\n        this.db = db;\n        var err = this.validate();\n        if (err)\n            return promiseReject(err);\n        this.startExecution_();\n        return promise(function (res, rej) {\n            _this.onSuccess = res;\n            _this.onError = rej;\n        }).then(function (result) {\n            _this.log(\"transaction finished\");\n            return result;\n        });\n    };\n    Transaction.prototype.validate = function () {\n        var query = this.query;\n        var notExistingTable = this.notExistingTable_(query.tables);\n        if (notExistingTable) {\n            return new log_helper_LogHelper(ERROR_TYPE.TableNotExist, { tableName: notExistingTable });\n        }\n        var methodName = query.method;\n        var txLogic = variableFromPath(methodName);\n        if (!txLogic) {\n            return new log_helper_LogHelper(ERROR_TYPE.MethodNotExist, methodName);\n        }\n    };\n    Transaction.prototype.startExecution_ = function () {\n        var _this = this;\n        var query = this.query;\n        var select = function (qry) {\n            return _this.pushReq_({\n                name: API.Select,\n                query: qry\n            });\n        };\n        var insert = function (qry) {\n            return _this.pushReq_({\n                name: API.Insert,\n                query: qry\n            });\n        };\n        var update = function (qry) {\n            return _this.pushReq_({\n                name: API.Update,\n                query: qry\n            });\n        };\n        var remove = function (qry) {\n            return _this.pushReq_({\n                name: API.Remove,\n                query: qry\n            });\n        };\n        var count = function (qry) {\n            return _this.pushReq_({\n                name: API.Count,\n                query: qry\n            });\n        };\n        var setResult = function (key, value) {\n            _this.results[key] = value;\n        };\n        var getResult = function (key) {\n            return _this.results[key];\n        };\n        var abort = function (msg) {\n            _this.abortTx_(msg);\n        };\n        var start = function () {\n            _this.startTx_();\n        };\n        var methodName = query.method;\n        var txLogic = variableFromPath(methodName);\n        this.log(\"transaction query started\");\n        return txLogic.call(this, {\n            data: query.data,\n            insert: insert, select: select,\n            update: update, remove: remove,\n            count: count, setResult: setResult,\n            getResult: getResult, abort: abort,\n            start: start\n        });\n    };\n    Transaction.prototype.log = function (message) {\n        this.util.logger.log(message);\n    };\n    Transaction.prototype.startTx_ = function () {\n        var _this = this;\n        try {\n            this.isTxStarted_ = true;\n            var tableNames = this.query.tables;\n            tableNames = tableNames.concat(meta_helper_MetaHelper.tableName);\n            this.util.createTransaction(tableNames).then(function (_) {\n                _this.onSuccess(_this.results);\n            }).catch(function (err) {\n                _this.onError(err);\n            });\n            return this.processExecutionOfQry_();\n        }\n        catch (ex) {\n            this.onError(this.onException(ex));\n        }\n    };\n    Transaction.prototype.onReqFinished_ = function (result) {\n        var finisehdRequest = this.reqQueue.shift();\n        this.log(\"finished request : \" + finisehdRequest.name + \" \");\n        if (finisehdRequest) {\n            if (result.error) {\n                this.abortTx_(\"automatic abort of transaction due to error occured\");\n                this.log(\"transaction aborted due to error occured\");\n                this.onError(result.error);\n            }\n            else {\n                this.isQueryExecuting = false;\n                if (finisehdRequest.onSuccess) {\n                    finisehdRequest.onSuccess(result);\n                }\n                this.processExecutionOfQry_();\n            }\n        }\n    };\n    Transaction.prototype.abortTx_ = function (msg) {\n        this.reqQueue = [];\n        this.util.abortTransaction();\n        this.log(\"transaction aborted. Msg : \" + msg);\n    };\n    Transaction.prototype.executeRequest_ = function (request) {\n        this.isQueryExecuting = true;\n        var requestObj;\n        this.log(\"executing request : \" + request.name + \" \");\n        var onReqFinished = this.onReqFinished_.bind(this);\n        var query = request.query;\n        switch (request.name) {\n            case API.Select:\n                requestObj = new select_Select(query, this.util);\n                break;\n            case API.Insert:\n                requestObj = new insert_Insert(query, this.util);\n                break;\n            case API.Update:\n                requestObj = new update_Update(query, this.util);\n                break;\n            case API.Remove:\n                requestObj = new remove_Remove(query, this.util);\n                break;\n            case API.Count:\n                requestObj = new count_Count(query, this.util);\n                break;\n        }\n        requestObj.isTxQuery = true;\n        requestObj.execute(this.db).then(onReqFinished).catch(function (err) {\n            var result = {\n                error: err\n            };\n            onReqFinished(result);\n        });\n    };\n    Transaction.prototype.pushReq_ = function (request) {\n        var _this = this;\n        var push = function () {\n            _this.reqQueue.push(request);\n        };\n        var promiseObj = promise(function (resolve, reject) {\n            request.onSuccess = function (result) {\n                resolve(result);\n            };\n            request.onError = function (error) {\n                reject(error);\n            };\n        });\n        if (this.isTxStarted_ === true) {\n            push();\n            this.processExecutionOfQry_();\n        }\n        else {\n            push();\n        }\n        this.log(\"request pushed : \" + request.name);\n        return promiseObj;\n    };\n    Transaction.prototype.processExecutionOfQry_ = function () {\n        if (this.isQueryExecuting === false) {\n            if (this.reqQueue.length > 0) {\n                this.executeRequest_(this.reqQueue[0]);\n            }\n        }\n    };\n    Transaction.prototype.notExistingTable_ = function (tables) {\n        var _this = this;\n        var invalidTable = null;\n        tables.every(function (tableName) {\n            var table = _this.table(tableName);\n            if (table == null) {\n                invalidTable = tableName;\n                return false;\n            }\n            return true;\n        });\n        return invalidTable;\n    };\n    return Transaction;\n}(base_Base));\n\n\n// CONCATENATED MODULE: ./src/worker/utils/db_schema.ts\nvar userDbSchema = function (db) {\n    var database = {\n        name: db.name,\n        version: db.version,\n        tables: []\n    };\n    db.tables.forEach(function (table) {\n        var tableAsObj = {\n            name: table.name,\n            columns: {}\n        };\n        table.columns.forEach(function (column) {\n            tableAsObj.columns[column.name] = column;\n        });\n        database.tables.push(tableAsObj);\n    });\n    return database;\n};\n\n// CONCATENATED MODULE: ./src/worker/query_manager.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar query_manager_QueryManager = /** @class */ (function () {\n    function QueryManager(fn) {\n        this.middlewares = [];\n        this.util = new idbutil_IDBUtil();\n        this.onQryFinished = IS_WORKER ? function (result) {\n            self.postMessage(result);\n        } : fn;\n    }\n    Object.defineProperty(QueryManager.prototype, \"logger\", {\n        get: function () {\n            return this.util.logger;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    QueryManager.prototype.executeMiddleware_ = function (request) {\n        var _this = this;\n        var lastIndex = getLength(this.middlewares) - 1;\n        if (lastIndex < 0) {\n            return promiseResolve();\n        }\n        var middlewareContext = {};\n        var db = this.db;\n        Object.defineProperty(middlewareContext, 'database', {\n            get: function () {\n                return userDbSchema(db);\n            }\n        });\n        return promise(function (res) {\n            var index = 0;\n            var callNextMiddleware = function () {\n                if (index <= lastIndex) {\n                    var promiseResult = variableFromPath(_this.middlewares[index++])(request, middlewareContext);\n                    if (!promiseResult || !promiseResult.then) {\n                        promiseResult = Promise.resolve(promiseResult);\n                    }\n                    promiseResult.then(function (_) {\n                        callNextMiddleware();\n                    });\n                }\n                else {\n                    res();\n                }\n            };\n            callNextMiddleware();\n        });\n    };\n    QueryManager.prototype.executeQuery = function (request) {\n        var queryResult;\n        var query = request.query;\n        switch (request.name) {\n            case API.OpenDb:\n                queryResult = this.openDb(query);\n                break;\n            case API.InitDb:\n                queryResult = this.initDb(query);\n                break;\n            case API.CloseDb:\n                queryResult = this.closeDb();\n                break;\n            case API.Insert:\n                queryResult = new insert_Insert(query, this.util).\n                    execute(this.db);\n                break;\n            case API.Select:\n                queryResult = new select_Select(query, this.util).\n                    execute(this.db);\n                break;\n            case API.Count:\n                queryResult = new count_Count(query, this.util).execute(this.db);\n                break;\n            case API.Update:\n                queryResult = new update_Update(query, this.util).execute(this.db);\n                break;\n            case API.Intersect:\n                queryResult = new intersect_Intersect(query, this.util).execute(this.db);\n                break;\n            case API.DropDb:\n                queryResult = this.dropDb();\n                break;\n            case API.Terminate:\n                queryResult = this.terminate();\n                break;\n            case API.Union:\n                queryResult = new union_Union(query, this.util).execute(this.db);\n                break;\n            case API.Remove:\n                queryResult = new remove_Remove(query, this.util).execute(this.db);\n                break;\n            case API.Clear:\n                queryResult = new clear_Clear(query, this.util).execute(this.db);\n                break;\n            case API.Transaction:\n                queryResult = new transaction_Transaction(query, this.util).execute(this.db);\n                break;\n            case API.Get:\n                queryResult = meta_helper_MetaHelper.get(query, this.util);\n                break;\n            case API.Set:\n                queryResult = meta_helper_MetaHelper.set(query.key, query.value, this.util);\n                break;\n            case API.ImportScripts:\n                queryResult = this.importScripts_(request);\n                break;\n            case API.ChangeLogStatus:\n                this.logger.status = query;\n                queryResult = Promise.resolve();\n                break;\n            case API.Middleware:\n                var value = variableFromPath(query);\n                if (!value) {\n                    return promiseReject(new log_helper_LogHelper(ERROR_TYPE.InvalidMiddleware, query));\n                }\n                this.middlewares.push(query);\n                return promiseResolve();\n            default:\n                if (true) {\n                    console.error('The Api:-' + request.name + ' does not support.');\n                }\n                queryResult = promiseResolve();\n        }\n        this.logger.log(\"Executing query \" + request.name + \" in web worker\");\n        return queryResult;\n    };\n    QueryManager.prototype.callResultMiddleware = function (middlewares, result) {\n        return promise(function (res) {\n            var index = 0;\n            var lastIndex = getLength(middlewares) - 1;\n            var callNextMiddleware = function () {\n                if (index <= lastIndex) {\n                    var promiseResult = middlewares[index++](result);\n                    if (!promiseResult.then) {\n                        promiseResult = promiseResolve(promiseResult);\n                    }\n                    promiseResult.then(function (modifiedResult) {\n                        result = modifiedResult;\n                        callNextMiddleware();\n                    });\n                }\n                else {\n                    res(result);\n                }\n            };\n            callNextMiddleware();\n        });\n    };\n    QueryManager.prototype.run = function (request) {\n        var _this = this;\n        var middlewares = [];\n        request.onResult = function (cb) {\n            middlewares.push(function (result) {\n                return cb(result);\n            });\n        };\n        this.executeMiddleware_(request).then(function (_) {\n            return _this.executeQuery(request).then(function (result) {\n                return _this.callResultMiddleware(middlewares, result).then(function (modifiedResult) {\n                    _this.returnResult_({\n                        result: modifiedResult\n                    });\n                });\n            });\n        }).catch(function (ex) {\n            middlewares = [];\n            var err = getError(ex);\n            var result = {\n                error: err\n            };\n            _this.returnResult_(result);\n        });\n    };\n    QueryManager.prototype.importScripts_ = function (request) {\n        return promise(function (res, rej) {\n            try {\n                importScripts.apply(void 0, request.query);\n                res();\n            }\n            catch (e) {\n                var err = new log_helper_LogHelper(ERROR_TYPE.ImportScriptsFailed, e.message);\n                rej(err);\n            }\n        });\n    };\n    QueryManager.prototype.returnResult_ = function (result) {\n        this.logger.log(\"Query finished inside web worker\");\n        if (this.util) {\n            this.util.emptyTx();\n        }\n        this.onQryFinished(result);\n    };\n    QueryManager.prototype.dropDb = function () {\n        var dbName = this.db.name;\n        return this.terminate().then(function () {\n            return new drop_db_DropDb().execute(dbName);\n        });\n    };\n    QueryManager.prototype.closeDb = function () {\n        return this.util.close();\n    };\n    QueryManager.prototype.terminate = function () {\n        var _this = this;\n        return this.closeDb().then(function () {\n            _this.db = null;\n        });\n    };\n    QueryManager.prototype.openDb = function (query) {\n        var _this = this;\n        var pResult;\n        if (this.db && query.name === this.db.name) {\n            pResult = this.initDb();\n        }\n        else {\n            pResult = this.initDb({\n                name: query.name,\n                tables: [],\n                version: query.version\n            });\n        }\n        return this.closeDb().then(function (_) {\n            return pResult.then(function () {\n                return _this.db;\n            });\n        });\n    };\n    QueryManager.prototype.initDb = function (dataBase) {\n        var _this = this;\n        if (!IS_IDB_SUPPORTED) {\n            return promiseReject(new log_helper_LogHelper(ERROR_TYPE.IndexedDbNotSupported));\n        }\n        var dbMeta = dataBase ? new db_meta_DbMeta(dataBase) : this.db;\n        this.util = new idbutil_IDBUtil();\n        return promise(function (res, rej) {\n            _this.util.initDb(dbMeta).then(function (dbInfo) {\n                if (dbInfo.isCreated) {\n                    meta_helper_MetaHelper.get(meta_helper_MetaHelper.dbSchema, _this.util).then(function (value) {\n                        if (value) {\n                            value.tables.forEach(function (table, index) {\n                                dbMeta.tables[index].autoIncColumnValue =\n                                    table.autoIncColumnValue;\n                            });\n                        }\n                        _this.db = dbMeta;\n                        dbInfo.database = userDbSchema(_this.db);\n                        meta_helper_MetaHelper.set(meta_helper_MetaHelper.dbSchema, dbMeta, _this.util).then(function () {\n                            res(dbInfo);\n                        });\n                    });\n                }\n                else {\n                    meta_helper_MetaHelper.get(meta_helper_MetaHelper.dbSchema, _this.util).then(function (value) {\n                        _this.db = value;\n                        dbInfo.database = userDbSchema(_this.db);\n                        res(dbInfo);\n                    });\n                }\n            }).catch(rej);\n        });\n    };\n    return QueryManager;\n}());\n\n\n// CONCATENATED MODULE: ./src/worker/index.ts\n\n\n\nif (IS_WORKER) {\n    var manager_1 = new query_manager_QueryManager();\n    self.onmessage = function (e) {\n        manager_1.run(e.data);\n    };\n}\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=jsstore.worker.commonjs2.js.map","module.exports = {\n    setup(connection, param) {\n        connection['$worker'] = (() => {\n            if (process.env.NODE_ENV === 'production') {\n                return require('../jsstore.worker.commonjs2.min.js');\n            }\n            else {\n                return require('../jsstore.worker.commonjs2.js');\n            }\n        })();\n        connection.initQueryManager_();\n    }\n};","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { writable } from 'svelte/store';\n\n\nfunction arrayRemove(arr, value) { \n\n\treturn arr.filter(function(ele){ \n\t\treturn ele != value; \n\t});\n}\n\nfunction createLimit() {\n\tconst { subscribe, set, update } = writable(20);\n\t\n\treturn {\n\t\tsubscribe,\n\t\tincrement: () => update(x => x + 20),\n\t\treset: () => set (20)\n\t}\n}\n\nfunction createList() {\n\tconst { subscribe, set, update } = writable([]);\n\n\treturn {\n\t\tsubscribe,\n\t\tset,\n\t\trefresh: () => update(li => li)\n\t}\n}\n\nfunction createLastTouchedByUpdate() {\n\tconst { subscribe, set } = writable(false);\n\n\treturn {\n\t\tsubscribe,\n\t\tyes: () => set(true),\n\t\tno: () => set(false)\n\t}\n}\n\nfunction createFilterCriteria() {\n\tconst { subscribe, update } = writable({ playlists : {}, users : {} });\n\n\treturn {\n\t\tsubscribe,\n\t\tupdate_playlists: (data) => update(criteria => {\n\t\t\tconst playlists = [];\n\t\t\tdata.forEach(entry => {\n\t\t\t\tplaylists.push({ id : entry.playlist_id, name : entry.playlist_name });\n\t\t\t});\n\t\t\tcriteria.playlists = playlists;\n\t\t\treturn criteria\n\t\t}),\n\t\tupdate_users: (data) => update(criteria => {\n\t\t\tconst users = [];\n\t\t\tdata.forEach(entry => {\n\t\t\t\tusers.push({ id : entry.subm_id, name : entry.subm_name });\n\t\t\t});\n\t\t\tcriteria.users = users;\n\t\t\treturn criteria\n\t\t})\n\t}\n}\n\nfunction createPlaylistFilters() {\n\tconst { subscribe, set, update } = writable([]);\n\n\treturn { \n\t\tsubscribe,\n\t\tadd: (pl) => update(li => { \n\t\t\tif ( !li.includes(pl) ) { return [...li, pl] } else { return li }\n\t\t}),\n\t\tdelete: (pl) => update(li => {\n\t\t\tif ( li.includes(pl) ) { return arrayRemove(li, pl) } else { return li }\n\t\t}),\n\t\ttoggle: (pl) => update(li => {\n\t\t\tif ( li.includes(pl) ) { return arrayRemove(li, pl) } else { return [...li, pl] }\n\t\t}),\n\t\treset: () => set([])\n\t};\n}\n\nfunction createUserFilters() {\n\tconst { subscribe, set, update } = writable([]);\n\n\treturn { \n\t\tsubscribe,\n\t\tadd: (u) => update(li => { \n\t\t\tif ( !li.includes(u) ) { return [...li, u] } else { return li }\n\t\t}),\n\t\tdelete: (u) => update(li => {\n\t\t\tif ( li.includes(u) ) { return arrayRemove(li, u) } else { return li }\n\t\t}),\n\t\ttoggle: (u) => update(li => {\n\t\t\tif ( li.includes(u) ) { return arrayRemove(li, u) } else { return [...li, u] }\n\t\t}),\n\t\treset: () => set([])\n\t};\n}\n\nexport const limit = createLimit();\nexport const list = createList();\nexport const lastTouchedByUpdate = createLastTouchedByUpdate();\nexport const filterCriteria = createFilterCriteria();\nexport const playlistFilters = createPlaylistFilters();\nexport const userFilters = createUserFilters();\n","import { songRequests, playlistRequests } from \"./spotify_utils.js\";\nimport { token } from \"./spotify_utils\";\nimport { Connection } from \"jsstore\";\nimport workerInjector from \"jsstore/dist/worker_injector\";\nimport { get } from \"svelte/store\";\nimport { filterCriteria, playlistFilters, userFilters } from \"../stores.js\";\n\n//function exports\nexport async function updateData () {\n\tawait createConnection();\n\tawait initDatabase();\n\tconst playlists = await updatePlaylists();\n\tconst allSongs = await updateSongs(playlists);\n\tconst fC = await getFilterCriteria();\n\tfilterCriteria.update_users(fC.users);\n\tfilterCriteria.update_playlists(fC.playlists);\n\treturn allSongs['songs'].length != 0\n};\n\nexport async function readData (limit) {\n\tconst result = await getSongs(limit);\n\treturn result\n};\n\n\nexport function deleteData () {\n\tindexedDB.deleteDatabase('sctdb');\n}\n\n//global vars\nlet connection;\nlet playlistsTable;\nlet songsTable;\nlet db;\n\n\n//internal functions\nasync function createConnection() {\n\tconnection = new Connection();\n\tconnection.addPlugin(workerInjector);\n}\n\nasync function initDatabase() {\n\tplaylistsTable = {\n\t\tname: 'playlists',\n\t\tcolumns: {\n\t\t\tid : { primaryKey: true, notNull: true, dataType: 'string' },\n\t\t\tsnapshot : { notNull: true, dataType: 'string' }\n\t\t}\n\t};\n\t\n\tsongsTable = {\n\t\tname: 'songs',\n\t\tcolumns: {\n\t\t\tuid : { primaryKey: true, notNull: true, dataType: 'string' },\n\t\t\tunix : { notNull: true, dataType: 'number' },\n\t\t\tsubm_name : { notNull: true, dataType: 'string' },\n\t\t\tsubm_id : { notNull: true, dataType: 'string' },\n\t\t\tsubm_link : { dataType: 'string' },\n\t\t\tsubm_images : { dataType: 'object' },\n\t\t\tsong_title : { notNull: true, dataType: 'string' },\n\t\t\tsong_link : { dataType: 'string' },\n\t\t\tsong_popularity : { dataType: 'number' },\n\t\t\tsong_duration : { dataType: 'number' },\n\t\t\tsong_islocal : { dataType: 'boolean' },\n\t\t\tsong_id : { dataType: 'string' },\n\t\t\talbum_name : { dataType: 'string' },\n\t\t\talbum_link : { dataType: 'string' },\n\t\t\tartists : { notNull: true, dataType: 'array' },\n\t\t\tplaylist_name : { notNull: true, dataType: 'string' },\n\t\t\tplaylist_link : { notNull: true, dataType: 'string' },\n\t\t\tplaylist_id : { notNull: true, dataType: 'string' }\n\t\t}\n\t};\n\n\tdb = {\n\t\tname : 'sctdb',\n\t\ttables : [ playlistsTable, songsTable ]\n\t};\n\n\tawait connection.initDb(db);\n}\n\n//updateFunctions\nasync function updatePlaylists () {\n\t//connect to database and grab all playlists\n\t//SQL: SELECT * FROM playlists\n\tconst playlistsData = await connection.select({\n\t\tfrom: 'playlists'\n\t});\n\tlet playlists = {};\n\tplaylistsData.forEach(obj => {\n\t\tplaylists[obj.id] = obj.snapshot;\n\t});\n\t//send request to api with current playlist dict\n\tconst json = await playlistRequests(token, playlists);\n\n\t//update playlist table with new information\n\tObject.keys(json['remove']).forEach((key) => {\n\t\t//remove playlists from playlist table\n\t\t//SQL: DELETE FROM playlists WHERE id=key\n\t\tconnection.remove({\n\t\t\tfrom : 'playlists',\n\t\t\twhere : {\n\t\t\t\tid : key\n\t\t\t}\n\t\t});\n\t\t//remove songs of those playlists from songs table\n\t\t//SQL: DELETE FROM songs WHERE playlist_id=key\n\t\tconnection.remove({\n\t\t\tfrom : 'songs',\n\t\t\twhere : {\n\t\t\t\tplaylist_id : key\n\t\t\t}\n\t\t});\n\t});\n\n\tObject.entries(json['update']).forEach((entry) => {\n\t\t//add and update new and existing playlists respectively\n\t\tconst [key, value] = entry;\n\t\tconst row = {\n\t\t\t'id' : key,\n\t\t\t'snapshot' : value\n\t\t};\n\t\t//SQL: INSERT INTO playlists (id, snapshot) VALUES (key, value)\n\t\tconnection.insert({\n\t\t\tinto : 'playlists',\n\t\t\tvalues : [ row ],\n\t\t\tupsert : 'true'\n\t\t});\n\t\t//SQL: DELETE FROM songs WHERE playlist_id=key\n\t\tconnection.remove({\n\t\t\tfrom : 'songs',\n\t\t\twhere : {\n\t\t\t\tplaylist_id : key\n\t\t\t}\n\t\t});\n\t});\n\t//return playlists object from API call for further usage\n\treturn json\n};\n\nasync function updateSongs (playlists) {\n\t//use playlists object from updatePlaylists to fetch \n\tconst json = await songRequests(token, playlists.update);\n\t//update songs table; API response is designed in a manner\n\t//such that the songs key holds an array of songs,\n\t//all of which are objects that match the table row schema\n\tawait connection.insert({\n\t\tinto : 'songs',\n\t\tvalues: json.songs,\n\t\tupsert : 'true' //theoretically not necessary but better safe than sorry!\n\t\t});\n\treturn json\n};\n\n\nasync function getSongs (l) {\n\t//base query\n\tlet query = {\n\t\tfrom : 'songs',\n\t\torder : {\n\t\t\tby : 'unix',\n\t\t\ttype: 'desc'\n\t\t},\n\t\tlimit : l,\n\t\twhere : {}\n\t}\n\t//add filters\n\tlet temp = [];\n\tget(playlistFilters).forEach(element => {temp.push(element.id)});\n\tconst playlist_re = new RegExp(temp.join('|'), 'i');\n\tif (playlist_re != '') { query.where.playlist_id = { regex : playlist_re } }\n\n\ttemp = [];\n\tget(userFilters).forEach(element => {temp.push(element.id)});\n\tconst user_re = new RegExp(temp.join('|'), 'i');\n\tif (user_re != '') { query.where.subm_id = { regex : user_re } }\n\n\tif ( query.where === {} ) { delete query.where };\n\t//SQL: SELECT * FROM songs ORDER BY unix DESC LIMIT l\n\tconst result = await connection.select(query);\n\treturn result\n}\n\n\nasync function getFilterCriteria () {\n\tconst users = await connection.select({\n\t\tfrom : 'songs',\n\t\tgroupBy : 'subm_name'\n\t});\n\n\tconst playlists = await connection.select({\n\t\tfrom : 'songs',\n\t\tgroupBy : 'playlist_name'\n\t});\n\n\treturn { users, playlists }\n}\n","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to compare\n * @param {Date|Number} dateRight - the second date to compare\n * @returns {Number} the result of the comparison\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\n\nexport default function compareAsc(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var diff = dateLeft.getTime() - dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1; // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of calendar months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\n\nexport default function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n  var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n  return yearDiff * 12 + monthDiff;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of milliseconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\n\nexport default function differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getTime() - dateRight.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\n\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\n\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport endOfDay from \"../endOfDay/index.js\";\nimport endOfMonth from \"../endOfMonth/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * var result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\n\nexport default function isLastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  return endOfDay(date).getTime() === endOfMonth(date).getTime();\n}","import toDate from \"../toDate/index.js\";\nimport differenceInCalendarMonths from \"../differenceInCalendarMonths/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport isLastDayOfMonth from \"../isLastDayOfMonth/index.js\";\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of full months\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * var result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\n\nexport default function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  var sign = compareAsc(dateLeft, dateRight);\n  var difference = Math.abs(differenceInCalendarMonths(dateLeft, dateRight));\n  var result; // Check for the difference of less than month\n\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      dateLeft.setDate(30);\n    }\n\n    dateLeft.setMonth(dateLeft.getMonth() - sign * difference); // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n\n    var isLastMonthNotFull = compareAsc(dateLeft, dateRight) === -sign; // Check for cases of one full calendar month\n\n    if (isLastDayOfMonth(toDate(dirtyDateLeft)) && difference === 1 && compareAsc(dirtyDateLeft, dateRight) === 1) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  } // Prevent negative zero\n\n\n  return result === 0 ? 0 : result;\n}","import differenceInMilliseconds from \"../differenceInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @returns {Number} the number of seconds\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\n\nexport default function differenceInSeconds(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / 1000;\n  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);\n}","var formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: 'less than a second',\n    other: 'less than {{count}} seconds'\n  },\n  xSeconds: {\n    one: '1 second',\n    other: '{{count}} seconds'\n  },\n  halfAMinute: 'half a minute',\n  lessThanXMinutes: {\n    one: 'less than a minute',\n    other: 'less than {{count}} minutes'\n  },\n  xMinutes: {\n    one: '1 minute',\n    other: '{{count}} minutes'\n  },\n  aboutXHours: {\n    one: 'about 1 hour',\n    other: 'about {{count}} hours'\n  },\n  xHours: {\n    one: '1 hour',\n    other: '{{count}} hours'\n  },\n  xDays: {\n    one: '1 day',\n    other: '{{count}} days'\n  },\n  aboutXWeeks: {\n    one: 'about 1 week',\n    other: 'about {{count}} weeks'\n  },\n  xWeeks: {\n    one: '1 week',\n    other: '{{count}} weeks'\n  },\n  aboutXMonths: {\n    one: 'about 1 month',\n    other: 'about {{count}} months'\n  },\n  xMonths: {\n    one: '1 month',\n    other: '{{count}} months'\n  },\n  aboutXYears: {\n    one: 'about 1 year',\n    other: 'about {{count}} years'\n  },\n  xYears: {\n    one: '1 year',\n    other: '{{count}} years'\n  },\n  overXYears: {\n    one: 'over 1 year',\n    other: 'over {{count}} years'\n  },\n  almostXYears: {\n    one: 'almost 1 year',\n    other: 'almost {{count}} years'\n  }\n};\nexport default function formatDistance(token, count, options) {\n  options = options || {};\n  var result;\n\n  if (typeof formatDistanceLocale[token] === 'string') {\n    result = formatDistanceLocale[token];\n  } else if (count === 1) {\n    result = formatDistanceLocale[token].one;\n  } else {\n    result = formatDistanceLocale[token].other.replace('{{count}}', count);\n  }\n\n  if (options.addSuffix) {\n    if (options.comparison > 0) {\n      return 'in ' + result;\n    } else {\n      return result + ' ago';\n    }\n  }\n\n  return result;\n}","export default function buildFormatLongFn(args) {\n  return function (dirtyOptions) {\n    var options = dirtyOptions || {};\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}","import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;","var formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: 'P'\n};\nexport default function formatRelative(token, _date, _baseDate, _options) {\n  return formatRelativeLocale[token];\n}","export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, dirtyOptions) {\n    var options = dirtyOptions || {};\n    var context = options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n\n      var _width = options.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    return valuesArray[index];\n  };\n}","export default function buildMatchFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var value;\n\n    if (Object.prototype.toString.call(parsePatterns) === '[object Array]') {\n      value = findIndex(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    } else {\n      value = findKey(parsePatterns, function (pattern) {\n        return pattern.test(matchedString);\n      });\n    }\n\n    value = args.valueCallback ? args.valueCallback(value) : value;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n}\n\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n}","import buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nimport buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function (value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function (index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;","export default function buildMatchPatternFn(args) {\n  return function (dirtyString, dirtyOptions) {\n    var string = String(dirtyString);\n    var options = dirtyOptions || {};\n    var matchResult = string.match(args.matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n\n    if (!parseResult) {\n      return null;\n    }\n\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    return {\n      value: value,\n      rest: string.slice(matchedString.length)\n    };\n  };\n}","import formatDistance from \"./_lib/formatDistance/index.js\";\nimport formatLong from \"./_lib/formatLong/index.js\";\nimport formatRelative from \"./_lib/formatRelative/index.js\";\nimport localize from \"./_lib/localize/index.js\";\nimport match from \"./_lib/match/index.js\";\n/**\n * @type {Locale}\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp]{@link https://github.com/kossnocorp}\n * @author Lesha Koss [@leshakoss]{@link https://github.com/leshakoss}\n */\n\nvar locale = {\n  code: 'en-US',\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0\n    /* Sunday */\n    ,\n    firstWeekContainsDate: 1\n  }\n};\nexport default locale;","import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter'] // Note: in English, the names of days of the week and months are capitalized.\n  // If you are making a new locale based on this one, check if the same is true for the language you're working on.\n  // Generally, formatted dates should look like they are in the middle of a sentence,\n  // e.g. in Spanish language the weekdays and months should be in the lowercase.\n\n};\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\n\nfunction ordinalNumber(dirtyNumber, _dirtyOptions) {\n  var number = Number(dirtyNumber); // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`:\n  //\n  //   var options = dirtyOptions || {}\n  //   var unit = String(options.unit)\n  //\n  // where `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'\n\n  var rem100 = number % 100;\n\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n\n      case 2:\n        return number + 'nd';\n\n      case 3:\n        return number + 'rd';\n    }\n  }\n\n  return number + 'th';\n}\n\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function (quarter) {\n      return Number(quarter) - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;","import assign from \"../assign/index.js\";\nexport default function cloneObject(dirtyObject) {\n  return assign({}, dirtyObject);\n}","export default function assign(target, dirtyObject) {\n  if (target == null) {\n    throw new TypeError('assign requires that input parameter not be null or undefined');\n  }\n\n  dirtyObject = dirtyObject || {};\n\n  for (var property in dirtyObject) {\n    if (dirtyObject.hasOwnProperty(property)) {\n      target[property] = dirtyObject[property];\n    }\n  }\n\n  return target;\n}","import compareAsc from \"../compareAsc/index.js\";\nimport differenceInMonths from \"../differenceInMonths/index.js\";\nimport differenceInSeconds from \"../differenceInSeconds/index.js\";\nimport defaultLocale from \"../locale/en-US/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MINUTES_IN_DAY = 1440;\nvar MINUTES_IN_ALMOST_TWO_DAYS = 2520;\nvar MINUTES_IN_MONTH = 43200;\nvar MINUTES_IN_TWO_MONTHS = 86400;\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `distanceInWords ` to `formatDistance`\n *   to make its name consistent with `format` and `formatRelative`.\n *\n * - The order of arguments is swapped to make the function\n *   consistent with `differenceIn...` functions.\n *\n *   ```javascript\n *   // Before v2.0.0\n *\n *   distanceInWords(\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *\n *   // v2.0.0 onward\n *\n *   formatDistance(\n *     new Date(1986, 3, 4, 11, 32, 0),\n *     new Date(1986, 3, 4, 10, 32, 0),\n *     { addSuffix: true }\n *   ) //=> 'in about 1 hour'\n *   ```\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.includeSeconds=false] - distances less than a minute are more detailed\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport default function formatDistance(dirtyDate, dirtyBaseDate) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  requiredArgs(2, arguments);\n  var locale = options.locale || defaultLocale;\n\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain formatDistance property');\n  }\n\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var localizeOptions = cloneObject(options);\n  localizeOptions.addSuffix = Boolean(options.addSuffix);\n  localizeOptions.comparison = comparison;\n  var dateLeft;\n  var dateRight;\n\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n\n  var seconds = differenceInSeconds(dateRight, dateLeft);\n  var offsetInSeconds = (getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft)) / 1000;\n  var minutes = Math.round((seconds - offsetInSeconds) / 60);\n  var months; // 0 up to 2 mins\n\n  if (minutes < 2) {\n    if (options.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance('lessThanXSeconds', 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance('lessThanXSeconds', 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance('lessThanXSeconds', 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance('halfAMinute', null, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance('lessThanXMinutes', 1, localizeOptions);\n      } else {\n        return locale.formatDistance('xMinutes', minutes, localizeOptions);\n      }\n    } // 2 mins up to 0.75 hrs\n\n  } else if (minutes < 45) {\n    return locale.formatDistance('xMinutes', minutes, localizeOptions); // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance('aboutXHours', 1, localizeOptions); // 1.5 hrs up to 24 hrs\n  } else if (minutes < MINUTES_IN_DAY) {\n    var hours = Math.round(minutes / 60);\n    return locale.formatDistance('aboutXHours', hours, localizeOptions); // 1 day up to 1.75 days\n  } else if (minutes < MINUTES_IN_ALMOST_TWO_DAYS) {\n    return locale.formatDistance('xDays', 1, localizeOptions); // 1.75 days up to 30 days\n  } else if (minutes < MINUTES_IN_MONTH) {\n    var days = Math.round(minutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions); // 1 month up to 2 months\n  } else if (minutes < MINUTES_IN_TWO_MONTHS) {\n    months = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('aboutXMonths', months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft); // 2 months up to 12 months\n\n  if (months < 12) {\n    var nearestMonth = Math.round(minutes / MINUTES_IN_MONTH);\n    return locale.formatDistance('xMonths', nearestMonth, localizeOptions); // 1 year up to max Date\n  } else {\n    var monthsSinceStartOfYear = months % 12;\n    var years = Math.floor(months / 12); // N years up to 1 years 3 months\n\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance('aboutXYears', years, localizeOptions); // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance('overXYears', years, localizeOptions); // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance('almostXYears', years + 1, localizeOptions);\n    }\n  }\n}","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, animation, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","import { writable } from 'svelte/store'\n\nconst createToast = () => {\n  const { subscribe, update } = writable([])\n  let count = 0\n  let defaults = {}\n  const push = (msg, opts = {}) => {\n    const entry = { id: ++count, msg: msg, ...defaults, ...opts, theme: { ...defaults.theme, ...opts.theme } }\n    update(n => entry.reversed ? [...n, entry] : [entry, ...n])\n    return count\n  }\n  const pop = id => {\n    update(n => id ? n.filter(i => i.id !== id) : n.splice(1))\n  }\n  const set = (id, obj) => {\n    update(n => {\n      const idx = n.findIndex(i => i.id === id)\n      if (idx > -1) {\n        n[idx] = { ...n[idx], ...obj }\n      }\n      return n\n    })\n  }\n  const _opts = (obj = {}) => {\n    defaults = { ...defaults, ...obj, theme: { ...defaults.theme, ...obj.theme } }\n    return defaults\n  }\n  return { subscribe, push, pop, set, _opts }\n}\n\nexport const toast = createToast()\n","import { writable } from '../store/index.mjs';\nimport { now, loop, assign } from '../internal/index.mjs';\nimport { linear } from '../easing/index.mjs';\n\nfunction is_date(obj) {\n    return Object.prototype.toString.call(obj) === '[object Date]';\n}\n\nfunction tick_spring(ctx, last_value, current_value, target_value) {\n    if (typeof current_value === 'number' || is_date(current_value)) {\n        // @ts-ignore\n        const delta = target_value - current_value;\n        // @ts-ignore\n        const velocity = (current_value - last_value) / (ctx.dt || 1 / 60); // guard div by 0\n        const spring = ctx.opts.stiffness * delta;\n        const damper = ctx.opts.damping * velocity;\n        const acceleration = (spring - damper) * ctx.inv_mass;\n        const d = (velocity + acceleration) * ctx.dt;\n        if (Math.abs(d) < ctx.opts.precision && Math.abs(delta) < ctx.opts.precision) {\n            return target_value; // settled\n        }\n        else {\n            ctx.settled = false; // signal loop to keep ticking\n            // @ts-ignore\n            return is_date(current_value) ?\n                new Date(current_value.getTime() + d) : current_value + d;\n        }\n    }\n    else if (Array.isArray(current_value)) {\n        // @ts-ignore\n        return current_value.map((_, i) => tick_spring(ctx, last_value[i], current_value[i], target_value[i]));\n    }\n    else if (typeof current_value === 'object') {\n        const next_value = {};\n        for (const k in current_value) {\n            // @ts-ignore\n            next_value[k] = tick_spring(ctx, last_value[k], current_value[k], target_value[k]);\n        }\n        // @ts-ignore\n        return next_value;\n    }\n    else {\n        throw new Error(`Cannot spring ${typeof current_value} values`);\n    }\n}\nfunction spring(value, opts = {}) {\n    const store = writable(value);\n    const { stiffness = 0.15, damping = 0.8, precision = 0.01 } = opts;\n    let last_time;\n    let task;\n    let current_token;\n    let last_value = value;\n    let target_value = value;\n    let inv_mass = 1;\n    let inv_mass_recovery_rate = 0;\n    let cancel_task = false;\n    function set(new_value, opts = {}) {\n        target_value = new_value;\n        const token = current_token = {};\n        if (value == null || opts.hard || (spring.stiffness >= 1 && spring.damping >= 1)) {\n            cancel_task = true; // cancel any running animation\n            last_time = now();\n            last_value = new_value;\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        else if (opts.soft) {\n            const rate = opts.soft === true ? .5 : +opts.soft;\n            inv_mass_recovery_rate = 1 / (rate * 60);\n            inv_mass = 0; // infinite mass, unaffected by spring forces\n        }\n        if (!task) {\n            last_time = now();\n            cancel_task = false;\n            task = loop(now => {\n                if (cancel_task) {\n                    cancel_task = false;\n                    task = null;\n                    return false;\n                }\n                inv_mass = Math.min(inv_mass + inv_mass_recovery_rate, 1);\n                const ctx = {\n                    inv_mass,\n                    opts: spring,\n                    settled: true,\n                    dt: (now - last_time) * 60 / 1000\n                };\n                const next_value = tick_spring(ctx, last_value, value, target_value);\n                last_time = now;\n                last_value = value;\n                store.set(value = next_value);\n                if (ctx.settled) {\n                    task = null;\n                }\n                return !ctx.settled;\n            });\n        }\n        return new Promise(fulfil => {\n            task.promise.then(() => {\n                if (token === current_token)\n                    fulfil();\n            });\n        });\n    }\n    const spring = {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe,\n        stiffness,\n        damping,\n        precision\n    };\n    return spring;\n}\n\nfunction get_interpolator(a, b) {\n    if (a === b || a !== a)\n        return () => a;\n    const type = typeof a;\n    if (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n        throw new Error('Cannot interpolate values of different type');\n    }\n    if (Array.isArray(a)) {\n        const arr = b.map((bi, i) => {\n            return get_interpolator(a[i], bi);\n        });\n        return t => arr.map(fn => fn(t));\n    }\n    if (type === 'object') {\n        if (!a || !b)\n            throw new Error('Object cannot be null');\n        if (is_date(a) && is_date(b)) {\n            a = a.getTime();\n            b = b.getTime();\n            const delta = b - a;\n            return t => new Date(a + t * delta);\n        }\n        const keys = Object.keys(b);\n        const interpolators = {};\n        keys.forEach(key => {\n            interpolators[key] = get_interpolator(a[key], b[key]);\n        });\n        return t => {\n            const result = {};\n            keys.forEach(key => {\n                result[key] = interpolators[key](t);\n            });\n            return result;\n        };\n    }\n    if (type === 'number') {\n        const delta = b - a;\n        return t => a + t * delta;\n    }\n    throw new Error(`Cannot interpolate ${type} values`);\n}\nfunction tweened(value, defaults = {}) {\n    const store = writable(value);\n    let task;\n    let target_value = value;\n    function set(new_value, opts) {\n        if (value == null) {\n            store.set(value = new_value);\n            return Promise.resolve();\n        }\n        target_value = new_value;\n        let previous_task = task;\n        let started = false;\n        let { delay = 0, duration = 400, easing = linear, interpolate = get_interpolator } = assign(assign({}, defaults), opts);\n        if (duration === 0) {\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            store.set(value = target_value);\n            return Promise.resolve();\n        }\n        const start = now() + delay;\n        let fn;\n        task = loop(now => {\n            if (now < start)\n                return true;\n            if (!started) {\n                fn = interpolate(value, new_value);\n                if (typeof duration === 'function')\n                    duration = duration(value, new_value);\n                started = true;\n            }\n            if (previous_task) {\n                previous_task.abort();\n                previous_task = null;\n            }\n            const elapsed = now - start;\n            if (elapsed > duration) {\n                store.set(value = new_value);\n                return false;\n            }\n            // @ts-ignore\n            store.set(value = fn(easing(elapsed / duration)));\n            return true;\n        });\n        return task.promise;\n    }\n    return {\n        set,\n        update: (fn, opts) => set(fn(target_value, value), opts),\n        subscribe: store.subscribe\n    };\n}\n\nexport { spring, tweened };\n","<script>\nimport { tweened } from 'svelte/motion'\nimport { linear } from 'svelte/easing'\nimport { toast } from './stores.js'\n\nexport let item\n\nconst progress = tweened(item.initial, { duration: item.duration, easing: linear })\n\nlet prevProgress = item.initial\n\n$: if (prevProgress !== item.progress) {\n  if (item.progress === 1 || item.progress === 0) {\n    progress.set(item.progress).then(() => toast.pop(item.id))\n  } else {\n    progress.set(item.progress)\n  }\n  prevProgress = item.progress\n}\n</script>\n\n<style>\n._toastItem {\n  width: var(--toastWidth,16rem);\n  height: var(--toastHeight,auto);\n  min-height: var(--toastMinHeight,3.5rem);\n  margin: var(--toastMargin,0 0 0.5rem 0);\n  background: var(--toastBackground,rgba(66,66,66,0.9));\n  color: var(--toastColor,#FFF);\n  box-shadow: var(--toastBoxShadow,0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06));\n  border-radius: var(--toastBorderRadius,0.125rem);\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  will-change: transform,opacity;\n  -webkit-tap-highlight-color: transparent;\n}\n._toastMsg {\n  padding: var(--toastMsgPadding,0.75rem 0.5rem);\n  flex: 1 1 0%;\n}\n._toastMsg :global(a) {\n  pointer-events: auto;\n}\n._toastBtn {\n  width: 2rem;\n  height: 100%;\n  font: 1rem sans-serif;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  outline: none;\n  pointer-events: auto;\n}\n._toastBar {\n  display: block;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  border: none;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 6px;\n  background: transparent;\n}\n._toastBar::-webkit-progress-bar {\n  background: transparent;\n}\n._toastBar::-webkit-progress-value {\n  background: var(--toastProgressBackground,rgba(33,150,243,0.75));\n}\n._toastBar::-moz-progress-bar {\n  background: var(--toastProgressBackground,rgba(33,150,243,0.75));\n}\n</style>\n\n<div class=\"_toastItem\">\n  <div class=\"_toastMsg\">\n    {@html item.msg}\n  </div>\n\n  {#if item.dismissable}\n  <div class=\"_toastBtn\" role=\"button\" tabindex=\"-1\" on:click={() => toast.pop(item.id)}>✕</div>\n  {/if}\n\n  <progress class=\"_toastBar\" value={$progress}></progress>\n</div>\n","<script>\nimport { fade, fly } from 'svelte/transition'\nimport { flip } from 'svelte/animate'\nimport { toast } from './stores.js'\nimport ToastItem from './ToastItem.svelte'\n\nexport let options = {}\nconst defaults = {\n  duration: 4000,\n  dismissable: true,\n  initial: 1,\n  progress: 0,\n  reversed: false,\n  intro: { x: 256 },\n  theme: {}\n}\ntoast._opts(defaults)\n$: toast._opts(options)\n\nconst getCss = theme => Object.keys(theme).reduce((a, c) => `${a}${c}:${theme[c]};`, '')\n</script>\n\n<style>\nul {\n  top: var(--toastContainerTop,1.5rem);\n  right: var(--toastContainerRight,2rem);\n  bottom: var(--toastContainerBottom,auto);\n  left: var(--toastContainerLeft,auto);\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n  pointer-events: none;\n  z-index: 9999;\n}\n</style>\n\n<ul>\n  {#each $toast as item (item.id)}\n  <li\n    in:fly={item.intro}\n    out:fade\n    animate:flip={{ duration: 200 }}\n    style={getCss(item.theme)}\n    >\n    <ToastItem {item} />\n  </li>\n  {/each}\n</ul>\n","<script>\n\timport { readData } from \"../utils/data.js\";\n\timport { filterCriteria, playlistFilters, userFilters, limit, list, lastTouchedByUpdate } from \"../stores.js\"; \n\n\tfunction test(pl) {\n\t\tplaylistFilters.toggle(pl);\n\t\tlet current = [];\n\t\t$playlistFilters.forEach(x => {\n\t\t\tcurrent.push(x.name);\n\t\t});\n\t\tconsole.log(current);\n\t\treadData($limit)\n\t\t\t.then(rows => {\n\t\t\t\tlist.set(rows);\n\t\t\t\tlastTouchedByUpdate.yes();\n\t\t\t});\n\t}\n\n\tfunction test2(pl) {\n\t\tuserFilters.toggle(pl);\n\t\tlet current = [];\n\t\t$userFilters.forEach(x => {\n\t\t\tcurrent.push(x.name);\n\t\t});\n\t\tconsole.log(current);\n\t\treadData($limit)\n\t\t\t.then(rows => {\n\t\t\t\tlist.set(rows);\n\t\t\t\tlastTouchedByUpdate.yes();\n\t\t\t});\n\t}\n</script>\n\n{#each $filterCriteria.playlists as pl}\n\t<button on:click={() => test(pl)}>{pl.name}</button>\n{/each}\n{#each $filterCriteria.users as u}\n\t<button on:click={() => test2(u)}>{u.name}</button>\n{/each}\n","<script>\n\timport { onMount } from 'svelte';\n\timport InfiniteLoading from 'svelte-infinite-loading';\n\timport { readData, updateData } from '../utils/data.js';\n\timport { formatDistance } from 'date-fns';\n\timport { toast } from '@zerodevx/svelte-toast';\n\timport { fly } from 'svelte/transition';\n\timport { flip } from 'svelte/animate';\n\timport { quintOut } from 'svelte/easing';\n\timport { pushURL } from '../../settings.js';\n\timport { limit, list, lastTouchedByUpdate } from '../stores.js';\n\timport Filters from './Filters.svelte';\n\n\tconsole.log('limit', $limit);\n\n\t//remove auth url params\n\thistory.pushState({}, 'feed', pushURL);\n\n\tfunction infiniteHandler({ detail : { loaded, complete }}) {\n\t\treadData($limit).\n\t\t\tthen(rows => {\n\t\t\t\tif (rows.length == $list.length && $lastTouchedByUpdate == false) {\n\t\t\t\t\tcomplete();\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('calling load feed');\n\t\t\t\t\tconsole.log(rows);\n\t\t\t\t\tlimit.increment();\n\t\t\t\t\tconsole.log($limit);\n\t\t\t\t\tlist.set(rows);\n\t\t\t\t\tlastTouchedByUpdate.no();\n\t\t\t\t\tloaded();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tfunction timeAgo(unix) {\n\t\tconst time = formatDistance(new Date(unix), new Date(), { addSuffix : true })\n\t\treturn time\n\t}\n\n\tfunction checkSeperator(artists, i) {\n\t\tif (artists.length-1 == i) {return ''}\n\t\telse if (artists.length-2 == i) {return ' & '}\n\t\telse {return ', '}}\n\n\tonMount(() => {\n\t\tsetInterval(() => {\n\t\t\tconsole.log('Fetching new data...');\n\t\t\tupdateData().then(result => {\n\t\t\t\tif (result) {\n\t\t\t\t\treadData($limit).\n\t\t\t\t\t\tthen(rows => {\n\t\t\t\t\t\t\tlist.set(rows);\n\t\t\t\t\t\t\tlastTouchedByUpdate.yes();\n\t\t\t\t\t\t}).\n\t\t\t\t\t\tthen(toast.push('Yo, someone did something!'))\n\t\t\t\t}\n\t\t\t});\n\t\t}, 120000)\n\t\tsetInterval(() => {\n\t\t\tlist.refresh();\n\t\t}, 60000)\n\t});\n\n\n</script>\n\n<main>\n\n\t{#await updateData()}\n\t\t<p>fetching your collaborative playlists from spotify.\n\t\t<br>\n\t\t<br>\n\t\tif this is your first time launching this page, this might take a while.\n\t\t</p>\n\t{:then}\n\t\t<Filters/>\n\t\t{#each $list as s (s.uid)}\n\t\t\t<div animate:flip=\"{{duration:2000, easing: quintOut}}\">\n\t\t\t<div in:fly=\"{{duration:3000,x:-300,opacity:0,easing: quintOut}}\">\n\t\t\t\t<h1><a href={s.song_link} target='_blank'>{s.song_title}</a></h1>\n\t\t\t\t<h2>by \n\t\t\t\t\t{#each s.artists as {name, link}, i}\n\t\t\t\t\t\t<a href={link} target='_blank'>{name}</a>{checkSeperator(s.artists, i)}\n\t\t\t\t\t{/each}\n\t\t\t\t</h2>\n\t\t\t\t<h3>added to <a href={s.playlist_link} target='_blank'>{s.playlist_name}</a> \n\t\t\t\t\tby <a href={s.subm_link} target='_blank'><b>{s.subm_name}</b></a> {timeAgo(s.unix)}\n\t\t\t\t</h3>\n\t\t\t\t<br>\n\t\t\t\t<br>\n\t\t\t</div>\n\t\t\t</div>\n\t\t{/each}\n\t\t<InfiniteLoading on:infinite={infiniteHandler} spinner='wavedots' />\n\t{/await}\n</main>\n\n<style>\n\n\th1 {\n\t\tcolor: indianred;\n\t\tfont-size: 2em;\n\t}\n\n\th2 {\n\t\tcolor: dimgrey;\t\n\t\tfont-size: 1.5em;\n\t}\n\n\th3 {\n\t\tcolor: dimgrey;\n\t\tfont-size: 1em;\n\t}\n\n\ta {\n\t\tcolor: indianred;\n\t}\t\n\n</style>\n","<script>\n\timport { deleteData } from '../utils/data.js'\n\timport { toast } from '@zerodevx/svelte-toast';\n\n\tconst clearData = () => {\n\t\tdeleteData();\n\t\ttoast.push('All your data has been deleted!');\n\t};\n\n</script>\n<h1>\n\thow is my data accessed?\n\t<p>\n\t\tonce you've logged in via spotify and granted the required permissions all the requests are sent from <b>your browser directly to spotify</b>. this means none of your private spotify data is ever accessed by the server hosting this website.\n\t</p>\nhow is my data stored?\n<p>\n\tall of your data is stored <b>locally</b> inside your browser (indexedDB). this is only done to keep the number of requests as low as possible. you can delete the locally stored information at any point by via your browser or clicking <button on:click={clearData}><b>here</b></button>.\n</p>\ndoes this page store cookies?\n<p>no.</p>\ni'm still not sure...\n<p>\n\tif you have any remaining concerns, feel free to check out the <a href='https://github.com/sebastian-stubenvoll/spotify-collab-tracker' target='_blank'><b>source code</b></a>.\n</p>\n\t</h1>\n\n\n<style>\n\th1 {\n\t\tcolor: indianred;\n\t\tfont-size: 2em;\n\t}\n\n\tp {\n\t\tcolor: dimgrey;\n\t\tfont-size: 0.5em;\n\t\tfont-weight: 100;\n\t\tfont-family: Georgia, 'Times New Roman', Times, serif;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\ta {\n\t\tcolor: inherit;\n\t\tfont-weight: 1000;\n\t}\n\n\ta:hover {\n\t\ttext-decoration: none;\n\t}\n\n\tbutton {\n\t\tfont-size: inherit;\n\t\tbackground: inherit;\n\t\tcolor: inherit;\n\t\tpadding: inherit;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t}\n\n\tbutton:hover {\n\t\ttext-decoration: none;\n\t}\n\n\tbutton:focus {\n\t\tbackground: none;\n\t}\n</style>\n","<script>\n\texport let onClose;\n</script>\n\n<button on:click={onClose}>×</button>\n\n<style>\n\tbutton {\n\t\tborder: none;\n\t\tbackground: none;\n\t\tposition: absolute;\n\t\ttop: 0rem;\n\t\tright: 0.9rem;\n\t\tz-index: 1000;\n\t\tborder-radius: 100%;\n\t\tfont-size: 1.5em;\n\t}\n\n\tbutton:active {\n\t\tbackground: none;\n\t}\n</style>\n","<script>\n\timport { createAuthURL } from '../utils/spotify_utils.js';\n\timport { fly } from 'svelte/transition';\n\timport { quadOut } from 'svelte/easing';\n\timport { getContext } from 'svelte';\n\timport About from '../modals/About.svelte';\n\timport Privacy from '../modals/Privacy.svelte';\n\timport CloseButton from '../modals/CloseButton.svelte';\n\n\tconst authURL = createAuthURL();\n\tlet y;\n\tconst { open } = getContext('simple-modal')\n\n\tconst showAbout = () => open(About, {}, {closeButton: CloseButton});\n\tconst showPrivacy = () => open(Privacy, {}, {closeButton: CloseButton});\n\n\n</script>\n\n<svelte:head>\n\t<link rel=\"stylesheet\" href=\"login.css\">\n</svelte:head>\n\n<svelte:window bind:innerHeight={y}/>\n\n{#await authURL}\n\t<h1> </h1>\n{:then url}\n\t<h1>\n\t\t<p in:fly=\"{{duration: 2000, y:y/3, opacity:0, easing:quadOut}}\">\n\t\t\t<a href={url}>login with spotify</a>\n\t\t\t<br>\n\t\t\t<button on:click={showPrivacy}>privacy</button><button on:click={showAbout}>about</button>\n\t\t</p>\n\t</h1>\n{/await}\n\n<style>\n\th1 {\n\t\tcolor: #f1f2f0;\n\t\tfont-size: 4em;\n\t\tmargin: 0;\n\t\tposition: relative;\n\t\ttop: 10%;\n\t}\n\n\ta {\n\t\tcolor: #f1f2f0;\n\t}\n\ta:hover {\n\t\ttext-decoration: none;\n\t}\n\n\tbutton {\n\t\tfont-size: 0.4em;\n\t\tbackground: none;\n\t\tcolor: #f1f2f0;\n\t\tpadding: 0.6em;\n\t\tborder: none;\n\t\tcursor: pointer;\n\t}\n\n\tbutton:hover {\n\t\ttext-decoration: none;\n\t}\n\n\tbutton:focus {\n\t\tbackground: none;\n\t}\n</style>\n\n\n\n\n\n\n","<!-- v0.10.1 -->\n\n<script context=\"module\">\n  export function bind(Component, props = {}) {\n    return function ModalComponent(options) {\n      return new Component({\n        ...options,\n        props: {\n          ...props,\n          ...options.props\n        }\n      });\n    };\n  }\n</script>\n\n<script>\n  import * as svelte from 'svelte';\n  import { fade } from 'svelte/transition';\n  import { createEventDispatcher } from \"svelte\";\n\n  const dispatch = createEventDispatcher();\n\n  const baseSetContext = svelte.setContext;\n\n  export let show = null;\n\n  export let key = 'simple-modal';\n  export let closeButton = true;\n  export let closeOnEsc = true;\n  export let closeOnOuterClick = true;\n  export let styleBg =  {};\n  export let styleWindowWrap = {};\n  export let styleWindow = {};\n  export let styleContent = {};\n  export let styleCloseButton = {};\n  export let setContext = baseSetContext;\n  export let transitionBg = fade;\n  export let transitionBgProps = { duration: 250 };\n  export let transitionWindow = transitionBg;\n  export let transitionWindowProps = transitionBgProps;\n\n  const defaultState = {\n    closeButton,\n    closeOnEsc,\n    closeOnOuterClick,\n    styleBg,\n    styleWindowWrap,\n    styleWindow,\n    styleContent,\n    styleCloseButton,\n    transitionBg,\n    transitionBgProps,\n    transitionWindow,\n    transitionWindowProps,\n  };\n  let state = { ...defaultState };\n\n  let Component = null;\n\n  let background;\n  let wrap;\n  let modalWindow;\n  let scrollY;\n  let cssBg;\n  let cssWindowWrap;\n  let cssWindow;\n  let cssContent;\n  let cssCloseButton;\n  let currentTransitionBg;\n  let currentTransitionWindow;\n  let prevBodyPosition;\n  let prevBodyOverflow;\n\n  const camelCaseToDash = str => str\n    .replace(/([a-zA-Z])(?=[A-Z])/g, '$1-').toLowerCase();\n\n  const toCssString = (props) => Object.keys(props)\n    .reduce((str, key) => `${str}; ${camelCaseToDash(key)}: ${props[key]}`, '');\n\n  const isFunction = f => !!(f && f.constructor && f.call && f.apply);\n\n  const updateStyleTransition = () => {\n    cssBg = toCssString(state.styleBg);\n    cssWindowWrap = toCssString(state.styleWindowWrap);\n    cssWindow = toCssString(state.styleWindow);\n    cssContent = toCssString(state.styleContent);\n    cssCloseButton = toCssString(state.styleCloseButton);\n    currentTransitionBg = state.transitionBg;\n    currentTransitionWindow = state.transitionWindow;\n  };\n\n  const toVoid = () => {};\n  let onOpen = toVoid;\n  let onClose = toVoid;\n  let onOpened = toVoid;\n  let onClosed = toVoid;\n\n  const open = (\n    NewComponent,\n    newProps = {},\n    options = {},\n    callback = {}\n  ) => {\n    Component = bind(NewComponent, newProps);\n    state = { ...defaultState, ...options };\n    updateStyleTransition();\n    disableScroll();\n    onOpen = (event) => {\n      if (callback.onOpen) callback.onOpen(event);\n      dispatch('open');\n      dispatch('opening'); // Deprecated. Do not use!\n    },\n    onClose = (event) => {\n      if (callback.onClose) callback.onClose(event);\n      dispatch('close');\n      dispatch('closing'); // Deprecated. Do not use!\n    },\n    onOpened = (event) => {\n      if (callback.onOpened) callback.onOpened(event);\n      dispatch('opened');\n    };\n    onClosed = (event) => {\n      if (callback.onClosed) callback.onClosed(event);\n      dispatch('closed');\n    };\n  };\n\n  const close = (callback = {}) => {\n    onClose = callback.onClose || onClose;\n    onClosed = callback.onClosed || onClosed;\n    Component = null;\n    enableScroll();\n  };\n\n  const handleKeydown = (event) => {\n    if (state.closeOnEsc && Component && event.key === 'Escape') {\n      event.preventDefault();\n      close();\n    }\n\n    if (Component && event.key === 'Tab') {\n      // trap focus\n      const nodes = modalWindow.querySelectorAll('*');\n      const tabbable = Array.from(nodes).filter(node => node.tabIndex >= 0);\n\n      let index = tabbable.indexOf(document.activeElement);\n      if (index === -1 && event.shiftKey) index = 0;\n\n      index += tabbable.length + (event.shiftKey ? -1 : 1);\n      index %= tabbable.length;\n\n      tabbable[index].focus();\n      event.preventDefault();\n    }\n  };\n\n  const handleOuterClick = (event) => {\n    if (\n      state.closeOnOuterClick && (\n        event.target === background || event.target === wrap\n      )\n    ) {\n      event.preventDefault();\n      close();\n    }\n  };\n\n  const disableScroll = () => {\n    scrollY = window.scrollY;\n    prevBodyPosition = document.body.style.position;\n    prevBodyOverflow = document.body.style.overflow;\n    document.body.style.position = 'fixed';\n    document.body.style.top = `-${scrollY}px`;\n    document.body.style.overflow = 'hidden';\n  };\n\n  const enableScroll = () => {\n    document.body.style.position = prevBodyPosition || '';\n    document.body.style.top = '';\n    document.body.style.overflow = prevBodyOverflow || '';\n    window.scrollTo(0, scrollY);\n  };\n\n  setContext(key, { open, close });\n\n  $: {\n    if (isFunction(show)) {\n      open(show);\n    } else {\n      close();\n    }\n  }\n\n  svelte.onDestroy(() => {\n    close();\n  });\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  .bg {\n    position: fixed;\n    z-index: 1000;\n    top: 0;\n    left: 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.66);\n  }\n\n  .window-wrap {\n    position: relative;\n    margin: 2rem;\n    max-height: 100%;\n  }\n\n  .window {\n    position: relative;\n    width: 40rem;\n    max-width: 100%;\n    max-height: 100%;\n    margin: 2rem auto;\n    color: black;\n    border-radius: 0.5rem;\n    background: white;\n  }\n\n  .content {\n    position: relative;\n    padding: 1rem;\n    max-height: calc(100vh - 4rem);\n    overflow: auto;\n  }\n\n  .close {\n    display: block;\n    box-sizing: border-box;\n    position: absolute;\n    z-index: 1000;\n    top: 1rem;\n    right: 1rem;\n    margin: 0;\n    padding: 0;\n    width: 1.5rem;\n    height: 1.5rem;\n    border: 0;\n    color: black;\n    border-radius: 1.5rem;\n    background: white;\n    box-shadow: 0 0 0 1px black;\n    transition: transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n                background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);\n    -webkit-appearance: none;\n  }\n\n  .close:before, .close:after {\n    content: '';\n    display: block;\n    box-sizing: border-box;\n    position: absolute;\n    top: 50%;\n    width: 1rem;\n    height: 1px;\n    background: black;\n    transform-origin: center;\n    transition: height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n                background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);\n  }\n\n  .close:before {\n    -webkit-transform: translate(0, -50%) rotate(45deg);\n    -moz-transform: translate(0, -50%) rotate(45deg);\n    transform: translate(0, -50%) rotate(45deg);\n    left: 0.25rem;\n  }\n\n  .close:after {\n    -webkit-transform: translate(0, -50%) rotate(-45deg);\n    -moz-transform: translate(0, -50%) rotate(-45deg);\n    transform: translate(0, -50%) rotate(-45deg);\n    left: 0.25rem;\n  }\n\n  .close:hover {\n    background: black;\n  }\n\n  .close:hover:before, .close:hover:after {\n    height: 2px;\n    background: white;\n  }\n\n  .close:focus {\n    border-color: #3399ff;\n    box-shadow: 0 0 0 2px #3399ff;\n  }\n\n  .close:active {\n    transform: scale(0.9);\n  }\n\n  .close:hover, .close:focus, .close:active {\n    outline: none;\n  }\n</style>\n\n<svelte:window on:keydown={handleKeydown}/>\n\n{#if Component}\n  <div\n    class=\"bg\"\n    on:click={handleOuterClick}\n    bind:this={background}\n    transition:currentTransitionBg={state.transitionBgProps}\n    style={cssBg}\n  >\n    <div class=\"window-wrap\" bind:this={wrap} style={cssWindowWrap}>\n      <div\n        class=\"window\"\n        role=\"dialog\"\n        aria-modal=\"true\"\n        bind:this={modalWindow}\n        transition:currentTransitionWindow={state.transitionWindowProps}\n        on:introstart={onOpen}\n        on:outrostart={onClose}\n        on:introend={onOpened}\n        on:outroend={onClosed}\n        style={cssWindow}\n      >\n        {#if state.closeButton}\n          {#if isFunction(state.closeButton)}\n            <svelte:component this={state.closeButton} onClose={close} />\n          {:else}\n            <button on:click={close} class=\"close\" style={cssCloseButton} />\n          {/if}\n        {/if}\n        <div class=\"content\" style={cssContent}>\n          <svelte:component this={Component} />\n        </div>\n      </div>\n    </div>\n  </div>\n{/if}\n<slot></slot>\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","<script>\n\timport Feed from './components/Feed.svelte';\n\timport Login from './components/Login.svelte';\n\n\timport { SvelteToast } from '@zerodevx/svelte-toast';\n\timport Modal from './components/Modal.svelte';\n\n\timport { getAccessToken } from './utils/spotify_utils.js';\n\timport queryString from 'query-string';\n\n\tconst options = { duration: 10000 }\n\tlet token_valid;\n\n\tasync function checkToken () {\n\t\tconst paramCheck = await getParams();\n\t\tif (!paramCheck) {\n\t\t\ttoken_valid = false;\n\t\t\treturn\n\t\t}\n\t\ttoken_valid = true;\n\t}\t\t\t\n\n\tasync function getParams () {\n\t\tif (typeof window !== 'undefined') {\n\t\t\tconst parsed = queryString.parse(window.location.search);\n\t\t\tif (parsed.code) {\n\t\t\t\tconst success = await getAccessToken(parsed);\n\t\t\t\tif (success) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n\n\tconst validity = checkToken();\n\n</script>\n\n\t<Modal>\n\t<main>\n\t\t{#await validity}\n\t\t\tchecking spotify access!\n\t\t{:then}\n\t\t\t{#if !token_valid}\n\t\t\t\t<Login/>\n\t\t\t{:else}\n\t\t\t\t<Feed/>\n\t\t\t{/if}\n\t\t{/await}\n\t</main>\n\t<SvelteToast {options}/>\n\t</Modal>\n\n<style>\n\t:root {\n\t\t--toastBackground: indianred;\n\t\t--toastColor: white;\n\t\t--toastProgressBackground: white;\n\t}\n\n\t@media (min-width: 640px) {\n\tmain {\n\t\tmax-width: none;\n\t}\n\t}\n</style>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n});\n\nexport default app;\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_data","wholeText","custom_event","type","detail","e","createEvent","initCustomEvent","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","style","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","create_animation","from","params","to","getBoundingClientRect","left","right","top","bottom","easing","start","start_time","end","tick","css","running","started","stop","fix_position","getComputedStyle","position","width","height","add_transform","transform","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","call","setContext","key","context","set","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","flushing","seen_callbacks","update","pop","has","fragment","before_update","after_update","wait","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","animation_name","config","cleanup","go","end_time","invalidate","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","group","handle_promise","info","token","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","error","catch","hasCatch","pending","globals","globalThis","global","fix_and_destroy_block","lookup","destroy_block","fix_and_outro_and_destroy_block","outro_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","destroy","create_each_block","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","get","will_move","did_move","first","new_block","old_block","new_key","old_key","create_component","mount_component","customElement","new_on_destroy","map","destroy_component","instance","create_fragment","not_equal","props","parent_component","bound","on_disconnect","skip_bound","ready","ret","rest","fill","make_dirty","hydrate","nodes","Array","childNodes","children","l","SvelteComponent","$destroy","this","$on","splice","$set","$$props","obj","$$set","keys","spinner","ERROR_INFINITE_LOOP","thirdEventArg","result","arg","defineProperty","passive","remove","throttler","timers","caches","throttle","setTimeout","shift","reset","timer","clearTimeout","loopTracker","isChecked","times","track","console","scrollBarStorage","getScrollElement","documentElement","save","scrollHeight","restore","scrollTop","isVisible","offsetWidth","offsetHeight","STATUS","thisElement","scrollParent","distance","forceUseInfiniteWrapper","identifier","isFirstLoad","status","mounted","stateChanger","loaded","attemptLoad","complete","scrollHandler","constructor","Event","isContinuousCall","pageYOffset","innerHeight","getCurrentDistance","getScrollParent","querySelector","tagName","overflowY","hasAttribute","updateScrollParent","showSpinner","showError","showNoResults","showNoMore","dec2hex","dec","toString","substr","generateRandomString","array","Uint32Array","crypto","getRandomValues","async","challenge_from_verifier","v","hashed","plain","TextEncoder","encode","subtle","digest","sha256","btoa","String","fromCharCode","apply","Uint8Array","replace","clientID","redirect_uri","refresh","expires_in","refresh_interval","createAuthURL","cID","encodeURIComponent","s","localStorage","setItem","ps","scope","createChallenge","createVerifier","refreshAccessToken","clearInterval","log","postBody","details","grant_type","refresh_token","client_id","property","encodedKey","encodedValue","res","fetch","method","headers","body","json","access_token","setInterval","authHeader","auth","Authorization","getUsername","subm_id","url","display_name","images","module","modules","installedModules","__webpack_require__","moduleId","exports","getter","enumerable","Symbol","toStringTag","mode","__esModule","ns","bind","object","prototype","hasOwnProperty","__webpack_exports__","connection_Connection","ERROR_TYPE","WORKER_STATUS","DATA_TYPE","API","EVENT","QUERY_OPTION","IDB_MODE","OCCURENCE","CONNECTION_STATUS","promiseAll","promiseResolve","forObj","LogHelper","_info","message","getMsg","throw","msg","logError","logWarning","warn","extendStatics","__spreadArray","il","j","EventBus","_events","_ctx","on","off","emit","_this","args","_i","arguments","events","results","callMethod","eventCb","checkAndCall","connection_helper_ConnectionHelper","ConnectionHelper","worker","isConOpened_","isDbIdle_","requestQueue_","isCodeExecuting_","inactivityTimer_","middlewares","eventBus_","whiteListApi_","InitDb","OpenDb","Get","ChangeLogStatus","Terminate","DropDb","isRuningInWorker","logger","worker_","onmessage","onMessageFromWorker_","initQueryManager_","$worker","self","configurable","workerRef","jsstoreWorker","queryManager","QueryManager","processFinishedQuery_","finishedRequest","onError","terminate","CloseDb","openDb_","RequestQueueEmpty","onSuccess","executeQry_","prcoessExecutionOfQry_","query","database","version","err","executeMiddleware_","input","lastIndex","callNextMiddleware","promiseResult","callResultMiddleware","modifiedResult","pushApi","request","reject","onResult","RequestQueueFilled","requestQueueLength","sendRequestToWorker_","allowedQueryIndex","findIndex","item","requestForWorker","postMessage","__extends","setPrototypeOf","__proto__","TypeError","__","_super","Connection","initDb","dataBase","promiseObj","db","isCreated","oldVersion","Upgrade","newVersion","Create","Open","dropDb","select","Select","count","Count","Insert","Update","Remove","tableName","Clear","openDb","dbName","getDbList","indexedDB","databases","transaction","Transaction","eventCallBack","union","Union","intersect","Intersect","addPlugin","plugin","setup","addMiddleware","middleware","forWorker","Middleware","importScripts","urls","ImportScripts","promises","all","require$$1","query_manager_QueryManager","TableMeta","table","columns","autoIncColumnValue","setColumn","alter","tableColumns","_loop_1","columnName","column","autoIncrement","this_1","primaryKey","enableSearch","existingColumnIndex","q","existingColumn","meta_helper_MetaHelper","MetaHelper","autoIncrementKey","util","tx","createTransaction","objectStore","rej","req","put","onsuccess","onerror","keyRange","dbSchema","db_meta_DbMeta","tables","log_helper_LogHelper","info_","getMsg_","errMsg","NotArray","UndefinedColumn","UndefinedValue","UndefinedColumnName","UndefinedDbName","UndefinedColumnValue","NoValueSupplied","InvalidOp","ColumnNotExist","EnableSearchOff","NullValue","WrongDataType","TableNotExist","DbNotExist","NotObject","DbBlocked","NullValueInWhere","MethodNotExist","IndexedDbNotSupported","InvalidJoinQuery","InvalidGroupQuery","InvalidOrderQuery","ImportScriptsFailed","InvalidMiddleware","Unknown","idbutil_IDBUtil","IDBUtil","emptyTx","oncomplete","onabort","createTransactionIfNotExist","ReadWrite","con","op","Between","IDBKeyRange","low","high","GreaterThan","lowerBound","GreaterThanEqualTo","LessThan","upperBound","LessThanEqualTo","only","abortTransaction","close","isDbCreated","dbVersion","dbOpenRequest","open","onversionchange","onupgradeneeded","upgradeConnection","storeNames","objectStoreNames","addColumn","unique","multiEntry","keyPath","createIndex","deleteColumn","deleteIndex","contains","option","createObjectStore","alterQuery","drop","modify","shouldDelete","targetColumn","find","newColumn","promiseReject","getError","base_Base","Base","rowAffected","isTxQuery","getColumnInfo","onException","ex","InvalidQuery","getErrorFromException","getDataType","Null","isArray","DateTime","isNull","isNaN","values_checker_ValuesChecker","ValuesChecker","autoIncValues","autoIncrementValue","checkAndModifyValues","values","ignoreIndexes","every","checkAndModifyValue","ignore","checkAndModifyColumnValue_","checkNotNullAndDataType_","notNull","ColumnName","dataType","columnValue","Number","default","validation","schema_checker_SchemaChecker","SchemaChecker","check","setValue","tblName","checkByColumn_","checkFurther","allowedOp","prop","query_helper_QueryHelper","QueryHelper","validate","api","checkSelect","checkInsertQuery","checkUpdate","getTable_","isInsertQryValid","into","in","where","checkForNullInWhere_","addGreatAndLessToNotOp_","whereQuery","containsNot","qry","NotEqualTo","addToSingleQry","Or","queryKeys","whereTmpQry_1","_a","whereTmp_1","qryKeys","validResult","skipDataCheck","insert_Insert","valuesAffected_","execute","insertData_","return","onInsertData","addMethod","idbMethod","upsert","addResult","IS_WORKER","alert","ServiceWorkerGlobalScope","IS_IDB_SUPPORTED","mozIndexedDB","webkitIndexedDB","msIndexedDB","IDBTransaction","webkitIDBTransaction","msIDBTransaction","webkitIDBKeyRange","msIDBKeyRange","setCrossBrowserIndexedDb","getKeys","getLength","getObjectFirstKey","then_evaluator_ThenEvaluator","ThenEvaluator","setCaseAndValue","caseQuery","caseQuery_","setCaseAndColumn","columnName_","caseColumnQuery_","length_","evaluate","checkCase_","lastThen","cond","queryOption","Equal","executeSkipAndLimit","onFinished","cursor","recordSkipped","limitRecord","pushResult","continue","advance","skipRecord","executeSkip","executeSimple","executeLimit","removeSpace","getOrderColumnInfo","orderColumn","splittedByDot","valueFromFirstColumn","isOrder","compareStringInDesc_","localeCompare","compareStringinAsc_","compareDefaultInDesc_","compareDefaultinAsc_","compareNumberInDesc_","compareNumberinAsc_","compareDateInDesc_","getTime","compareDateInAsc_","getValInDesc_","value1","value2","thenEvaluator","column1","column2","getValInAsc_","getValueComparer_","order","orderBy_","getOrderType_","by","sort","columnInfo","orderMethod_1","case","toLowerCase","executeSkipAndLimitForWhere_","onFinish","shouldAddValue","executeSkipForWhere_","executeLimitForWhere_","executeSimpleForWhere_","getRegexFromLikeExpression","likeExpression","filterValue","occurence","filterValues","Any","Last","First","RegExp","clone_isObject","clone","copy","compare","compareValue","symbol","type1","where_checker_WhereChecker","WhereChecker","checkFlag","last","reduce","prev","curr","rowValue","whereColumnValue","In","checkIn","Like","checkLike_","Regex","checkRegex","checkComparisionOp_","test","base_fetch_extends","base_fetch_BaseFetch","BaseFetch","shouldEvaluateLimitAtEnd","shouldEvaluateSkipAtEnd","goToWhereLogic","firstColumn","indexNames","whereCheckerInstance","executeWhereLogic","regexVal","executeRegexLogic","executeInLogic","Aggregate","executeSkipAndLimitForIn_","skipOrPush","executeSkipForIn_","executeSimpleForIn_","executeSkipAndLimitForRegex_","executeSkipForRegex_","executeLimitForRegex_","executeSimpleForRegex_","__assign","join_Join","Join","joinQueryStack_","currentQueryStackIndex_","tablesFetched","getTable","executeSelect","select_Select","tablesToFetch","length_1","jointblInfo","getJoinTableInfo_","with","table1","table2","checkJoinQuery_","joinTableInfo","flatten","startExecutingJoinLogic_","onJoinQueryFinished_","results_1","tablesLength_1","mapWithAlias_1","as","setLimitAndSkipEvaluationAtEnd_","processOrderBy","processGroupDistinctAggr","joinQuery","jointblInfo_1","jointables","joinType","secondtableData","valueMatchedFromSecondTable","callBack","columnDefaultValue","table1Index","table2Index","col","valueFromFirstTable","valueFromSecondTable","performInnerJoin","joinOn","splittedjoinOn","splittedjoinOnbydotFirst","splittedjoinOnbydotSecond","tableSchemaOf1stTable","tableSchemaOf2ndTable","columnFound","select_extends","select_assign","sorted","isSubQuery","returnResult_","flattendData_1","indexToDelete_1","itemsDeleted_1","concat","skip","limit","setPushResult","isArrayQry","idbSorting","groupBy","initTransaction_","processWhereArrayQry","processWhere_","executeWhereUndefinedLogic","executeJoinQuery","operation","pKey","isFirstWhere","output","And","andResults","keyValue","removeDuplicates","processFirstQry","ReadOnly","or","processOrLogic_","onWhereEvaluated","isOr","orQuerySuccess_","orQueryFinish_","orInfo","orQuery","val","columnStore","cursorRequest","openCursor","orderType","dir","exp","datas","lookupObject","distinct","aggregate","executeAggregateGroupBy","processGroupBy","processAggregateQry","orderQueryType","prevOrderQueryBy","currentOrderQuery","currentorderQueryBy","orderColumnDetail","orderMethod_2","columnToAggregate","datasLength","getCount","getMax","getMin","Infinity","getSum","getAvg","aggregateColumn","aggregateValType","aggregateCalculator","grpQry","objKey","lookUpObj","aggregateQry","calculateAggregate","sumOfColumn","Max","Min","Sum","Avg","avg","sumForAvg","countForAvg","sum","isCountTypeString","isSumTypeString","avgColumn","groupByColumn","count_extends","count_Count","resultCount","queryHelper","getDataFromSelect","selectInstance","countRequest","cursor_1","updateValue","suppliedValue","storedValue","update_extends","update_Update","initTransaction","executeComplexLogic_","selectObject","ignoreCase","_b","inQuery","whereQry","cursorUpdateRequest","cursorOpenRequest","value_1","intersect_extends","intersect_assign","intersect_Intersect","intersectQry","getHashKey","hashMap","hashMapTemp","isQueryForSameTable","queries","queryLength","pKey_1","columnValKey","fetchData","selectResult","key_1","resultPusher","skip_1","limit_1","shouldStopLoop_1","pushResult_1","checkLimitAndPush_1","skipChecker_1","drop_db_DropDb","dropDbRequest","deleteDatabase","onblocked","union_extends","union_Union","remove_extends","remove_Remove","keyList","pkey","Where","processOrLogic","_orInfo","OrQuery","columnIndex","clear_extends","clear_Clear","clearRequest","currentTable","variableFromPath","path","transaction_extends","transaction_Transaction","reqQueue","isQueryExecuting","isTxStarted_","startExecution_","notExistingTable","notExistingTable_","methodName","txLogic","pushReq_","setResult","getResult","abortTx_","startTx_","tableNames","processExecutionOfQry_","onReqFinished_","finisehdRequest","executeRequest_","requestObj","onReqFinished","invalidTable","userDbSchema","tableAsObj","onQryFinished","middlewareContext","executeQuery","queryResult","closeDb","importScripts_","pResult","dbMeta","dbInfo","manager_1","connection","param","subscriber_queue","writable","subscribers","new_value","run_queue","subscriber","arrayRemove","arr","ele","increment","createLimit","li","createList","lastTouchedByUpdate","yes","no","createLastTouchedByUpdate","filterCriteria","playlists","users","update_playlists","criteria","entry","id","playlist_id","playlist_name","update_users","subm_name","createFilterCriteria","playlistFilters","pl","includes","toggle","createPlaylistFilters","userFilters","u","createUserFilters","updateData","workerInjector","createConnection","playlistsTable","snapshot","songsTable","unix","subm_link","subm_images","song_title","song_link","song_popularity","song_duration","song_islocal","song_id","album_name","album_link","artists","playlist_link","initDatabase","playlistsData","playlists_input","endpoint","send","delta","items","pid","psn","snapshot_id","collaborative","playlistRequests","entries","row","updatePlaylists","allSongs","market","fields","altparams","usernames","container","URL","current_params","search","URLSearchParams","tracks","ts","added_at","parse","added_by","external_urls","spotify","tr_title","tr_link","tr_popularity","popularity","tr_islocal","is_local","tr_id","tr_duration","duration_ms","alb_name","album","alb_link","pl_name","pl_link","pl_id","artist","link","songs","songRequests","updateSongs","fC","getFilterCriteria","readData","temp","playlist_re","regex","user_re","getSongs","requiredArgs","required","toDate","argument","argStr","stack","NaN","getTimezoneOffsetInMilliseconds","date","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","compareAsc","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","diff","differenceInCalendarMonths","yearDiff","monthDiff","differenceInMilliseconds","endOfDay","dirtyDate","setHours","endOfMonth","month","setFullYear","isLastDayOfMonth","differenceInMonths","sign","difference","setDate","setMonth","isLastMonthNotFull","differenceInSeconds","floor","ceil","formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","dirtyOptions","defaultWidth","formats","formatLong","full","long","medium","short","time","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","dirtyIndex","valuesArray","formattingValues","defaultFormattingWidth","_defaultWidth","_width","argumentCallback","buildMatchFn","dirtyString","string","matchPattern","matchPatterns","defaultMatchWidth","matchResult","match","matchedString","parsePatterns","defaultParseWidth","predicate","pattern","findKey","valueCallback","locale","code","formatDistance","addSuffix","comparison","formatRelative","_date","_baseDate","_options","localize","ordinalNumber","dirtyNumber","_dirtyOptions","number","rem100","era","narrow","abbreviated","wide","quarter","day","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","parseInt","parseResult","any","weekStartsOn","firstWeekContainsDate","cloneObject","dirtyObject","MINUTES_IN_DAY","MINUTES_IN_MONTH","cubicOut","quadOut","quintOut","fade","linear","opacity","fly","y","target_opacity","od","flip","scaleX","clientWidth","scaleY","clientHeight","dx","dy","sqrt","_t","toast","defaults","opts","theme","reversed","idx","_opts","createToast","is_date","get_interpolator","bi","interpolators","dismissable","progress","target_value","previous_task","interpolate","elapsed","tweened","initial","prevProgress","$playlistFilters","$limit","rows","test2","$userFilters","checkSeperator","history","pushState","$list","$lastTouchedByUpdate","dirtyBaseDate","defaultLocale","RangeError","localizeOptions","Boolean","months","seconds","offsetInSeconds","minutes","round","includeSeconds","hours","days","nearestMonth","monthsSinceStartOfYear","years","onClose","authURL","About","closeButton","CloseButton","Privacy","transitionWindowProps","transitionBgProps","baseSetContext","svelte.setContext","show","closeOnEsc","closeOnOuterClick","styleBg","styleWindowWrap","styleWindow","styleContent","styleCloseButton","transitionBg","transitionWindow","defaultState","background","wrap","modalWindow","scrollY","cssBg","cssWindowWrap","cssWindow","cssContent","cssCloseButton","currentTransitionBg","currentTransitionWindow","prevBodyPosition","prevBodyOverflow","state","Component","toCssString","camelCaseToDash","isFunction","toVoid","onOpen","onOpened","onClosed","NewComponent","newProps","disableScroll","enableScroll","overflow","scrollTo","svelte.onDestroy","preventDefault","querySelectorAll","tabbable","tabIndex","activeElement","shiftKey","focus","singleMatcher","multiMatcher","decodeComponents","components","decodeURIComponent","decode","tokens","encodedURI","replaceMap","exec","customDecodeURIComponent","separator","separatorIndex","isArr","validateArrayFormatSeparator","strict","toUpperCase","decodeComponent","keysSorter","removeHash","hashStart","extract","queryStart","parseValue","parseNumbers","trim","parseBooleans","arrayFormat","arrayFormatSeparator","formatter","accumulator","isEncodedArray","newValue","arrayValue","parserForArrayFormat","splitOnFirst","shouldFilter","skipNull","skipEmptyString","keyValueSep","encoderForArrayFormat","objectCopy","url_","parseFragmentIdentifier","fragmentIdentifier","queryFromUrl","parsedQueryFromUrl","queryString","stringify","getHash","parseUrl","stringifyUrl","filterObject","exclusionFilter","pick","token_valid","validity","parsed","location","getItem","code_verifier","removeItem","getAccessToken","getParams","checkToken"],"mappings":"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"}